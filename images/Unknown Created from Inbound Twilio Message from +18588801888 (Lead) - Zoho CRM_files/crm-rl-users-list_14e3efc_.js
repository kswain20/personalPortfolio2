Lyte.Component.register("crm-rl-users-list",{_template:'<template tag-name="crm-rl-users-list"> <template is="if" value="{{expHandlers(mailObj.module,\'==\',&quot;Potentials&quot;)}}"><template case="true"> <input type="hidden" name="contId" id="contId" value="{{mailObj.entIdForZMail}}"> </template></template> <input type="hidden" id="emailId" value="{{email}}"> <input type="hidden" id="fullname" value="{{fullName}}"> <input type="hidden" name="mailType" id="mailType" value="{{encodeForHTMLAttribute(mailObj.mailType)}}"> <input type="hidden" id="isMailAppsFlow" value="{{mailObj.isMailAppsFlow}}"> <span> <input type="hidden" value="{{rid}}" id="mailListRelId" name="mailListRelId"> </span> <div class="rLETabsElement "> <div class="rLETabsList dIB f15"> <ul class="cP"> <li class="selectTab" id="mails" data-zcqa="mailsTab" onclick="{{action(\'showMailsList\')}}"><span>{{getI18n(\'crm.label.mails\')}}</span></li> <template is="if" value="{{expHandlers(expHandlers(mailObj.drafts,\'==\',true),\'&amp;&amp;\',expHandlers(expHandlers(mailObj.module,\'!=\',&quot;Accounts&quot;),\'||\',expHandlers(expHandlers(mailObj.module,\'==\',&quot;Accounts&quot;),\'&amp;&amp;\',expHandlers(mailObj.contacts_details,\'!=\',undefined))))}}"><template case="true"> <li id="draftMails" data-zcqa="draftsTab" onclick="{{action(\'showMailsList\')}}"><span>{{getI18n(\'crm.label.drafts\')}}</span></li> </template></template> <template is="if" value="{{expHandlers(expHandlers(expHandlers(mailObj.module,\'==\',&quot;Accounts&quot;),\'&amp;&amp;\',expHandlers(mailObj.contacts_details,\'==\',undefined)),\'!\')}}"><template case="true"> <li id="scheduledMails" data-zcqa="scheduledTab" onclick="{{action(\'showMailsList\')}}"><span>{{getI18n(\'crm.label.schedulemail\')}}</span></li> </template></template> </ul> </div> <template is="if" value="{{expHandlers(expHandlers(mailObj.mailConfigured,\'&amp;&amp;\',ifNotInventoryModule(mailObj.module)),\'&amp;&amp;\',isDealWithoutContact(mailObj))}}"><template case="true"> <input type="hidden" id="isALLOptOnly" value="{{mailObj.all_emails}}"> <div id="relatedMailList" class="optionsListRLE dIB fR pR10 mT7"> <lyte-dropdown name="selectMails" id="selectMails" class="crmBoxDropdown eRL_dropButFS" lt-prop-selected="{{getSelValue(getUserStatus(\'IMAP_STATUS\'),mailObj)}}" on-option-selected="{{method(\'showMailsList\')}}" style="visibility:hidden"> <template is="registerYield" yield-name="yield"> <lyte-drop-box class="crmBoxDropbox eRl_dropLableStyle"> <lyte-drop-body> <lyte-drop-item data-value="ALL">{{getI18n(\'crm.label.all.sent\')}}</lyte-drop-item> <template is="if" value="{{mailObj.isMailAppsFlow}}"><template case="true"> <template is="if" value="{{mailObj.all_emails}}"><template case="true"> <lyte-drop-item data-value="ALL_MAIL_VIEW">{{getI18n(\'crm.imap.all\')}}</lyte-drop-item> </template></template> <template is="if" value="{{mailObj.all_imap_shared_users}}"><template case="true"> <lyte-drop-item data-value="IMAP_ALL">{{getI18n(\'crm.imap.shared.users\')}}</lyte-drop-item> </template></template> <template is="if" value="{{mailObj.all_pop_shared_users}}"><template case="true"> <lyte-drop-item data-value="POP_ALL">{{getI18n(\'crm.pop.shared.users\')}}</lyte-drop-item> </template></template> </template><template case="false"> <template is="if" value="{{mailObj.all_emails}}"><template case="true"> <lyte-drop-item data-value="IMAP_ALL">{{getI18n(\'crm.imap.all\')}}</lyte-drop-item> </template><template case="false"><template is="if" value="{{mailObj.all_imap_shared_users}}"><template case="true"> <lyte-drop-item data-value="IMAP_ALL">{{getI18n(\'crm.imap.shared.users\')}}</lyte-drop-item> </template></template></template></template></template></template> <template is="if" value="{{mailObj.imap_users}}"><template case="true"> <lyte-drop-group type="2" label="{{getI18n(\'crm.mailapps.imap.shared.users\')}}" id="imapUsers"> <template is="for" items="{{mailObj.imap_users}}" item="user" index="index"> <lyte-drop-item data-value="{{user.user_id}}_{{user.user_name}}"><lyte-text lt-prop-value="{{user.user_name}}"> </lyte-text></lyte-drop-item> </template> </lyte-drop-group> </template></template> <template is="if" value="{{mailObj.pop_users}}"><template case="true"> <lyte-drop-group type="1" label="{{getZohoMailUsersLabel()}}" id="zmailPublicUsers"> <template is="for" items="{{mailObj.pop_users}}" item="user" index="index"> <lyte-drop-item data-value="{{user.user_id}}_{{user.user_name}}"><lyte-text lt-prop-value="{{user.user_name}}"> </lyte-text></lyte-drop-item> </template> </lyte-drop-group> </template></template> <template is="if" value="{{mailObj.gmail_users}}"><template case="true"> <lyte-drop-group type="3" label="{{getI18n(\'crm.mailapps.gmail.shared.users\')}}" id="gmailAPIUsers"> <template is="for" items="{{mailObj.gmail_users}}" item="user" index="index"> <lyte-drop-item data-value="{{user.user_id}}_{{user.user_name}}"><lyte-text lt-prop-value="{{user.user_name}}"> </lyte-text></lyte-drop-item> </template> </lyte-drop-group> </template></template> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> </div> </template></template> <template is="if" value="{{expHandlers(mailObj.module,\'==\',&quot;Accounts&quot;)}}"><template case="true"><template is="if" value="{{expHandlers(expHandlers(mailObj.contacts_details,\'!=\',undefined),\'||\',expHandlers(mailObj.all_contacts_emails,\'==\',true))}}"><template case="true"> <div class="optionsListRLE dIB fR pR10 mT7"> <lyte-dropdown id="contactSelDropdownInAcc" class="crmBoxDropdown eRL_dropButFS" lt-prop-selected="{{getAccountsDropDownSelValue(mailObj)}}" on-option-selected="{{method(\'showMailsList\')}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-box class="crmBoxDropbox eRl_dropLableStyle"> <lyte-drop-body> <template is="if" value="{{expHandlers(mailObj.all_contacts_emails,\'==\',true)}}"><template case="true"><template is="if" value="{{mailObj.mailConfigured}}"><template case="true"> <lyte-drop-item data-value="ALL">{{getI18n(\'crm.label.all.contacts.email.sent\')}}</lyte-drop-item> </template><template case="false"> <lyte-drop-item data-value="ALL">{{getI18n(\'crm.label.all\')}}</lyte-drop-item> </template></template> </template></template> <template is="if" value="{{expHandlers(mailObj.contacts_details,\'!=\',undefined)}}"><template case="true"><template is="for" items="{{mailObj.contacts_details}}" item="contact" index="index"><template is="if" value="{{ifAnyMatch(contact.email,\'!=\',&quot;&quot;,contact.secondary_email,\'!=\',&quot;&quot;)}}"><template case="true"> <lyte-drop-item data-value="{{encodeForHTMLAttribute(contact.id)}}" data-email="{{stringJoin(contact.email,contact.secondary_email)}}"><lyte-text lt-prop-value="{{contact.name}}"> </lyte-text></lyte-drop-item> </template></template> </template></template></template> <lyte-drop-item data-value="ACCOUNTS_ALL">{{getI18n(\'crm.label.all.accounts.email.sent\')}}</lyte-drop-item> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> </div> </template></template></template></template> <template is="if" value="{{expHandlers(mailObj.module,\'==\',&quot;Accounts&quot;)}}"><template case="true"><template is="if" value="{{expHandlers(mailObj.contacts_details,\'!=\',undefined)}}"><template case="true"> <div class="optionsListRLE dIB fR pR10 mT7"> <lyte-dropdown data-zcqa="accountsScheduled" class="eRL_dropButFS" name="accountsScheduled" id="accountsScheduled" on-option-selected="{{method(\'showMailsList\')}}" lt-prop-selected="{{getAccountsDropDownSelValue(mailObj)}}" style="display: none;"> <template is="registerYield" yield-name="yield"> <lyte-drop-box class="crmBoxDropbox eRl_dropLableStyle"> <lyte-drop-body> <template is="if" value="{{expHandlers(mailObj.all_contacts_emails,\'==\',true)}}"><template case="true"><template is="if" value="{{mailObj.mailConfigured}}"><template case="true"> <lyte-drop-item data-value="ALL">{{getI18n(\'crm.label.all.contacts.email.scheduled\')}}</lyte-drop-item> </template><template case="false"> <lyte-drop-item data-value="ALL">{{getI18n(\'crm.label.all\')}}</lyte-drop-item> </template></template></template></template> <template is="for" items="{{mailObj.contacts_details}}" item="contact" index="index"><template is="if" value="{{ifAnyMatch(contact.email,\'!=\',&quot;&quot;,contact.secondary_email,\'!=\',&quot;&quot;)}}"><template case="true"> <lyte-drop-item data-value="{{encodeForHTMLAttribute(contact.id)}}" data-email="{{stringJoin(contact.email,contact.secondary_email)}}"><lyte-text lt-prop-value="{{contact.name}}"> </lyte-text></lyte-drop-item> </template></template> </template> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> </div> </template></template><template is="if" value="{{expHandlers(expHandlers(mailObj.drafts,\'==\',true),\'&amp;&amp;\',expHandlers(mailObj.contacts_details,\'!=\',undefined))}}"><template case="true"> <div class="optionsListRLE dIB fR pR10 mT7"> <lyte-dropdown data-zcqa="accountsDrafts" name="accountsDrafts" class="eRL_dropButFS" id="accountsDrafts" on-option-selected="{{method(\'showMailsList\')}}" lt-prop-selected="{{getAccountsDropDownSelValue(mailObj)}}" style="display: none;"> <template is="registerYield" yield-name="yield"> <lyte-drop-box class="crmBoxDropbox eRl_dropLableStyle"> <lyte-drop-body> <template is="if" value="{{expHandlers(mailObj.all_contacts_emails,\'==\',true)}}"><template case="true"><template is="if" value="{{mailObj.mailConfigured}}"><template case="true"> <lyte-drop-item data-value="ALL">{{getI18n(\'crm.label.all.contacts.email.drafts\')}}</lyte-drop-item> </template><template case="false"> <lyte-drop-item data-value="ALL">{{getI18n(\'crm.label.all\')}}</lyte-drop-item> </template></template></template></template> <template is="for" items="{{mailObj.contacts_details}}" item="contact" index="index"><template is="if" value="{{ifAnyMatch(contact.email,\'!=\',&quot;&quot;,contact.secondary_email,\'!=\',&quot;&quot;)}}"><template case="true"> <lyte-drop-item data-value="{{encodeForHTMLAttribute(contact.id)}}" data-email="{{stringJoin(contact.email,contact.secondary_email)}}"><lyte-text lt-prop-value="{{contact.name}}"> </lyte-text></lyte-drop-item> </template></template> </template> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> </div> </template></template></template></template> <template is="if" value="{{getUserStatus(&quot;IMAP_STATUS&quot;)}}"><template case="true"><template is="if" value="{{mailObj.mailConfigured}}"><template case="true"><template is="if" value="{{expHandlers(expHandlers(expHandlers(mailObj.module,\'==\',&quot;Potentials&quot;),\'&amp;&amp;\',expHandlers(mailObj.entIdForZMail,\'!=\',null)),\'&amp;&amp;\',expHandlers(mailObj.entIdForZMail,\'!=\',mailObj.entityId))}}"><template case="true"> <div class="optionsListRLE dIB fR pR10 mT7"> <lyte-dropdown data-zcqa="dealOnlyDropDown" class="eRL_dropButFS" name="dealOnlyDropDown" id="dealOnlyDropDown" on-option-selected="{{method(\'changeEmailsViewForDeals\',this)}}" lt-prop-selected="dealsOnly"> <template is="registerYield" yield-name="yield"> <lyte-drop-box class="crmBoxDropbox eRl_dropLableStyle"> <lyte-drop-body> <lyte-drop-item data-value="dealsOnly">{{getModule(\'crm.relatedList.deals.ddown.deal\',\'Potentials\')}}</lyte-drop-item> <lyte-drop-item data-value="{{mailObj.entIdForZMail}}">{{getModule(\'crm.relatedList.deals.ddown.contact\',\'Contacts\')}}</lyte-drop-item> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> </div> </template></template></template></template></template></template> </div> <div class="rLESelectAction crm-rl-write-action" style="display:none;"> <span class="erLselectedCount col222 mR15 f15"><span class="crm-font-bold">{{selectedMailsCount}}</span> <span id="selectedText"></span></span> <div class="dIB f15 col222"> <span class="erlclearlink cP f14" onclick="{{action(\'clearSelectedEmails\',this)}}" data-zcqa="clearButton" style="color: #317dcc">{{getI18n(\'crm.title.clear.name\')}}</span> <lyte-button id="deleteMailsButton" lt-prop-class="redbtn bt-smallbtn mL8" onclick="{{action(\'showDeletePopup\',this)}}" data-zcqa="deleteButton"> <template is="registerYield" yield-name="text"> {{getI18n(\'Delete\')}} </template> </lyte-button> </div> </div> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"attr",position:[3]},{type:"attr",position:[5]},{type:"attr",position:[7]},{type:"attr",position:[9]},{type:"attr",position:[11,1]},{type:"attr",position:[13,1,1,1]},{type:"text",position:[13,1,1,1,0,0]},{type:"attr",position:[13,1,1,3]},{type:"if",position:[13,1,1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0,0]}]}},default:{}},{type:"attr",position:[13,1,1,5]},{type:"if",position:[13,1,1,5],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0,0]}]}},default:{}},{type:"attr",position:[13,3]},{type:"if",position:[13,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[3,1]},{type:"registerYield",position:[3,1,1],dynamicNodes:[{type:"text",position:[1,1,1,0]},{type:"componentDynamic",position:[1,1,1]},{type:"attr",position:[1,1,3]},{type:"if",position:[1,1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[5]},{type:"if",position:[5],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]}},default:{}},{type:"attr",position:[1,1,5]},{type:"if",position:[1,1,5],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,0]},{type:"componentDynamic",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,1,7]},{type:"if",position:[1,1,7],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,0]},{type:"componentDynamic",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,1,9]},{type:"if",position:[1,1,9],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,0]},{type:"componentDynamic",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3,1]}]}},default:{}},{type:"attr",position:[13,5]},{type:"if",position:[13,5],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"registerYield",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,1,3]},{type:"if",position:[1,1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"for",position:[0],dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,0]},{type:"componentDynamic",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}}]}]}},default:{}},{type:"text",position:[1,1,5,0]},{type:"componentDynamic",position:[1,1,5]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]}]}},default:{}}]}},default:{}},{type:"attr",position:[13,7]},{type:"if",position:[13,7],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"registerYield",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,1,3]},{type:"for",position:[1,1,3],dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,0]},{type:"componentDynamic",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]}]}},default:{}},{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"registerYield",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,1,3]},{type:"for",position:[1,1,3],dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,0]},{type:"componentDynamic",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]}]}},default:{}}]}},default:{}},{type:"attr",position:[13,9]},{type:"if",position:[13,9],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"registerYield",position:[1,1,1],dynamicNodes:[{type:"text",position:[1,1,1,0]},{type:"componentDynamic",position:[1,1,1]},{type:"attr",position:[1,1,3]},{type:"text",position:[1,1,3,0]},{type:"componentDynamic",position:[1,1,3]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]}]}},default:{}}]}},default:{}}]}},default:{}},{type:"text",position:[15,1,0,0]},{type:"attr",position:[15,3,1]},{type:"text",position:[15,3,1,0]},{type:"attr",position:[15,3,3]},{type:"registerYield",position:[15,3,3,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[15,3,3]}],_observedAttributes:["rid","isRecordLocked","mailObj","users"],data:function(){return{rid:Lyte.attr("string"),isRecordLocked:Lyte.attr("boolean"),mailObj:Lyte.attr("object"),users:Lyte.attr("object")}},actions:{showMailsList:function(){showMailsListViaAPI("","-10","next",null,$(event.target).parent().attr("id"))},clearSelectedEmails:function(t){selectAllMails(t)},showDeletePopup:function(t){showDeletePopup("mailsSub","crm.button.move.to.trash","","",t,!0)}},methods:{showMailsList:function(t,e){showMailsListViaAPI(e,"-10","next",null)},changeEmailsViewForDeals:function(t){EntityEmail.changeEmailsViewForDeals(t)}}}),Lyte.Component.registerHelper("getSplitValues",(function(t,e,a){return t.split(e)[a]})),Lyte.Component.registerHelper("ifNotInventoryModule",(function(t){return"Quotes"!=t&&"Invoices"!=t&&"PurchaseOrders"!=t&&"SalesOrders"!=t})),Lyte.Component.registerHelper("getZohoMailUsersLabel",(function(){return I18n.getMsg("crm.zmail.public.users",Crm.brandName)})),Lyte.Component.registerHelper("getSelValue",(function(t,e,a,i){var o="ALL";if(!("Quotes"==a||"Invoices"==a||"Sales_Orders"==a||"Purchase_Orders"==a)){if(1!=e.all_contacts_emails||i){if(null!=e.imap_users&&e.imap_users.length>0)e.imap_users.forEach((function(t,e){t.hasOwnProperty("selected")&&(o=t.user_id+"_"+t.user_name)}));if(null!=e.pop_users&&e.pop_users.length>0)e.pop_users.forEach((function(t,e){t.hasOwnProperty("selected")&&(o=t.user_id+"_"+t.user_name)}));if(null!=e.gmail_users&&e.gmail_users.length>0)e.gmail_users.forEach((function(t,e){t.hasOwnProperty("selected")&&(o=t.user_id+"_"+t.user_name)}))}e.isMailAppsFlow&&e.all_emails&&(o="ALL_MAIL_VIEW"),"ALL"==o&&t&&(1!=e.all_contacts_emails||i)&&("Accounts"!=a||"Accounts"==a&&null!=e.contacts_details)&&("Accounts"!=e.module||"Accounts"==e.module&&e.hasOwnProperty("contacts_details"))&&(o="IMAP_ALL")}return o})),Lyte.Component.registerHelper("getAccountsDropDownSelValue",(function(t){return t.selectedContact?t.selectedContact:1==t.all_contacts_emails?"ALL":null!=t.contacts_details[0]?$ESAPI.encoder().encodeForHTMLAttribute(t.contacts_details[0].id):"ACCOUNTS_ALL"})),Lyte.Component.registerHelper("isDealWithoutContact",(function(t){return t&&("Potentials"!=t.module||"Potentials"==t.module&&null!=t.entIdForZMail&&t.entIdForZMail!=t.entityId)}));
