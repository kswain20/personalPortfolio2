store.registerModel("emails_rl_user",{users:Lyte.attr("object"),emails:Lyte.attr("object"),content:Lyte.attr("string",{primaryKey:!0})}),store.registerAdapter("emails_rl_user",{namespace:"crm",buildURL:function(e,t,r,a,l,s,i){switch(i.action){case"getUsers":l=l.replace("emails_rl_user","v2/"+i.module+"/"+i.entityId+"/Emails/shared_details");break;case"getEmails":l=l.replace("emails_rl_user","v2.2/"+i.module+"/"+i.entityId+"/Emails");break;case"getEmailDetails":l=l.replace("emails_rl_user","v2/"+i.module+"/"+i.entityId+"/Emails")}return l}}),store.registerSerializer("emails_rl_user",{normalizeResponse:function(e,t,r,a,l,s,i,_){if("findAll"==t&&200==l){var n={};"string"==typeof r&&JSON.parse(r),r&&r.email_related_list&&r.email_related_list.length>0&&r.email_related_list[0].hasOwnProperty("emails_sent_from_crm")?(n.content="shared_users_"+_.entityId,n.data=r):(r&&r.email_related_list&&r.email_related_list.length>0||(n.content="emails_"+_.entityId),n.data=r),r.emails_rl_user=[n]}return r},payloadKey:function(e,t,r,a,l,s){return"emails_rl_user"}});
