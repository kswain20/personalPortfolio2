var requestObj=null;Lyte.Component.register("crm-entity-lookup",{_template:'<template tag-name="crm-entity-lookup"> <lyte-popover id="popoverTest" lt-prop-wrapper-class="columnCustomizeWrap {{if(fromSalesInbox,\'fromSalesInbox\',\'\')}}" lt-prop-placement="bottom" lt-prop-show-close-button="false" lt-prop-freeze="false" lt-prop-origin-elem="#coloumnSelectOrg" on-before-close="{{method(&quot;checkForLookupAlert&quot;)}}"> <template is="registerYield" yield-name="popover"> <div id="columnList" style=";position:fixed;z-index:2" class="ddMenuss fromModuleLookup"></div> </template> </lyte-popover> <lyte-menu lt-prop-yield="true" id="sortablePossibilityList" lt-prop-show="{{showSortableOptions}}" lt-prop-query=".sortableColumn" lt-prop-wrapper-class="{{if(fromSalesInbox,\'fromSalesInbox\',\'\')}}" on-menu-click="{{method(\'sortColumnsInLookup\')}}" on-close="{{method(\'sortColumnsClose\')}}"> <template is="registerYield" yield-name="yield"> <lyte-menu-body> <template is="for" items="{{availableSort}}" item="item" index="index"> <lyte-menu-item data-value="{{item}}"> <lyte-menu-label>{{item}} </lyte-menu-label> </lyte-menu-item> </template> </lyte-menu-body> </template> </lyte-menu> <div id="id_1"> <template is="registerYield" yield-name="createYield"> <lyte-button lt-prop-appearance="default" data-zcqa="btn_Lookup_CreateNewRecord" lt-prop-class="outlineprimaryflat mR0" class="pR" onclick="{{action(\'openQuickCreate\')}}"> <template is="registerYield" yield-name="text"> {{getI18n("New")}} {{singularModName}} </template> </lyte-button> </template> <lyte-modal id="lookupListPopup" lt-prop-bind-to-body="{{ltPropBindToBody}}" lt-prop-width="90%" lt-prop-class="crmBoxModal" lt-prop-wrapper-class="lookupListTable {{if(fromSalesInbox,\'fromSalesInbox\',\'\')}}" lt-prop-show-close="false" lt-prop-allow-multiple="true" lt-prop-show="{{lbind(showCopy)}}" lt-prop-prevent-focus="true" on-close="{{method(\'backgroundCloseFunc\')}}" on-before-close="{{method(\'customStyleRemoval\')}}" on-show="{{method(\'tableStyleProperty\')}}"> <template is="registerYield" yield-name="modal"> <template is="if" value="{{expHandlers(showSubjLookup,\'!\')}}"><template case="true"> <crux-lookup-filter-view cx-prop-from="entityLookup" lookup-url-for-campaign="{{lbind(lookupUrlForCampaign)}}" show="{{lbind(showCopy)}}" disp-init="{{dispInit}}" on-data-loaded="{{method(\'onDataLoaded\')}}" mod-id="{{modId}}" is-single="{{isSingle}}" cx-prop-header="{{cxPropHeader}}" display-field="{{lbind(displayField)}}" record="{{lbind(record)}}" selected-single="{{reqData.id}}" parent-module="{{reqData.parentModule}}" lookup-field-id="{{reqData.fieldid}}" lookup-single="{{lbind(selectedRecordName)}}" on-value-change="{{method(\'setFieldValue\')}}" temp-close="{{lbind(tempClose)}}" render-lookup-view="{{renderLookupView}}" related-record-data="{{relatedRecordData}}" default-criteria="{{defaultCriteria}}" disable-related-to="{{disableRelatedTo}}" current-selected-record="{{lbind(currentSelectedRecord)}}" cx-prop-create-yield="{{lbind(isQuickCreateAllowed)}}" flush-view="{{lbind(flushView)}}" cx-prop-field="{{parentModuleData}}" cx-prop-default-fields="{{defaultFields}}" field-of-lookup-val="{{lbind(fieldOfLookupVal)}}"> <template is="registerYield" yield-name="createYield"> <lyte-button lt-prop-id="button_id" lt-prop-appearance="default" data-zcqa="btn_Lookup_CreateNewRecord" lt-prop-class="outlineprimaryflat mR0" class="pR" onclick="{{action(\'openQuickCreate\')}}"> <template is="registerYield" yield-name="text"> {{getI18n("New")}} {{singularModName}} </template> </lyte-button> </template> </crux-lookup-filter-view> </template><template case="false"> <crm-picklist-lookup module-id="{{modId}}" field-id="{{fieldId}}" selected-record="{{reqData.id}}" on-data-loaded="{{method(\'onDataLoaded\')}}" show="{{lbind(showCopy)}}" on-value-change="{{method(\'setFieldValue\')}}"> </crm-picklist-lookup> </template></template> </template> </lyte-modal> </div> <lyte-alert id="validationAlert" lt-prop-id="AlertBtn" lt-prop="{&quot;buttons&quot; : [{&quot;id&quot;:&quot;custom_alert_button&quot;,&quot;type&quot;:&quot;accept&quot;,&quot;text&quot;:&quot;{{getI18n(&quot;crm.button.ok&quot;)}}&quot;,&quot;appearance&quot;:&quot;primary&quot;}]}" lt-prop-button-position="center" lt-prop-wrapper-class="lookupFilterAlert" lt-prop-yield="true" lt-prop-top="0px" lt-prop-content-align="center" lt-prop-show-close-button="false"> <template is="registerYield" yield-name="alert"> <lyte-alert-content class="pB25 f15 crm-font-bold fs">{{alertMsg}} </lyte-alert-content> </template> </lyte-alert> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"registerYield",position:[3,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[3]},{type:"registerYield",position:[5,1],dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[1]},{type:"text",position:[3]}]},{type:"componentDynamic",position:[1]}]},{type:"attr",position:[5,3]},{type:"registerYield",position:[5,3,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[1]},{type:"text",position:[3]}]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[5,3]},{type:"attr",position:[7]},{type:"registerYield",position:[7,1],dynamicNodes:[{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[7]}],_observedAttributes:["defaultFields","allFieldsNeeded","parentModuleData","selectedRecordName","fieldObj","lookupUrlForCampaign","showSubjLookup","fieldOfLookupVal","currentSelectedRecord","record","defaultCriteria","singleRelatedToObj","ltPropBindToBody","flushView","renderLookupView","modId","focusFlag","relatedToPopulate","disableRelatedTo","selectedRelatedRecordId","firstLoading","searchValue","searchApplied","fieldId","isQuickCreateAllowed","showCopy","ltPropShow","backCallMade","reqData","parentReqData","baseCurrency","currentRowId","flag","isLinkingModule","showSortableOptions","show","headerJson","bodyContent","slicedBodyContent","slicedFrom","slicedTo","defaultSearchRecLimit","bodyList","selectedList","dropDownForFilter","module","parentModule","currentModuleColumns","newModel","accDetails","productId","isfromOutlookRightPanel","currencyIsoCode","fromSearchCreate","fromAutDealCreate","fromQuickCreate","previous_sort_column","sortOrderString","sortColumnString","singularModName","isFilterApplied","lookupColsUpdated","criteriaObj","appliedCriteriaObj","fieldObj","relatedDropdown","fromIndex","toIndex","lastIndex","columnCustHgt","defaultToIndex","hasMoreRecords","fromSalesInbox","selectedId","currentPage","primaryColumn","requestCompleted","multiLookup","selectedIds","relatedRecordData","isRelatedRecords","forLookupofLookup","formatDetails","moduleRefName","decimalFldUITypeArr","timeFormat","datePattern","filterForUser","showAllRecords","relatedDomId","defaultSort","availableSort","errorMsg","searchBarDisplayMsg","quickCreateUnsupportedModules","LookupDatatypeVsUiType","colAdd","onScrollAction","resetCriteriaFlag","$campaign_type","alertMsg","disableFilterLink","filterApplyClicked","clientAccount"],data:function(){return{defaultFields:Lyte.attr("object",{default:{}}),allFieldsNeeded:Lyte.attr("boolean",{default:!1}),parentModuleData:Lyte.attr("object",{default:{}}),selectedRecordName:Lyte.attr("string",{default:""}),fieldObj:Lyte.attr("object",{default:{}}),lookupUrlForCampaign:Lyte.attr("string",{default:""}),showSubjLookup:Lyte.attr("boolean",{default:!1}),fieldOfLookupVal:Lyte.attr("array",{default:[]}),currentSelectedRecord:Lyte.attr("object",{default:{}}),record:Lyte.attr("array",{default:[]}),defaultCriteria:Lyte.attr("array",{default:[]}),singleRelatedToObj:Lyte.attr("object",{default:{}}),ltPropBindToBody:Lyte.attr("boolean",{default:!1}),flushView:Lyte.attr("boolean",{default:!1}),renderLookupView:Lyte.attr("boolean",{default:!1}),modId:Lyte.attr("string",{default:""}),focusFlag:Lyte.attr("boolean",{default:!1}),relatedToPopulate:Lyte.attr("boolean",{default:!0}),disableRelatedTo:Lyte.attr("boolean",{default:!1}),selectedRelatedRecordId:Lyte.attr("string",{default:""}),firstLoading:Lyte.attr("boolean",{default:!1}),searchValue:Lyte.attr("string",{default:""}),searchApplied:Lyte.attr("boolean",{default:!1}),fieldId:Lyte.attr("string"),isQuickCreateAllowed:Lyte.attr("boolean",{default:!1}),showCopy:Lyte.attr("boolean",{default:!1}),ltPropShow:Lyte.attr("boolean",{default:!1}),backCallMade:Lyte.attr("boolean",{default:!1}),reqData:Lyte.attr("object",{default:{}}),parentReqData:Lyte.attr("object",{default:{}}),baseCurrency:Lyte.attr("string",{default:Crm.userDetails.BASE_CURRENCY}),currentRowId:Lyte.attr("string"),flag:Lyte.attr("boolean",{default:!1}),isLinkingModule:Lyte.attr("boolean",{default:!1}),showSortableOptions:Lyte.attr("boolean",{default:!1}),show:Lyte.attr("boolean",{default:!1}),headerJson:Lyte.attr("array",{default:[]}),bodyContent:Lyte.attr("array",{default:[]}),slicedBodyContent:Lyte.attr("array",{default:[]}),slicedFrom:Lyte.attr("number",{default:0}),slicedTo:Lyte.attr("number",{default:10}),defaultSearchRecLimit:Lyte.attr("number",{default:500}),bodyList:Lyte.attr("array",{default:[]}),selectedList:Lyte.attr("array",{default:[]}),dropDownForFilter:Lyte.attr("array",{default:[]}),module:Lyte.attr("string",{default:""}),parentModule:Lyte.attr("string",{default:""}),currentModuleColumns:Lyte.attr("object",{default:{}}),newModel:Lyte.attr("boolean",{default:!0}),accDetails:Lyte.attr("object",{default:{}}),productId:Lyte.attr("string",{default:""}),isfromOutlookRightPanel:Lyte.attr("boolean",{default:!1}),currencyIsoCode:Lyte.attr("string",{default:""}),fromSearchCreate:Lyte.attr("boolean",{default:!1}),fromAutDealCreate:Lyte.attr("boolean",{default:!1}),fromQuickCreate:Lyte.attr("boolean",{default:!1}),previous_sort_column:Lyte.attr("string",{default:""}),sortOrderString:Lyte.attr("string",{default:""}),sortColumnString:Lyte.attr("string",{default:""}),singularModName:Lyte.attr("string",{default:""}),isFilterApplied:Lyte.attr("boolean",{default:!1}),lookupColsUpdated:Lyte.attr("boolean",{default:!1}),criteriaObj:Lyte.attr("object",{default:{}}),appliedCriteriaObj:Lyte.attr("object",{default:{}}),fieldObj:Lyte.attr("object",{default:{}}),relatedDropdown:Lyte.attr("array",{default:[]}),fromIndex:Lyte.attr("number",{default:1}),toIndex:Lyte.attr("number",{default:10}),lastIndex:Lyte.attr("number",{default:1}),columnCustHgt:Lyte.attr("string",{default:""}),defaultToIndex:Lyte.attr("number",{default:10}),hasMoreRecords:Lyte.attr("boolean",{default:!0}),fromSalesInbox:Lyte.attr("boolean",{default:!1}),selectedId:Lyte.attr("number",{default:0}),currentPage:Lyte.attr("string",{default:""}),primaryColumn:Lyte.attr("string",{default:""}),requestCompleted:Lyte.attr("boolean",{default:!0}),multiLookup:Lyte.attr("array",{default:[]}),selectedIds:Lyte.attr("string",{default:""}),relatedRecordData:Lyte.attr("array",{default:[]}),isRelatedRecords:Lyte.attr("boolean",{default:!1}),forLookupofLookup:Lyte.attr("boolean",{default:!1}),formatDetails:Lyte.attr("object",{default:{}}),moduleRefName:Lyte.attr("string",{default:""}),decimalFldUITypeArr:Lyte.attr("array",{default:[36,38,39,40,77,143,144,145,117]}),timeFormat:Lyte.attr("string",{default:"12"}),datePattern:Lyte.attr("string",{default:"MM-DD-YYYY"}),filterForUser:Lyte.attr("array",{default:[{id:"AllUsers",category:I18n.getMsg("crm.label.all")},{id:"ActiveUsers",category:I18n.getMsg("Active")},{id:"DeactiveUsers",category:I18n.getMsg("Inactive")},{id:"NotConfirmedUsers",category:I18n.getMsg("Unconfirmed")},{id:"DeletedUsers",category:I18n.getMsg("crm.label.deleted")}]}),showAllRecords:Lyte.attr("boolean",{default:!1}),relatedDomId:Lyte.attr("string",{default:""}),defaultSort:Lyte.attr("array",{default:[I18n.getMsg("crm.column.sort.asc"),I18n.getMsg("crm.column.sort.desc")]}),availableSort:Lyte.attr("array",{default:[]}),errorMsg:Lyte.attr("string",{default:""}),searchBarDisplayMsg:Lyte.attr("string",{default:""}),quickCreateUnsupportedModules:Lyte.attr("array",{default:["subjname","CustomModule5005","CustomModule5001","CustomModule5002","CustomModule5003","CustomModule5004","CustomModule5008","CustomModule5006","CustomModule5007","CustomModule5009","CustomModule5010","PriceBooks","Quotes","SalesOrders","PurchaseOrders","Invoices","Activities","Appointments","Services"]}),LookupDatatypeVsUiType:Lyte.attr("object",{default:{Text:[CrmField.UITYPES.SINGLE_LINE,CrmField.UITYPES.SKYPE_FIELD,CrmField.UITYPES.TEXT_FIELD,CrmField.UITYPES.TWITTER,CrmField.UITYPES.FIRST_NAME,CrmField.UITYPES.LAST_NAME,CrmField.UITYPES.TASK_SUBJECT,CrmField.UITYPES.MULTI_LINE_CF,CrmField.UITYPES.TEXT_AREA,CrmField.UITYPES.WEBSITE,CrmField.UITYPES.EMAIL],DateTime:[CrmField.UITYPES.DATE_TIME1,CrmField.UITYPES.CREATED_TIME,CrmField.UITYPES.DATETIME,CrmField.UITYPES.DATE_TIME2,CrmField.UITYPES.DATE_TIME_LONG],Date:[CrmField.UITYPES.DATE],Integer:[CrmField.UITYPES.NUMERIC_FIELD,CrmField.UITYPES.LONG_INTEGER],Currency:[CrmField.UITYPES.CURRENCY],Double:[CrmField.UITYPES.AGGREGATE_FIELD,CrmField.UITYPES.PERCENT,CrmField.UITYPES.DECIMAL,CrmField.UITYPES.BIG_DECIMAL],PickList:[CrmField.UITYPES.PICK_LIST,CrmField.UITYPES.STAGE,CrmField.UITYPES.RECORD_CURRENCY,98,999],Lookup:[CrmField.UITYPES.ACCOUNT_NAME_LOOKUP,CrmField.UITYPES.CAMPAIGN_NAME_LOOKUP,CrmField.UITYPES.PRODUCT_NAME_LOOKUP,CrmField.UITYPES.CONTACT_LOOKUP,CrmField.UITYPES.VENDOR_NAME_LOOKUP,CrmField.UITYPES.POTENTIAL_ID,CrmField.UITYPES.SALESORDER_ID,CrmField.UITYPES.CONTACT_ID,CrmField.UITYPES.QUOTE_ID,CrmField.UITYPES.ROLE_NAME,CrmField.UITYPES.PRODUCT_HANDLE,CrmField.UITYPES.LOOK_UP_ENTITY,CrmField.UITYPES.MULTISELECT_LOOK_UP],Boolean:[CrmField.UITYPES.BOOLEAN_DEF,CrmField.UITYPES.BOOLEAN_DEF_NOT],MultiSelect:[CrmField.UITYPES.MULTI_PICK_LIST],Phone:[CrmField.UITYPES.PHONE],Owner:[CrmField.UITYPES.OWNER,CrmField.UITYPES.CREATED_BY,CrmField.UITYPES.USERLOOKUP],Layout:[CrmField.UITYPES.LAYOUT],AutoNumber:[CrmField.UITYPES.AUTONUMBER]}}),colAdd:Lyte.attr("boolean",{default:!0}),onScrollAction:Lyte.attr("boolean",{default:!0}),resetCriteriaFlag:Lyte.attr("boolean",{default:!1}),$campaign_type:Lyte.attr("string"),alertMsg:Lyte.attr("string",{default:"Please enter valid data"}),disableFilterLink:Lyte.attr("boolean",{default:!0}),filterApplyClicked:Lyte.attr("boolean",{default:!1}),clientAccount:Lyte.attr("boolean",{default:!(void 0===window.clientPortalName||!window.clientPortalName)})}},setDefaultCriteria:function(e,t){if("Products"===e){var a=[{api_name:"Product_Active",comparator:"equals",value:"true"}];this.setData("defaultCriteria",a)}else if(e===crmModuleConstants.Accounts&&t===crmModuleConstants.Accounts&&void 0!==window[t]&&("edit"===window[t].currentStatus||"view"===window[t].currentStatus)&&"PARENTACCOUNTID"===this.data.reqData.colname&&window[t].entityId||"Campaigns"===e&&"Campaigns"===t&&this.getData("reqData").fromaddcamppopup&&window[t]&&window[t].entityId||"Crm_Contacts_REPORTINGTOCONTACTID"===this.data.reqData.labelName&&window[t]&&window[t].entityId){a=[{api_name:"id",comparator:"not_equal",value:window[t].entityId,parentCriteria:!0}];this.setData("defaultCriteria",a)}else this.data.reqData.defaultCriteria?this.setData("defaultCriteria",this.data.reqData.defaultCriteria):this.setData("defaultCriteria","")},addAdditionalFieldsToLookup:function(e,t,a){var o=!!(this.data.reqData.colname&&this.data.reqData.colname.indexOf("CF")>0),i={};if(o||"PARENTACCOUNTID"===this.data.reqData.colname||"Accounts"!==e)if(o||"Contacts"!==e){if("Campaigns"===e)i.api_names=["$campaign_type"];else if(t&&"Products"===e){i.api_names=["Unit_Price","Qty_in_Stock","Qty_Ordered","Product_Code","Taxable","Layout","Tax","Taxable"];var s=this.data.reqData.labelName,l=$(document.getElementById(s));(r=this.referenceFieldMethod(l,{}))&&(i.id=Object.keys(r),i.api_names=["Unit_Price","Qty_in_Stock","Qty_Ordered","Product_Code","Taxable","Layout","Tax","Taxable"])}else if(a){var r;s=this.data.reqData.labelName,l=$(document.getElementById(s));(r=this.referenceFieldMethod(l,{}))&&(i.id=Object.keys(r))}}else i.api_names=["Mailing_City","Mailing_Zip","Mailing_Country","Mailing_State","Mailing_Street","Other_City","Other_Zip","Other_Country","Other_State","Other_Street","Account_Name"];else i.api_names=["Billing_City","Billing_Code","Billing_Country","Billing_State","Billing_Street","Shipping_City","Shipping_Code","Shipping_Country","Shipping_State","Shipping_Street"];i.api_names?i.api_names.push("Currency"):i.api_names=["Currency"],this.setData("defaultFields",i)},referenceFieldMethod:function(e,t){var a={},o=e.closest("tr").find("td"),i=!!Object.keys(Crm.userDetails.CURRENCY_DETAILS).length;if(i){var s=document.getElementById("Crm_"+this.data.reqData.parentModule+"_CURRENCYISOCODE"),l=s?s.value:void 0;if(l){var r=t.Currency,d=Crm.userDetails.CURRENCY_DETAILS[r],n=d?d.er:1,u=d?d.decimals:void 0;n=void 0!==u?Number(n).toFixed(u):n;var c=Crm.userDetails.CURRENCY_DETAILS[l],p=c?c.er:1,m=c?c.decimals:void 0}}for(var h of o){var g=$(h).find("input"),D=$(h).find("textarea");for(var f of g)if(f.dataset&&f.dataset.refered_from_fieldid){if(f.dataset.refered_from_fieldid.split("_")[1]!=this.data.reqData.fieldid)continue;var y=f.dataset.refered_from_fieldid.split("_")[2],C=(I=store.peekRecord("field",y))&&I.api_name;if("currency"===(I&&I.data_type)&&i&&p)b=void 0!==(b=(b=t[C])&&n?b/n*p:void 0)&&void 0!==m?Number(b).toFixed(m):void 0,a[y]=void 0!==b?b:"";else a[y]=t[C]?t[C]:""}for(var v of D)if(v.dataset&&v.dataset.refered_from_fieldid){if(v.dataset.refered_from_fieldid.split("_")[1]!=this.data.reqData.fieldid)continue;var I,b;y=v.dataset.refered_from_fieldid.split("_")[2],C=(I=store.peekRecord("field",y))&&I.api_name;if("currency"===(I&&I.data_type)&&i&&p)b=void 0!==(b=(b=t[C])&&n?b/n*p:void 0)&&void 0!==m?Number(b).toFixed(m):void 0,a[y]=void 0!==b?b:"";else a[y]=t[C]?t[C]:""}}return a},performApplyFilter:function(){this.submitAdvancedSearchFilter()},serviceRelatedRecords:["crm.filter.temp.avail","crm.filter.all.services","crm.filter.avail.service","crm.filter.temp.service","crm.filter.notuse.service"],submitAdvancedSearchFilter:function(){var e=this.getFilterParams();void 0!==e&&!1!==e&&(this.setData("fromIndex",1),this.setData("toIndex",e.length>0?this.getData("defaultSearchRecLimit"):this.getData("defaultToIndex")),$L(".entityLookupTable .lyteTableScroll").scrollLeft(0),this.setData("filterApplyClicked",!0),this.openCustomLookup(this.data.reqData.parentModule,this.data.reqData.labelName,this.data.reqData.labelName,this.data.reqData.searchModule,this.data.reqData.fieldVal,this.getData("sortColumnString"),this.getData("sortOrderString"),e))},validateFilterInput:function(e,t,a,o,i){if("equals"!=t&&"not_equal"!=t&&"null"==e||"string"==typeof e&&/^[`~!@#$%^&*()\-_=+\\|\][{}'";:/?.,><]+$/.test(e.trim()))return this.openAlert(I18n.getValueForFields("crm.field.valid.check",a)),!1;if("N"===i&&!validationUtils.isValidNumber(e))return this.openAlert(I18n.getValueForFields("crm.field.valid.check",a)),!1;if(this.getData("LookupDatatypeVsUiType").Date.contains(o)||this.getData("LookupDatatypeVsUiType").DateTime.contains(o))if("between"===t){if(!Utils.isValidDate(this.getData("formatDetails").datePattern,e[0])||!Utils.isValidDate(this.getData("formatDetails").datePattern,e[1]))return this.openAlert(I18n.getValueForFields("crm.field.valid.check",a)),!1;var s=Utils.getDateObject(e[0],""),l=Utils.getDateObject(e[1],"");if(!Utils.compareDate(s,l))return this.openAlert(a+":"+I18n.getValueForFields("crm.cal.sch.date.val")),!1}else if(!Utils.isValidDate(this.getData("formatDetails").datePattern,e))return this.openAlert(I18n.getValueForFields("crm.field.valid.check",a)),!1;if((this.getData("LookupDatatypeVsUiType").Date.contains(o)||this.getData("LookupDatatypeVsUiType").DateTime.contains(o)||"DT"===i||"D"===i)&&!Utils.isValidDate(this.getData("formatDetails").datePattern,e))return this.openAlert(I18n.getValueForFields("crm.field.valid.check",a)),!1;if("between"===t)if(this.getData("LookupDatatypeVsUiType").Date.contains(o)||this.getData("LookupDatatypeVsUiType").DateTime.contains(o)){s=Utils.getDateObject(e[0],""),l=Utils.getDateObject(e[1],"");if(!Utils.compareDate(s,l))return this.openAlert(a+":"+I18n.getValueForFields("crm.cal.sch.date.val")),!1}else if(e[0]>e[1])return this.openAlert(a+":"+I18n.getValueForFields("crm.cal.sch.date.val")),!1;return!0},openAlert:function(e){this.setData("alertMsg",e),$L("#validationAlert")[0].ltProp("show",!0)},setUserFieldData:function(){this.submitAdvancedSearchFilter()},addRemoveOptionToCriteriaObject:function(e){var t=e[2],a=e[3].$node,o=$(a).closest("lyte-th").data("bodyfieldval");this.getData("criteriaObj")[o].value=t.toString()},ResetCriteriaObject:function(e){for(var t={},a=e||this.getData("headerJson"),o=a.length,i=0;i<o;i++){var s={value:""},l=this.data.LookupDatatypeVsUiType,r=a[i].UITYPE;l.DateTime.contains(r)||l.Date.contains(r)||l.Integer.contains(r)||l.Currency.contains(r)||l.Double.contains(r)?(s.value1="",s.value2="",l.DateTime.contains(r)&&(s.time="",s.time1="",s.time2="")):(100==r||209==r||208==r||207==r||l.PickList.contains(r)||96==r||a[i].userType)&&(s.value=new Array,s.condition="contains"),s.condition="",t[a[i].bodyKey]=s}Lyte.Component.set(this.data,"criteriaObj",t),""===this.getData("searchValue")&&this.getData("toIndex")===this.getData("defaultSearchRecLimit")&&(this.setData("fromIndex",1),this.setData("toIndex",this.getData("defaultToIndex")))},showcopyobs:function(e){e.newValue?(this.openCustomLookup(this.data.reqData.parentModule,this.data.reqData.labelName,this.data.reqData.labelName,this.data.reqData.searchModule,this.data.reqData.fieldVal),this.setData("firstLoading",!0)):this.setData("firstLoading",!1)}.observes("ltPropShow"),isMultiSelectDropDownType:function(e){return 209==e||208==e||207==e||2==e||26==e||96===e||999===e},isEmpty:function(e){if("number"==typeof e||"boolean"==typeof e)return!1;if(null==e)return!0;if("string"==typeof e)return 0===e.trim().length;if(void 0!==e.length)return 0==e.length;var t=0;for(var a in e)e.hasOwnProperty(a)&&t++;return 0==t},getFilterParams:function(){var e=this.getData("criteriaObj"),t=this.getData("headerJson"),a=t.length,o=this.data.searchValue;if("subjname"==this.getData("module"))return o;for(var i={},s=new Array,l=0,r=0;l<a;l++){var d=e[t[l].bodyKey],n={},u="",c=d.condition,p=!1;if("between"===c&&d.value1&&d.value2){if((u=new Array)[0]=d.value1,u[1]=d.value2,!this.validateFilterInput([d.value1,d.value2],c,t[l].FIELDLABEL,t[l].UITYPE,t[l].filterdetails.TYPE))return renderingUtils.showCustomAlert(I18n.getValueForFields("crm.field.valid.check",t[l].FIELDLABEL)),!1}else if("empty"==c||"notempty"==c)c="empty"==c?"equals":"not_equal",u="null",p=!0;else if(t[l].userType&&null!=d.value&&""!=d.value){var m=new Array,h=0,g="[]"!==d.value?d.value.length:0;for(h=0;h<g;h++)m[h]=d.value[h].id;u=m,c="in"}else!this.getData("decimalFldUITypeArr").contains(t[l].UITYPE)||"greater_than"!=c&&"less_than"!=c&&">"!=c&&"<"!=c||null==d.value||""==d.value?d.value&&(u=d.value):!d.value.indexOf(".")>-1&&(u=parseFloat(d.value).toFixed(1));if("DT"==t[l].filterdetails.TYPE)if("between"===c&&d.value1&&d.value2){if(!this.validateFilterInput([d.value1,d.value2],c,t[l].FIELDLABEL,t[l].UITYPE,t[l].filterdetails.TYPE))return!1}else if(d.value&&!this.validateFilterInput(d.value,c,t[l].FIELDLABEL,t[l].UITYPE,t[l].filterdetails.TYPE))return!1;if(t[l].isPrimaryField&&""!=o.trim()){if(!this.validateFilterInput(o.trim(),c,t[l].FIELDLABEL,t[l].UITYPE,t[l].filterdetails.TYPE))return!1;i.api_name=t[l].bodyKey,i.condition="starts_with",o=o.replace(/\\/g,"\\\\").replace(/"/g,'\\"'),i.searchword=encodeURIComponent(o),i.uiType=t[l].UITYPE,i.isPrimarySearch=!0,s[r++]=i}if(this.isEmpty(u)||100!=t[l].UITYPE&&(!this.isMultiSelectDropDownType(t[l].UITYPE)||p)?"T"===t[l].filterdetails.TYPE&&"string"==typeof u&&(u=u.replace(/\\/g,"\\\\").replace(/"/g,'\\"')):(u=(u=JSON.parse(u).join()).replace(/\\/g,"\\\\").replace(/"/g,'\\"'),c="in"),!this.isEmpty(u)&&"-None-"!==u&&"[]"!==u&&("None"!==u||" T"===t[l].filterdetails.TYPE)){if("DT"!=t[l].filterdetails.TYPE&&!this.validateFilterInput(d.value,c,t[l].FIELDLABEL,t[l].UITYPE,t[l].filterdetails.TYPE))return!1;n.api_name=t[l].bodyKey,n.condition=c,n.type=t[l].filterdetails.TYPE,n.searchword=encodeURIComponent(u),n.isPrimarySearch=!1,n.uiType=t[l].UITYPE,s[r++]=n}}return s},updateLookUpView:function(){var e=[];$("#columnListId input:checked").each((function(t,a){e.push($(a).val())}));var t=$(".lookupCriteriaFilter"),a=$(".advanceFilter");t.is(":visible")&&(a.removeClass("lookupFilterOpen"),this.clearFilter()),e=e.join(";");var o=Crm.getCrmBasePath()+"/CustomDisplay.do?actionName=updateLookupView&cust_disp_module="+this.data.ParentModule+"&sellist= "+encodeURIComponent(e)+"&frmmodule="+this.getData("reqData").lookupModule+"&from=createEntity",i={};i[csrfParamName]=csrfToken,(new crmRequestPool).initiate({action:o,type:"POST",data:i,success:function(){$L("#popoverTest")[0].ltProp("show",!1),this.setData("lookupColsUpdated",!0),this.data.currentModuleColumns.columns=void 0;var e=this.getFilterParams();if(!e)return!1;this.openCustomLookup(this.data.reqData.parentModule,this.data.reqData.labelName,this.data.reqData.labelName,this.data.reqData.searchModule,null,this.data.sortColumnString,this.data.sortOrderString,e)}.bind(this),error:function(e){406==e.status&&e.responseText&&($("#lookupSelectCol").text(e.responseText),$(".columnCustomizeWrap").addClass("decreaseIndex"),$("#lookupCrt").css("display","none"),freezeBackground(),showAnimatePopup("lookupErrorMsg"),$L(".freezeLayer").css("z-index","35"))}})},showColumnListByColumns:function(e,t){e.from="createEntity",e.save="multiLookupsView.updateLookupView();",e.cancel="hideAnimatePopup('columnList');sE()",e.divid="columnListId",e.currentmodule=t;var a=Handlebars.templates.columnList(e);delete e.from;var o=$("#columnList.fromModuleLookup"),i=($("#notificationCenterContainer"),$("#addColumn")),s=$(document).width()-(i.offset().left+i.width());$(document).off("menuItemClicked"),o.html(a).addClass("pFixed dBImp");var l=$("#columnListId");l.sortable({helper:"clone",stop:function(e,t){var a=t.item.find('input[type="checkbox"]');a.length&&(a.prop("disabled",!0),setTimeout((function(){var e=a.attr("ismandatory");(!e||"true"!=e&&"LASTNAME"!=a.attr("value").split("#")[1])&&a.prop("disabled",!1)}),300))}}),crmListView.rowClick("lookupview"),l.find("input:checked").length>=10?l.find("label input:not(:checked)").attr("disabled","disabled").closest("li").addClass("disable"):l.find("label  input:not(:disabled)").removeAttr("disabled").closest("li").removeClass("disable"),l.find("li").find("input").each((function(){-1!=$(this).attr("value").indexOf("LASTNAME")&&($(this).removeAttr("ismandatory"),$(this).attr("disabled",!1))}));var r=$("#menuColumnListView");r.css({"max-height":"230px"}),thirdPartyUtils.bindPerfectScroll(r,{wheelSpeed:1,wheelPropagation:!1,suppressScrollX:!1}),Crm.userDetails.RTL_ENABLED&&o.css({"min-width":s,zindex:"12 !important"}),this.setData("currentModuleColumns.columns",e.columns),this.setData("currentModuleColumns.currentModule",t),o.find("li").find('input[type="checkbox"]').off("click").click((function(){var e=$(this);e.prop("checked")&&$("#columnListId input:checked").length>Search.MAX_COL_CNT&&(renderingUtils.showCustomAlert(I18n.getMsg("crm.alert.max.cvcols.reached",Search.MAX_COL_CNT)),e.prop("checked",!1))})),o.find(".newgraybtn").attr("onclick","$L('#popoverTest')[0].ltProp('show',false);sE();")},setRelatedToDropdown:function(e,t,a){var o=[];"string"==typeof e&&(e=JSON.parse(e));var i=[],s=Crm.moduleInfo[this.getData("reqData").searchModule];if(i[0]=s.translatedPluralLabel,e.accounts){for(var l=e.accounts,r=l.length,d=0;d<r;d++){var n={};i[1]=l[d].name,n.name=I18n.getMsg("crm.related.contact.account",i),n.id=l[d].id,n.apiName=l[d].apiName,o.push(n)}"REPORTINGTOCONTACTID"!==this.getData("reqData").colname?((n={}).name=I18n.getMsg("crm.label.show")+" "+I18n.getMsg("crm.allcontact.show",i[0]),n.id="all",o.push(n),this.setData("disableRelatedTo","false")):this.setData("disableRelatedTo","true")}else if("Services"===this.getData("reqData").searchModule){r=this.serviceRelatedRecords.length;for(var u=0;u<r;u++){(n={}).name=I18n.getMsg(this.serviceRelatedRecords[u]),n.id=u,n.apiName="Status",o.push(n)}}else{(n={}).name=I18n.getMsg("crm.related.contact.show",i[0]),n.id=this.data.singleRelatedToObj.id,n.apiName=this.data.singleRelatedToObj.apiName,o.push(n),(n={}).name=I18n.getMsg("crm.label.show")+" "+I18n.getMsg("crm.allcontact.show",i[0]),n.id="all",o.push(n)}this.setData("relatedRecordData",o)},showRelatedRecords:function(){this.setData("focusFlag",!0),this.setData("relatedToPopulate",!1),this.setData("fromIndex",1),this.setData("toIndex",this.getData("defaultToIndex"));var e="all"===this.getData("selectedRelatedRecordId");this.setData("showAllRecords",e),this.rollbackFilter(),this.submitAdvancedSearchFilter(!1),$("crm-entity-lookup")[0].component.methods.tableHeightSet()},holdTheRadioButton:function(e){if(null==(t=document.getElementById(this.getData("reqData").labelName))&&null!=e)var t=document.getElementById(e.labelName);var a=this.getData("fromAutDealCreate")?t.ltProp("selected"):$(t).data("id");a&&""!==$(t).val().trim()&&($("#las_"+a+"_radio").attr("lt-prop-checked",!0),$("#selectedRecord").text($(t).val()).closest(".singlelookup").removeClass("dN")),this.getData("relatedRecordData").length,"subjname"==this.getData("module")&&$(".lookupListTable").addClass("taskSubjectNameLookup"),this.tableStyleProperty()},setDataFromResponse:function(e,t,a){commonUtils.showHideLoadingDiv(!1);var o=renderingUtils.windowWidth/100*5,i=$(".entityLookupTable");if(this.setData("formatDetails",e.formatDetails),this.setData("timeFormat",e.formatDetails.timeFormat.indexOf("a")>0?"12":"24"),this.setData("datePattern",e.formatDetails.datePattern.toUpperCase()),this.setData("lastIndex",e.lastIndex),this.getData("relatedToPopulate")&&(this.getData("accDetails").length>0||Object.keys(this.getData("accDetails")).length>0||this.getData("isRelatedRecords")),this.setData("isLinkingModule",!1),void 0===e.body)return this.setData("hasMoreRecords",!1),void this.toggleForward(!1);var s=this.getData("lookupColsUpdated");if((this.getData("headerJson").length<=0||s||this.getData("moduleRefName")!==e.moduleRefName)&&(this.setData("colAdd",!1),this.ResetCriteriaObject(e.headers),this.setData("headerJson",e.headers),this.setData("colAdd",!0),$(".advanceFilter").removeClass("lookupFilterOpen"),$L(".lookupCriteriaFilter").hide(),this.setData("lookupColsUpdated",!1)),""==e.body)this.setData("bodyContent",[]),this.setData("slicedBodyContent",[]),this.setData("slicedFrom",0),this.setData("slicedTo",this.getData("defaultToIndex"));else{this.setData("bodyContent",e.body);var l=e.body;this.getData("searchApplied")&&(s&&e.body.length>this.getData("slicedFrom")?l=e.body.slice(this.getData("slicedFrom"),this.getData("slicedTo")):(l=e.body.slice(0,this.getData("defaultToIndex")),this.setData("slicedFrom",0),this.setData("slicedTo",this.getData("defaultToIndex")))),this.setData("slicedBodyContent",l)}if(1!=this.getData("fromIndex")&&""!==e.body||(this.setData("fieldId",e.fieldId),this.setData("isFilterApplied",e.isFilterConfigured),this.getData("isLinkingModule")&&"confirmationPage"!=e.mlaction&&this.setData("bodyList",e.body),this.setData("moduleRefName",e.moduleRefName),this.setData("module",e.module),e.parentModule&&this.setData("parentModule",e.parentModule),this.setData("newModel",e.newModel),this.setData("productId",e.productId),this.setData("isfromOutlookRightPanel",e.isfromOutlookRightPanel),this.setData("currencyIsoCode",e.currencyISOCode),this.setData("previous_sort_column",e.previous_sort_column),this.setData("flag",!0),this.setData("currentPage",e.mlaction)),this.setData("singularModName",e.singularModName),null!=this.getData("reqData").fromRelatedList&&1==this.getData("reqData").fromRelatedList&&null!=e.successmsg&&reloadCurrentEntityView(window[this.getData("module")].entityId,this.getData("module")),e.fromSearchCreate&&this.setData("fromSearchCreate",e.fromSearchCreate),(this.getData("reqData").fromaddcamppopup||"Services"==e.module)&&(e.isQuickCreateAllowed=!1),"Products"==this.getData("moduleRefName"))this.setData("searchBarDisplayMsg",I18n.getMsg("crm.lookup.searchby",this.getData("singularModName"))+(e.isProductCodeVisible?"/"+I18n.getMsg("Product Code",this.getData("singularModName")):""));else if("Quotes"==this.getData("moduleRefName")||"Sales_Orders"==this.getData("moduleRefName")||"Invoices"==this.getData("moduleRefName")||"Purchase_Orders"==this.getData("moduleRefName")){for(var r=this.getData("headerJson").length,d=0;d<r;d++)if(this.getData("headerJson")[d].isPrimaryField){var n=[];n.push(this.getData("singularModName")),n.push(this.getData("headerJson")[d].FIELDLABEL),this.setData("searchBarDisplayMsg",I18n.getMsg("crm.lookup.searchby.placeholder.searchDisplayMsg",n));break}}else for(r=this.getData("headerJson").length,d=0;d<r;d++)if(this.getData("headerJson")[d].isPrimaryField){this.setData("searchBarDisplayMsg",I18n.getMsg("crm.lookup.searchby.placeholder",this.getData("headerJson")[d].FIELDLABEL));break}this.setData("isQuickCreateAllowed",e.isQuickCreateAllowed),this.setData("primaryColumn",e.primaryColumn),$(".lookupFetchLoad").hide(),this.setData("requestCompleted",!0),this.setData("hasMoreRecords",e.hasMoreRecords);var u=$("#norec");e.Error?(u.show(),this.setData("errorMsg",e.Error)):0==this.getData("bodyContent").length?(u.show(),this.setData("reqparams",a),this.setData("errorMsg",I18n.getMsg("crm.module.empty.message","subjname"==this.getData("module")?I18n.getMsg("crm.tasks.subject"):I18n.getMsg(this.getData("module"))))):u.hide(),this.toggleForward(e.hasMoreRecords||this.getData("searchApplied")&&e.body.length>this.getData("slicedTo")),this.toggleBackward(this.getData("fromIndex")>1||this.getData("searchApplied")&&this.getData("slicedFrom")>1),$(".lookupListTable .lyteModal").css({right:o,left:o,width:"auto"});var c=this.getData("sortColumnString"),p=i.find(".lyteTableScroll").eq(0);if(i.find("lyte-th").removeClass("lookupSortdesc lookupSortAsc"),""!==c){var m=$(".entityLookupTable lyte-thead lyte-tr").find("lyte-th[data-coloumn="+c+"]"),h=this.getData("sortOrderString");"sort_asc"===h?m.addClass("lookupSortAsc"):"sort_desc"===h&&m.addClass("lookupSortdesc")}if(!1===this.getData("onScrollAction")){var g=$(".lookupFieldList .lyteTableScroll");Crm.userDetails.RTL_ENABLED?g.scrollTop(tableTop+1).scrollLeft(tableLeft+1):g.scrollTop(0).scrollLeft(0),$L(".entityLookupTable .lyteTableScroll").resetScrollbar()}e.showOperators&&$(".hideOperators").removeClass("hideOperators"),(i=$(".entityLookupTable")).length>0&&(p.scrollLeft=0,$(".lyteTableFixed").css("left","0"),!1===this.getData("onScrollAction")&&(p.scrollTop=0,this.setData("lookupColsUpdated",!1)),this.setData("onScrollAction",!1)),t&&t(),this.getData("firstLoading")&&(setTimeout((function(){$L("[name=fldValue]").attr("lt-prop-focus",!0)}),100),this.setData("firstLoading",!1)),this.getData("filterApplyClicked")&&(this.setData("filterApplyClicked",!1),this.setData("appliedCriteriaObj",Lyte.deepCopyObject(this.getData("criteriaObj"))),this.setData("disableFilterLink",!0)),this.getData("focusFlag")&&($("[name=fldValue]").attr("lt-prop-focus",!0),this.setData("focusFlag",!1))},rollbackFilter:function(){this.getData("disableFilterLink")||(this.setData("criteriaObj",Lyte.deepCopyObject(this.getData("appliedCriteriaObj"))),setTimeout(function(){this.setData("disableFilterLink",!0)}.bind(this),0))},toggleForward:function(e){e?$L("#navigateForward").removeClass("next_disabled").addClass("next"):$L("#navigateForward").removeClass("next").addClass("next_disabled")},toggleBackward:function(e){e?$L("#navigateBack").removeClass("previous_disabled").addClass("previous"):$L("#navigateBack").removeClass("previous").addClass("previous_disabled")},makeRequest:function(e,t,a){null!=requestObj&&(requestObj.abort(),delete Crm.REQUEST_QUEUE[e+"---"+t],requestObj=null),$L("#navigateBack, #navigateForward").addClass("pEvents");var o=$.ajax({url:e,type:"POST",data:t,success:function(e){"error"===e.status?(commonUtils.showHideLoadingDiv(!1),crmui.showMsgBand("error",I18n.getMsg("crm.lookup.advance.error.msg"),5e3)):this.setDataFromResponse(e,a,t),$L("#navigateBack, #navigateForward").removeClass("pEvents"),$L(".entityLookupTable .lyteTableScroll").resetScrollbar()}.bind(this),error:function(e){commonUtils.showHideLoadingDiv(!1),401===e.status&&(renderingUtils.displayPermissionDenied(),$("crm-entity-lookup")[0].component.setData("ltPropShow",!1)),$L("#navigateBack, #navigateForward").removeClass("pEvents")}});requestObj=o},checkSelectedRecord:function(){var e=$("#"+this.getData("reqData").labelName),t=e.data("id");null!=t&&($("#las_"+t+"_radio").attr("lt-prop-checked",!0),$("#selectedRecord").text(e.val()).closest(".singlelookup").removeClass("dN"))},getRelatedRecordDetailsForProducts:function(e){var t="",a=$("#Crm_"+e+"_VENDORID");if(a[0]&&a.data("id")&&this.getData("reqData").subformdisplaylabel&&Crm.isLineItemSubFormModule(this.getData("reqData").subformdisplaylabel)){t="&productId="+a.data("id");var o={accounts:[]};o.accounts[0]={},o.accounts[0].id=a.data("id"),o.accounts[0].name=a.val(),o.accounts[0].apiName="Vendor_Name",this.setData("accDetails",o),this.setData("isRelatedRecords",!0)}return t},getRelatedRecordDetails:function(e,t){var a,o={},i="";o.accounts=[];var s,l=0,r=[];if((s="Cases"===e?$("#Crm_"+e+"_WHOID"):$("#Crm_"+e+"_CONTACTID"))[0]&&(a=s.data("id"))){if(a&&"null"!==a){r[l]=a,o.accounts[l]={},o.accounts[l].id=a,o.accounts[l].name=s.val();var d=Crm.moduleInfo[s.data("lookupModule")].singularLabel;o.accounts[l].apiName=d+"_Name",l+=1}a=this.getData("selectedRelatedRecordId")&&"all"!==this.getData("selectedRelatedRecordId")?this.getData("selectedRelatedRecordId"):r[0]}(r.length>0?(i=i+"&productId="+(a=r[0])+"&accDetails="+encodeURIComponent(JSON.stringify(o)),this.setData("accDetails",o),this.setData("isRelatedRecords",!0)):(this.setData("accDetails",{}),this.setData("isRelatedRecords",!1)),"Potentials"===t||"Quotes"===t||"SalesOrders"===t)&&((s=$("#Crm_"+e+"_ACCOUNTID"))[0]&&s.data("id")&&(i=i+"&accountId="+s.data("id"),this.data.singleRelatedToObj.id=s.data("id"),this.data.singleRelatedToObj.apiName="Account_Name",this.setData("isRelatedRecords",!0),this.setData("accDetails",{})));return i},getRelatedRecordDetailsForContacts:function(e,t){var a,o="",i=!1;if(/Calls|Tasks|Events/.test(e)){var s=$("#Crm_"+e+"_SEID_select");if(s[0]&&s[0].cxProp&&(i=!0),"Accounts"===(i?s[0].cxProp("selected"):$("#Crm_"+e+"_SEID_label_select").val()||s.val())&&(a=$("#Crm_"+e+"_SEID").data("id"))&&(this.data.singleRelatedToObj.id=a,this.data.singleRelatedToObj.apiName="Account_Name",o="&productId="+a,this.setData("isRelatedRecords",!0)),this.getData("reqData").productFldId&&this.setData("relatedDomId",this.getData("reqData").productFldId),""===o&&this.getData("relatedDomId")&&""!==this.getData("relatedDomId")){var l=this.getData("relatedDomId");if(void 0!==l){var r=$(document.getElementById(l)).val();if("vendorName"===l||"property(vendorName:Vendor Name)"===l){var d=$("[name='property(vendorName:Vendor Name)']");a=d?d.value:""}else a=r||null;"null"!==a&&a&&(this.data.singleRelatedToObj.id=a,this.data.singleRelatedToObj.apiName="Account_Name",o="&productId="+a,this.setData("isRelatedRecords",!0))}}}else{var n={accounts:[]},u=0,c=[];if((b=$("#Crm_"+e+"_ACCOUNTID"))[0])(a=b.data("id"))&&a&&"null"!==a&&(c[u]=a,n.accounts[u]={},n.accounts[u].id=a,n.accounts[u].name=b.val(),n.accounts[u].apiName="Account_Name",u+=1);else if(null==b[0]&&"Crm_Contacts_REPORTINGTOCONTACTID"!==t){if((b=$("#subvalue_ACCOUNTID"))[0])"null"!==(a=b.data("params")?b.data("params").id:null)&&a&&"detailView"==b.data("cid")&&(c[u]=a,n.accounts[u]={},n.accounts[u].id=a,n.accounts[u].name=b[0].text,n.accounts[u].apiName="Account_Name",u+=1);else if(null!=this.getData("reqData").productFldId&&"null"!==(a=$("[id='"+this.getData("reqData").productFldId+"']").val())&&a)return this.data.singleRelatedToObj.apiName="Account_Name",this.data.singleRelatedToObj.id=a,o="&productId="+a,this.setData("isRelatedRecords",!0),this.setData("accDetails",{}),o}if("Crm_Contacts_REPORTINGTOCONTACTID"!==t){var p=e.substring(0,e.length-1),m=p.toUpperCase()+"CF";if(0==p.indexOf("CustomModule")){var h=e.split("CustomModule");m=h[1]<=50?"COBJ"+h[1]+"CF":"COBJCF"}var g="a[id^='subvalue_"+m+"']",D=$(g),f=D.length,y=f>0;0!=D.length||"detailView"==D.eq(0).data("cid")&&null!=D.eq(0).data("cid")||(g="input[id^='Crm_"+e+"_"+m+"']",f=(D=$(g)).length,y=!(D.length>0));for(var C=0;C<f;C++){var v=D.eq(C);if(y){if("Accounts"===(v.data("params")?v.data("params").module:null)){var I=v.data("params").id,b=v.text();I&&b&&(c.contains(I)||(c[u]=I,n.accounts[u]={},n.accounts[u].id=I,n.accounts[u].name=b,n.accounts[u].apiName="Account_Name",u+=1))}}else if("Accounts"===v.data("lookupModule")){I=v.data("id"),b=v.val();I&&b&&(c.contains(I)||(c[u]=I,n.accounts[u]={},n.accounts[u].id=I,n.accounts[u].name=b,n.accounts[u].apiName="Account_Name",u+=1))}}}else if("Crm_Contacts_REPORTINGTOCONTACTID"===t&&void 0!==window[e]&&"view"===window[e].currentStatus){(b=$("#subvalue_ACCOUNTID"))[0]&&"null"!==(a=JSON.parse(b[0].dataset.params).id)&&a&&(c[u]=a,n.accounts[u]={},n.accounts[u].id=a,n.accounts[u].name=b[0].text,n.accounts[u].apiName="Account_Name",u+=1)}c.length>0||""!==o?(o=o+"&productId="+(a=this.getData("selectedRelatedRecordId")&&"all"!==this.getData("selectedRelatedRecordId")?this.getData("selectedRelatedRecordId"):c[0])+"&accDetails="+encodeURIComponent(JSON.stringify(n))+"&accountid="+a+"&accountname="+encodeURIComponent(n.accounts[0].name),this.setData("isRelatedRecords",!0),this.setData("accDetails",n)):(this.setData("accDetails",{}),this.setData("isRelatedRecords",!1))}return o},quickCreateRelatedListHandle:function(e,t,a){a&&("Contacts"===e?this.getRelatedRecordDetailsForContacts(a,t):"Campaigns"===e||"Potentials"===e||"Quotes"===e||"SalesOrders"===e?this.getRelatedRecordDetails(a,e):"Services"===e?this.setData("isRelatedRecords",!0):"Products"===e&&this.getRelatedRecordDetailsForProducts(a))},openCustomLookup:function(e,t,a,o,i,s,l,r){commonUtils.showHideLoadingDiv(show);var d=this.getData("fieldObj");if(e=e||(d.module?d.module:""),"ownername"!==(o=o||d.searchmodule)||!Crm.userDetails||!Crm.userDetails.PERSONAL_ACCOUNT){this.setData("isRelatedRecords",!1),this.getData("reqData").parentModule||this.setData("parentModule",e);var n=this.getData("showAllRecords"),u="",c=null,p=$(".lookupFieldList .lyteTableScroll"),m=p.scrollLeft(),h=p.scrollTop();null===i&&(i=""),this.setData("requestCompleted",!1);var g=$("#Crm_"+e+"_CURRENCYISOCODE").val();if((g=d&&d.currencyISOCode?d.currencyISOCode:$("#Crm_"+e+"_CURRENCYISOCODE").val())||(g=$("#subvalue_CURRENCYISOCODE").html()),g||(g=""),this.setData("currencyIsoCode",g),"Contacts"===o&&null==this.data.reqData.labelId||"Contacts"===o&&this.getData("reqData").productFldId)u=this.getRelatedRecordDetailsForContacts(e,t);else if("Campaigns"!==o&&"Potentials"!==o&&"Quotes"!==o&&"SalesOrders"!==o||null!=this.data.reqData.labelId)"Services"===o&&null==this.data.reqData.labelId?(this.setData("isRelatedRecords",!0),""!=this.getData("selectedRelatedRecordId")&&!Number.isNaN(parseInt(this.getData("selectedRelatedRecordId")))&&parseInt(this.getData("selectedRelatedRecordId"))<=this.serviceRelatedRecords.length&&(u="&serviceStatusFilter="+this.getData("selectedRelatedRecordId"))):"Products"===o&&null==this.data.reqData.labelId&&(u=this.getRelatedRecordDetailsForProducts(e));else var D=!(!(u=this.getRelatedRecordDetails(e,o))||"Campaigns"!==o);!0===this.getData("fromSearchCreate")&&(c=$("#layoutdetails").val()),n&&(u="");var f="";o===crmModuleConstants.Accounts&&e===crmModuleConstants.Accounts&&void 0!==window[e]&&("edit"===window[e].currentStatus||"view"===window[e].currentStatus)&&window[e].entityId,"Campaigns"===o&&"Campaigns"===e&&this.getData("reqData").fromaddcamppopup&&window[e]&&window[e].entityId&&(f="&campaignId="+window[e].entityId);var y=Crm.getCrmBasePath()+"/Search.do?searchmodule="+this.getData("reqData").lookupModule+"&fldName="+t+"&fldId="+t+"&fldLabel="+a+"&fldValue="+i+u+"&currencyISOCode="+g+f+"&newModel=true";(this.getData("reqData")&&this.getData("reqData").fromaddcamppopup||crmTemplate.fromAddToCampaignTool)&&(y+="&addToCampaign=true"),y+="&parentLayoutId="+c+"&parentModule="+e,y=Crm.getPortalURL(y),null==window[e]||"edit"!==window[e].currentStatus&&"view"!==window[e].currentStatus||(y+="&entityId="+window[e].entityId),null!=s&&null!=s&&""!=s&&(y+="&sortOrderString="+l+"&sortColumnString="+s,this.setData("sortOrderString",l),this.setData("sortColumnString",s)),this.data.reqData.subformsectionlabel&&(y+="&isSubFormField=true"),1==this.getData("fromSearchCreate")?y+="&fromSearchCreate=true":1==this.getData("fromAutDealCreate")&&(y+="&fromAutDealCreate=true"),y+="&fieldId="+this.getData("reqData").fieldid,this.setData("fieldId",this.getData("reqData").fieldid),y+="&openInAdvSearch=true",void 0!==r&&r.length>0?("searchcriteria="+("subjname"===this.getData("module")?r:JSON.stringify(r)),y+="&luceneSearch=true",this.setData("searchApplied",!0)):this.setData("searchApplied",!1),(this.getData("accDetails").length>0||Object.keys(this.getData("accDetails")).length>0||this.getData("isRelatedRecords"))&&this.setRelatedToDropdown(this.getData("accDetails")),this.getData("relatedDropdown")&&this.getData("relatedDropdown").length&&null==this.data.reqData.labelId&&this.setData("relatedRecordData",this.getData("relatedDropdown")),this.setDefaultCriteria(o,e),this.getData("quickCreateUnsupportedModules").contains(o)||this.getData("fromSearchCreate")?this.setData("isQuickCreateAllowed",!1):this.setData("isQuickCreateAllowed",!0),this.getData("reqData").fromaddcamppopup&&this.setData("isQuickCreateAllowed",!1),D&&this.setData("lookupUrlForCampaign",y);var C=document.getElementsByTagName("crux-lookup-filter-view")[0];C&&"entityLookup"===C.component.data.cxPropFrom?C.component.init():this.setData("ltPropBindToBody",!0),!1===this.getData("onScrollAction")&&(Crm.userDetails.RTL_ENABLED?p.scrollTop(h+1).scrollLeft(m+1):p.scrollTop(0).scrollLeft(0),$L(".entityLookupTable .lyteTableScroll").resetScrollbar())}},getRecordsIds:function(e){for(var t="",a=e.length,o=0;o<a;o++)t+=o==a-1?e[o].id:e[o].id+",";return t},closeThisLookupPop:function(){var e=$("[name=fldValue]");void 0!==e.attr("lt-prop-value")&&e.attr("lt-prop-value",""),document.getElementById("lookupListPopup").ltProp({show:!1}),this.backgroundCloseFunc(),this.setData("ltPropBindToBody",!1)},methods:{setFieldValue:function(e){var t=e.displayName,a=e.id,o=document.querySelector(".fromLyteFields"),i=$("#Crm_Cases_PHONE"),s=$("#Crm_Cases_EMAIL"),l=$("#topBandPopup"),r=l.is(":visible"),d=$("#lookupPopup").is(":visible"),n=this.getData("reqData"),u=this.getData("parentReqData"),c=this.getData("fromSearchCreate");if(c||validationUtils.isEmpty(u)||!validationUtils.isEmpty(n)||(this.setData("reqData",u),n=u),"subjname"===this.getData("module"))$("#task_subject").val(t),$L("#task_subject").data("id",a);else if(this.getData("reqData").isFrmZBModule)this.zbIntegrationSelectForAccountAndVendor(a,t);else if(!0===this.getData("newModel")){var p,m,h,g=n.lookupModule,D=window[n.module]?window[n.module].currentStatus:"view",f=n.labelName;"Crm_Events_CONTACTID"!==f&&"Crm_Events_SEID"!==f||(h="events");var y=$(document.getElementById(f)),C=this.getData("reqData").parentModule;Crm.moduleName=C||"";var v=this.getData("currentSelectedRecord"),I=!!(y[0]&&y.data("colname")&&y.data("colname").indexOf("CF")>0);if(I||"PARENTACCOUNTID"===this.data.reqData.colname||"Accounts"!==g?I||"Contacts"!==g||(v.addressInfo={BILLINGCITY:v.Mailing_City,BILLINGCODE:v.Mailing_Zip,BILLINGCOUNTRY:v.Mailing_Country,BILLINGSTATE:v.Mailing_State,BILLINGSTREET:v.Mailing_Street,SHIPPINGCITY:v.Other_City,SHIPPINGCODE:v.Other_Zip,SHIPPINGCOUNTRY:v.Other_Country,SHIPPINGSTATE:v.Other_State,SHIPPINGSTREET:v.Other_Street,CURRENCYISOCODE:v.Currency}):v.addressInfo={BILLINGCITY:v.Billing_City,BILLINGCODE:v.Billing_Code,BILLINGCOUNTRY:v.Billing_Country,BILLINGSTATE:v.Billing_State,BILLINGSTREET:v.Billing_Street,SHIPPINGCITY:v.Shipping_City,SHIPPINGCODE:v.Shipping_Code,SHIPPINGCOUNTRY:v.Shipping_Country,SHIPPINGSTATE:v.Shipping_State,SHIPPINGSTREET:v.Shipping_Street,CURRENCYISOCODE:v.Currency},("SalesOrders"===C&&"Quotes"===g&&!I||"Invoices"===C&&"SalesOrders"===g&&!I||"Invoices"===C&&"Quotes"===g&&!I)&&"view"!==D)Crm.fillFormObject(encodeURIComponent(t),a,g,null,C,void 0,$("#layoutDetails").val());else{m=p=y,p.val(t.trim()),p.addClass("nwrp tOE");var b=m.data("dependfield"),L=null;b&&(L=m.data("id")),m.data("id",a),"leContModName"===f&&$(this.getDomValByIdOrName("property(leContModId)")).attr("value",a),"modname"===f&&$(this.getDomValByIdOrName("property(modid)")).attr("value",a);var T=n.labelId;T&&$(this.getDomValByIdOrName(T)).attr("value",a),$(p)&&$(p).data()&&$(p).attr({"data-selectedlookupvalue":$(p).val(),"data-selectedid":$(p).data().id});var k=v.Account_Name,S=y.data("colname");if("Contacts"===g&&k&&void 0!==S&&S.indexOf("CF")<0&&!this.getData("fieldObj.module")){var P="Contact Name"===f?"Account Name":f.replace(S,"ACCOUNTID"),E=this.getDomValByIdOrName(P);if((!E||E&&!E.length)&&(E=this.getDomValByIdOrName(f.replace(S,"SEID"))),E&&crmTab.tabList.contains("Accounts")){var _=k.name+"",R=k.id+"",O=this.getDomValByIdOrName(P+"_label_select");if(O&&"Accounts"===$(O).val())"null"===_&&(_="",R=""),""===$(E).val()&&$(E).val(unescape(_)).data("id",R);else if(null!==R&&"null"!==R&&""===$(E).val()){var F=$(E).attr("id");$("#"+F+"_label_select").val("Accounts").trigger("change.select2"),$(E).val(unescape(_)).data("id",R)}}E&&$(E).data()&&$(E).attr({"data-selectedlookupvalue":$(E).val(),"data-selectedid":$(E).data().id})}if("Contacts"===g&&0===f.indexOf("CID")){var M=$("#property\\("+f+"\\)");void 0!==M&&M.val(a);var w=f.replace("CID",""),N=$("#accNameInConRoleAdd_"+w);if(N)void 0!==k&&(_=k.name+""),void 0!==_&&"null"!==_?N.text(_):N.empty()}if(void 0!==S&&S.indexOf("CF")<0&&v&&v.addressInfo&&C&&!this.getData("fieldObj.module")&&Object.values(v.addressInfo).length!=Object.values(v.addressInfo).filter((e=>null==e)).length&&Crm.fillAddressinfo(this.getData("parentModule"),v.addressInfo),"Contacts"===g&&"Cases"===C&&void 0!==S&&S.indexOf("CF")<0&&!this.getData("fieldObj.module")){var A=v.Phone+"",U=v.Email+"";"null"!==A&&i.length>0&&""===i.val()&&i.val(A),"null"!==U&&s.length>0&&""===s.val()&&s.val(U)}var q=Crm.isLineItemSubFormModule(y.data("subformdisplaylabel"));if(Crm.userDetails.isLineItemSubformMvmtDone&&q&&p.attr("id").indexOf("PRODUCTID")>-1){var x={};x.Product_Name=v.Product_Name,x.id=v.id,x.Unit_Price=v.Unit_Price,x.Qty_in_Stock=v.Qty_in_Stock,x.Qty_Ordered=v.Qty_Ordered,x.Product_Code=v.Product_Code,x.Taxable=v.Taxable,x.LAYOUTID=v.Layout,x.Tax=Crm.getPrdTaxDetails(v.Tax,!0),p.attr("prdDetails",JSON.stringify(x)),Crm.handleProductLineItemUpdate(p),v.Product_Code&&""!==v.Product_Code&&p.data("lineitemprodcode")?p.val(t.replace(/(\r\n|\n|\r)/gm," ").concat(" ("+v.Product_Code+")").trim()):p.val(t.replace(/(\r\n|\n|\r)/gm," "))}for(var B={},Y=this.getData("fieldOfLookupVal").length,j=0;j<Y;j++){var V=this.data.fieldOfLookupVal[j].related_field;B[V.id]=this.data.currentSelectedRecord[V.api_name],"object"==typeof B[V.id]&&B[V.id].id&&B[V.id].name&&(B[V.id].ID=B[V.id].id,B[V.id].Name=B[V.id].name,delete B[V.id].id,delete B[V.id].name)}var H=Lyte.Router.getRouteInstance("crm.tab.module")?Lyte.Router.getRouteInstance("crm.tab.module").getDynamicParam():void 0;if(!$("#VRAjaxEdit").is(":visible")&&H)if("view"!==window[H].currentStatus||$("#multipleFieldsEditPop:visible").length>0){if(Crm.userDetails.isLineItemSubformMvmtDone&&q&&x&&moduleRecordMapping.Products.fields){B=this.referenceFieldMethod(p,v);var J=moduleRecordMapping.Products.fields.find((e=>"Taxable"==e.api_name));B&&J&&J.id&&(B[J.id]=v.Taxable)}else y&&y.data&&y.data("subformsectionlabel")&&(B=this.referenceFieldMethod(p,v));Crm.setRefFieldValues(p,a,B)}else fieldOfLookup.getReferFromFieldIdVsColumnName(B,this.getData("reqData").fieldid,a);if(f.indexOf("txtListPrice")>-1&&m.val(a),"events"===h){"Accounts"===g&&(p.attr("recId",a),Events.invJsonCreate={t:{},e:{},u:{},l:{},c:{},lv:{},cv:{},g:{},r:{},rs:{}},Events.invRemoveJson=Events.invJsonCreate,$("#Crm_Events_PARTICIPANTID").text("None"),Events.selInviteesCnt=0,Events.relAccId!==a&&(Events.relAccMod=!0,Events.relAccName=t),Events.relAccId=a);var Q=v.addressInfo;Events.setAddressInfo(Q,g)}if("Events"!==C||"Leads"!==g&&"Contacts"!==g)if("Potentials"===g&&"rLEmail"===$('[name="source"]').val())"Contacts"===g&&reloadPersonality("potentialspersonality"),EntityEmail.changeDealForEmail("associateDeal",f,a,t);else if("Tasks"!==g||"Leads"!==C&&"Contacts"!==C||"Crm_Tasks_CONTACTID"!==f)if("Calls"!==g||"Leads"!==C&&"Contacts"!==C||"Crm_Calls_CONTACTID"!==f)if("Products"===g&&f.indexOf("CF")<0&&("SalesOrders"===C||"PurchaseOrders"===C||"Invoices"===C||"Quotes"===C)&&!Crm.userDetails.isLineItemSubformMvmtDone){var G=/(.*?)(\d+)/g.exec(f)[2];"PRODUCTDETAILS"===n.colname?(productDetails.setValuesForAddedRowNew(n.rownumber,v),$("#totalProductCount").val($("#linesTbody").find("tr").length)):("null"!==frmtqty&&($("#Crm_"+g+"_hdnQtyStock"+G).value=frmtqty),$("#Crm_"+g+"_hdnUnitPrice"+G).value=frmtprice,$("#Crm_"+g+"_txtListPrice"+G).value=frmtprice)}else"PriceBooks"===g&&"null"!==t&&null!==t&&(m.value=a,p.value=t);else crmBstTime.showSuggestionForCreateCall();else crmBstTime.showSuggestionForCreateTask();else{var z=$("#Events_fldRow_PARTICIPANTID").length>0,Z=v.Email;if(Z&&"null"!==Z&&z){var K=$("#addpartCheckbox");$("#addpartCheck").show(),$("#addpartCheckboxTitle").text(I18n.getMsg("crm.event.add.contact",[t])),K.attr({recId:a,module:g,onclick:"Events.addRelatedParticipant($(this),'"+a+"','"+g+"')"})}else $("#addpartCheck").hide()}if(b&&L!==a){var W=m.data("fieldid");ProcessFlow.getDuringTransitionDependentFields(a,W)}r&&""!==l.html()&&hideAnimatePopup("topBandPopup",!0),d&&hideAnimatePopup("lookupPopup",!0),$(p).effect("highlight",{},1e3)}if("Campaigns"===g&&void 0!==v.$campaign_type){var X=document.querySelector("crm-add-to-campaign-popup");if(X){var ee=v.$campaign_type,te=X.getData("showPopup"),ae=$("#AddToCampaign_CampaignType");if(te&&ae&&ae.length>0){var oe={campaignType:ee,selectedCampaign:a,buttonLabel:I18n.getMsg("crm.button.save")};5===ee?oe.buttonLabel=I18n.getMsg("crm.survey.label.sendsurvey"):4===ee&&(oe.buttonLabel=I18n.getMsg("crm.label.next")),X.setData(oe)}}}if("Campaigns"===g&&crmTemplate.fromAddToCampaignTool&&(Lyte.Router.transitionTo({route:"crm.tab.module.actions.add-to-campaigns",dynamicParams:[crmListView.getObject().module],queryParams:{"entity-id":a}}),delete crmTemplate.fromAddToCampaignTool),"Services"===g&&a&&(store.model[moduleRecordMapping.Services.id]||store.registerModel(moduleRecordMapping.Services.id,{},{extends:"entity"}),store.findRecord(moduleRecordMapping.Services.id,a).then((function(e){e&&e.length&&(crmCommonModule.serviceModuleLooked=!0,e.$.meta.original.Duration&&(e[0].Duration=e.$.meta.original.Duration),CSU.setAppointmentRelatedData(e[0]),CSU.setMemberDataForAppointment(),setTimeout((function(){var e=document.getElementById("Crm_Appointments_SMOWNERID");if(e&&e.hasChildNodes()){e.component.setData("dataId",""),e.component.setData("userRecord",{});var t=$("#Crm_Appointments_APPOINTMENTDATEANDTIME");CSU.checkServiceAvailabilityTime(t)}}),200))}))),"Appointments"===C&&"Crm_Appointments_APPOINTMENTFOR_RELATEDTO"===f){var ie=$("#addressOf_"+a),se=null;ie&&ie.size()&&(se=JSON.parse(ie.value)),CSU.setAddressValueForAppointment(se)}$(p)&&$(p).data()&&$(p).attr({"data-selectedlookupvalue":$(p).val(),"data-selectedid":$(p).data().id}),this.getData("fromAutDealCreate")&&document.querySelector("crm-appointment-preference").component.executeMethod("closeEntityLookup",g,t,a),$(p).trigger("create_edit_clone_DomChange",this).focus()}o&&o.component&&!c&&(o.component.setData({newLookupcreated:!0,selectedSingleId:a}),o.classList.remove("fromLyteFields")),this.closeThisLookupPop()},onDataLoaded:function(){this.setData("showCopy",!0)},checkForLookupAlert:function(){var e=$("#columnList.fromModuleLookup"),t=$("#lookupErrorMsg").is(":visible");if(e.length>0&&t)return!1},clearInput:function(e,t){t.$node.querySelector("input").setValue("")},sortColumnsInLookup:function(e){var t=$L(".sortableColumn"),a=t.closest("lyte-th").data("position"),o=this.getData("headerJson")[a],i=o.ColumnName,s=o.isSortable;if(this.getData("bodyContent").length>0)if(s){var l=null,r=null;"Unsort"!==e?("Last Name"==i?(l="Last Name##COL",i="Last Name##COL"):l=i,r="Asc"==e?"sort_asc":"sort_desc"):(r="",l=""),this.setData("sortOrderString",r),this.setData("sortColumnString",""),this.rollbackFilter();var d=this.getFilterParams();if(!1===d)return!1;this.setData("fromIndex",1),this.setData("toIndex",d.length>0?this.getData("defaultSearchRecLimit"):this.getData("defaultToIndex")),this.openCustomLookup(this.data.reqData.parentModule,this.data.reqData.labelName,this.data.reqData.labelName,this.data.reqData.searchModule,this.data.reqData.fieldVal,l,r,d)}else renderingUtils.showCustomAlert(I18n.getMsg("crm.sort.alert"));t.removeClass("sortableColumn")},fixDate:function(e,t){this.getData("criteriaObj")[e.bodyKey].value=t.component.getValue(),this.setData("disableFilterLink",!1)},enableApplyFilter:function(){this.setData("disableFilterLink",!1)},restrictedSelectUserCount:function(e,t,a,o){if(this.setData("disableFilterLink",!1),o.$node){var i=$L(o.$node),s=i.closest(".criteriaInputSection"),l=i.closest("lyte-th").data("position"),r=this.getData("headerJson")[l].UITYPE,d=2===r||100===r||209===r||96===r||999===r;if((s.find("lyte-dropdown").hasClass("picklistFilterLookup")||d?JSON.parse(a).length:a.length-1)>19)return d?(crmui.showMsgBand("error",I18n.getMsg("crm.las.error.picklist.maxlimit"),3e3),!1):(crmui.showMsgBand("error",I18n.getMsg("crm.las.error.user.maxlimit"),3e3),!1)}},showRelatedRecords:function(){this.showRelatedRecords()},backgroundCloseFunc:function(){this.backgroundCloseFunc()},customStyleRemoval:function(e){$("#zIndexStyleSheet").remove(),e&&27===e.keyCode&&this.cancelLookupPopClose(this)},addRemoveOptionToCriteriaObject:function(){this.addRemoveOptionToCriteriaObject(arguments)},sortColumnsClose:function(){this.setData("showSortableOptions",!1),$L(".sortableColumn").removeClass("sortableColumn")},closeThisLookupPop:function(){this.closeThisLookupPop()},submitPrimarySearch:function(){clearTimeout(this._timeout),1==this.getData("ltPropShow")&&(this._timeout=setTimeout(function(){var e=this.data.headerJson.find((e=>e.isPrimaryField));if(!this.validateFilterInput(this.data.searchValue.trim(),this.data.criteriaObj[e],e.FIELDLABEL,e.UITYPE,e.filterdetails.TYPE))return!1;this.rollbackFilter(),this.setData("focusFlag",!0),this.submitAdvancedSearchFilter.call(this)}.bind(this),300))},tableHeightSet:function(){var e=2.5*renderingUtils.windowHeight/4;$(".entityLookupTable").css("max-height",e)},tableStyleProperty:function(){this.tableStyleProperty()},handleComparatorChange:function(){var e=arguments[2].$node,t="lookupFiltersInput_"+$(e).attr("id").split("comparator_")[1],a=$("#"+t),o=$("#"+t+"_time"),i=$("#"+t+"_div1");"between"==arguments[1]?(a.hide(),o.hide(),i.show(),$("#"+t+"_div2").show(),$("#"+t+"_timediv1").show(),$("#"+t+"_timediv2").show()):i.is(":visible")&&(a.show(),o.show(),i.hide(),$("#"+t+"_div2").hide(),$("#"+t+"_timediv1").hide(),$("#"+t+"_timediv2").hide()),"CRUX-USER-DROPDOWN"===a[0].tagName&&document.querySelector("#"+t).cxProp("selectedUsers","[]"),void 0!==a.attr("lt-prop-value")&&a.attr("lt-prop-value",""),void 0!==a.attr("lt-prop-selected")&&("multiple"==a.attr("lt-prop-type")?a.attr("lt-prop-selected","[]"):a.attr("lt-prop-selected","-None-")),"empty"==$(e).attr("lt-prop-selected")||"notempty"==$(e).attr("lt-prop-selected")?(a.attr("lt-prop-disabled",!0),o.attr("lt-prop-disabled",!0)):a.attr("lt-prop-disabled",!1),void 0!==a.attr("lt-prop-current-date")&&a.attr("lt-prop-current-date","")},selthisLookup:function(e,t,a){if(void 0!==a){var o=(e=$(e)).closest("lyte-tr"),i=parseInt(o.attr("data-position"));if("viewPage"==this.getData("currentPage")||"confirmationPage"==this.getData("currentPage"))if(e.is(":checked")){o.addClass("highlgtMLookup");var s=this.getData("bodyContent")[i];s.checked=!0,Lyte.arrayUtils(this.getData("selectedList"),"push",s)}else{o.removeClass("highlgtMLookup");var l=this.getData("selectedList").indexOf(this.getData("bodyContent")[i]);setTimeout(function(){Lyte.arrayUtils(this.getData("selectedList"),"removeAt",l)}.bind(this),0)}if("viewPage"==this.getData("currentPage")||"confirmationPage"==this.getData("currentPage"))this.getData("selectedList").length>0?($(".selectedLookupCount").text(this.getData("selectedList").length),$(".MSLookup").removeClass("dN")):$(".MSLookup").addClass("dN")}},lookupPopResize:function(){$(this)[0].$node.component.methods.tableHeightSet()}},cancelLookupPopClose:function(){var e,t=$("#searchCreatePopup"),a=$("#createEditCallDiv"),o=$("#eventCreatePopup"),i=$("#qCreate"),s=$("#ctinotifier"),l=$("#ctiapi_activitys_create_task");return t.is(":visible")&&t[0].childElementCount>0?e=t:a.is(":visible")&&a[0].childElementCount>0?e=a:o.is(":visible")&&o[0].childElementCount>0?e=o:i.is(":visible")&&i[0].childElementCount>0?e=i:s.is(":visible")&&s[0].childElementCount>0?e=s:l.is(":visible")&&l[0].childElementCount>0&&(e=l),void 0===e},tableStyleProperty:function(){$L("#filterbox").focus();var e=$("crm-entity-lookup")[0],t=renderingUtils.windowHeight/2,a=Crm.isFromSalesInbox,o=$(".lookupFieldList"),i=o.height()+35,s=e.getData("headerJson").length,l=$("#norec"),r=$L(".lookupCriteriaLabelWrap").last().outerHeight();e.component.setData("columnCustHgt",r+"px"),a&&this.setData("fromSalesInbox",a),s>=6?o.find("lyte-table-structure").addClass("bigLookupTable"):o.find("lyte-table-structure").removeClass("bigLookupTable"),i>=t?$(".lookupFetchingWrap").addClass("moreRecordsTable"):$(".lookupFetchingWrap").removeClass("moreRecordsTable"),e.getData("bodyContent").length<1?l.show():l.hide()},backgroundCloseFunc:function(){if(!1===this.getData("forLookupofLookup")?$(".lookupListTable").removeClass("forSearchCreateLookup"):this.setData("forLookupofLookup",!1),this.setData("flushView",!0),this.setData("allFieldsNeeded",!1),this.setData("lookupUrlForCampaign",""),this.setData("ltPropBindToBody",!1),this.setData("ltPropShow",!1),this.setData("relatedDomId",""),$("#columnList.fromModuleLookup").removeClass("dBImp"),"PRODUCTDETAILS"===this.getData("reqData").colname){var e=$("#hrow"+this.getData("reqData").rownumber);e.hasClass("hide")&&e.remove()}this.setData("relatedToPopulate",!0),this.setData("fromIndex",1),this.setData("toIndex",this.getData("defaultToIndex")),this.setData("slicedFrom",0),this.setData("slicedTo",this.getData("defaultToIndex")),this.setData("bodyContent",[]),this.setData("slicedBodyContent",[]),this.setData("selectedList",[]),this.setData("searchValue",""),this.setData("currencyIsoCode",""),this.setData("relatedRecordData",[]),this.setData("accDetails",{}),this.setData("fromSearchCreate",!1),this.setData("fromQuickCreate",!1),this.setData("fromAutDealCreate",!1),$("#columnList").html(""),$("body").removeClass("bodyWrapper"),this.getData("isLinkingModule")&&this.getData("selectedIds").length>0?this.setData("currentpage","EditPage"):this.setData("currentpage","viewPage"),this.ResetCriteriaObject(),this.setData("appliedCriteriaObj",Lyte.deepCopyObject(this.getData("criteriaObj"))),this.setData("flag",!1),this.setData("sortColumnString",""),this.setData("sortOrderString",""),this.setData("showAllRecords",!1),this.setData("reqData","{}"),this.setData("resetCriteriaFlag",!1),this.setData("selectedRelatedRecordId",""),this.setData("searchApplied",!1)},multipleFilterSelection:function(){var e=$(arguments[3].$node);e.find("ul.lyteMultipleSelect").scrollTop(1e3)},clearFilter:function(){this.ResetCriteriaObject.call(this),$(".advanceFilter").removeClass("lookupFilterOpen"),$(".lookupCriteriaFilter").hide(),this.setData("resetCriteriaFlag",!1)},layersAnalystAgent:function(e,t,a,o,i){"subjname"===a.lookupModule?e.setData({showSubjLookup:!0,module:"subjname",modId:moduleRecordMapping.Tasks.id,reqData:a,fieldId:a.fieldid}):e.setData({showSubjLookup:!1,reqData:a,modId:moduleRecordMapping[a.lookupModule].id,singularModName:moduleRecordMapping[a.lookupModule].singular_label,module:""});var s=$(document.getElementById(a.labelName));if(s)var l=Crm.isLineItemSubFormModule(s.data("subformdisplaylabel")),r=!(l||!s.data("subformsectionlabel"));this.addAdditionalFieldsToLookup(a.lookupModule,l,r);var d=a.labelName?this.getDomValByIdOrName(a.labelName):"";this.setData("selectedRecordName",d&&d.val()?d.val():""),!a.id&&d&&"subjname"===a.lookupModule?a.id=d.data("id"):!a.id&&d&&(a.id=$(d).data("id"));var n,u=$("#searchCreatePopup"),c=$("#createEditCallDiv"),p=$("#eventCreatePopup"),m=$("#qCreate"),h=$("#ctinotifier"),g=$("#ctiapi_activitys_create_task"),D=document.getElementById("lookupListPopup"),f=$("#ctinotifier_center"),y=$("#subSecondaryPopup");if(this.data.reqData.fieldid){var C=store.peekRecord("field",a.fieldid);!C&&this.data.reqData.parentModule?store.findRecord("module",moduleRecordMapping[this.data.reqData.parentModule].id,void 0,void 0,void 0,{getFields:!0}).then(function(e){e&&e[0].fields&&(C=store.peekRecord("field",this.data.reqData.fieldid))&&this.setData("parentModuleData",Lyte.deepCopyObject(C))}.bind(this)):C&&this.setData("parentModuleData",Lyte.deepCopyObject(C))}u.is(":visible")&&u[0].childElementCount>0?n=u:c.is(":visible")&&c[0].childElementCount>0?n=c:p.is(":visible")&&p[0].childElementCount>0?n=p:m.is(":visible")&&m[0].childElementCount>0?n=m:h.is(":visible")&&h[0].childElementCount>0?n=h:g.is(":visible")&&g[0].childElementCount>0?n=g:f.is(":visible")&&f[0].childElementCount>0?n=f:y.is(":visible")&&y[0].childElementCount>0&&(n=y),void 0!==o&&e.setData("fromAutDealCreate",o),void 0!==t&&e.setData("fromSearchCreate",t),i&&this.clearFilter(),Crm.isFromSalesInbox?D.ltProp({wrapperClass:"lookupListTable fromSalesInbox",offset:{top:"0px",left:"center"}}):D.ltProp({wrapperClass:"lookupListTable",offset:{top:"0px",left:"center"}}),e.setData("ltPropShow",!0),$("#zIndexStyleSheet").remove(),setTimeout(function(){if(void 0!==n){var e=parseInt(n.css("z-index")),t="<style id='zIndexStyleSheet'>.lookupListTable{z-index:"+(e+1)+" !important;}.lookupListTable lyte-modal-freeze{z-index:"+e+" !important;}</style>";$("head").append(t)}}.bind(e),200)},zbIntegrationSelectForAccountAndVendor(e,t){if("Potentials"!==this.getData("reqData").searchModule){var a=crmBasePath+"/connectzb",o={entityType:ZBLookUpUtil.zbFromCRMURLType,formatType:"json",module:ZBLookUpUtil.searchModuleName,crmEntityId:e};4===ZBLookUpUtil.zbFromCRMURLType&&(a="<%=crmBasePath%>/connectzs",o={actionNumber:ZBLookUpUtil.zbFromCRMURLType,formatType:"json",crmModule:ZBLookUpUtil.searchModuleName,crmEntityID:e}),"Vendors"===o.module?ZBLookUpUtil.vendorID=e:"Accounts"===o.module?(ZBLookUpUtil.accountID=e,ZBLookUpUtil.contactID="",ZInvoice.potentialLinkingObj.accountID=e,ZInvoice.potentialLinkingObj.contactID=""):(ZBLookUpUtil.contactID=e,ZBLookUpUtil.accountID="",ZInvoice.potentialLinkingObj.accountID="",ZInvoice.potentialLinkingObj.contactID=e);var i=$(this);i.data("requestRunning")||(i.data("requestRunning",!0),jQuery.ajax({url:a,data:o,type:"POST",success:function(e){var t;0!==(t="object"==typeof e?e:JSON.parse(e)).code?ZInvoice.showMessage(t.message):$("#zBooksIframe")[0].contentWindow.InvoiceUtil.updateFieldsInEntityCreatePage(t,ZBLookUpUtil.zbFromCRMURLType)},error:function(){i.data("requestRunning",!1)},complete:function(){i.data("requestRunning",!1)}}))}else $("#zBooksIframe")[0].contentWindow.InvoiceUtil.updatePotentialInEntityCreatePage(t,e)},getDomValByIdOrName:function(e){try{var t=$L("#"+e)}catch(a){t||(t=$L('[name ="'+e+'"]'))}return t},actions:{lookupTableScroll:function(){$L(".lyteInputCalendar").is(":visible")&&$L(".lookupFiltersInput").blur()},checkBrowserBack:function(){var e=$L("crm-entity-lookup")[0].component;e.getData("backCallMade")||(e.closeThisLookupPop(),e.setData("backCallMade",!0),setTimeout(function(){e.setData("backCallMade",!1)}.bind(e),1e3))},searchOnEnter:function(){13==arguments.callee.caller.arguments[6].keyCode&&this.submitAdvancedSearchFilter()},closeThisLookupPop:function(){this.closeThisLookupPop()},navigateRecords:function(e){if(this.rollbackFilter(),this.getData("searchApplied")){var t=!1;if(e?this.getData("slicedTo")<this.getData("bodyContent").length&&(this.setData("slicedFrom",this.getData("slicedTo")),this.setData("slicedTo",this.getData("slicedTo")+this.getData("defaultToIndex")),t=!0,this.toggleForward(this.getData("slicedTo")<this.getData("bodyContent").length),this.toggleBackward(this.getData("slicedFrom")>0)):this.getData("slicedFrom")>0&&(this.setData("slicedTo",this.getData("slicedFrom")),this.setData("slicedFrom",this.getData("slicedFrom")-this.getData("defaultToIndex")),t=!0,this.toggleBackward(this.getData("slicedFrom")>0),this.toggleForward(this.getData("slicedTo")<this.getData("bodyContent").length)),t&&(this.setData("slicedBodyContent",this.getData("bodyContent").slice(this.getData("slicedFrom"),this.getData("slicedTo"))),!1===this.getData("onScrollAction"))){var a=$(".lookupFieldList .lyteTableScroll");Crm.userDetails.RTL_ENABLED?a.scrollTop(tableTop+1).scrollLeft(tableLeft+1):a.scrollTop(0).scrollLeft(0),$L(".entityLookupTable .lyteTableScroll").resetScrollbar()}}else{(t=e?this.getData("hasMoreRecords"):this.getData("fromIndex")>this.getData("defaultToIndex"))&&(e?(this.setData("fromIndex",this.getData("toIndex")+1),this.setData("toIndex",this.getData("toIndex")+this.getData("defaultToIndex"))):(this.setData("fromIndex",this.getData("fromIndex")-this.getData("defaultToIndex")),this.setData("toIndex",this.getData("toIndex")-this.getData("defaultToIndex"))),this.openCustomLookup(this.data.reqData.parentModule,this.data.reqData.labelName,this.data.reqData.labelName,this.data.reqData.searchModule,this.data.reqData.fieldVal,this.getData("sortColumnString"),this.getData("sortOrderString")))}},showNewCriteriaFilter:function(){var e=$(".lookupCriteriaFilter"),t=$(".advanceFilter"),a=$L(".lookupCriteriaLabelWrap").last().outerHeight();this.setData("columnCustHgt",a+"px"),e.is(":visible")?(this.clearFilter(),this.submitAdvancedSearchFilter()):(t.addClass("lookupFilterOpen"),this.setData("resetCriteriaFlag",!0),e.show(),this.setData("disableFilterLink",!0),this.setData("appliedCriteriaObj",Lyte.deepCopyObject(this.getData("criteriaObj"))));var o=this;$(".lookupFiltersInput").on("change",(function(){o.setData("disableFilterLink",!1)}))},showColumnList:function(e){sE(e),$L("#popoverTest")[0].ltProp("show",!0);var t=this.data.module,a=$("#columnList.fromModuleLookup"),o=$(".lookupListTable .lyteTableScroll"),i=$(".lookupListTable .lyteModal").css("z-index"),s=o.height()/100*95,l=$("#menuColumnListView");if(e.preventDefault(),!a.hasClass("dBImp")){var r=this.data.currentModuleColumns;void 0===r.columns||r.currentmodule!=t?(new crmRequestPool).doAjax(Crm.getCrmBasePath()+"/CustomDisplay.do?actionName=show&frmmodule="+this.getData("reqData").lookupModule+"&cust_disp_module="+this.data.parentModule+"&from=createEntity&nocache="+(new Date).getTime(),function(e){r.columns=e.columns,this.showColumnListByColumns(r,this.data.module)}.bind(this)):this.showColumnListByColumns(r,this.data.module)}var d=$("#columnlistsearch");""!=d.val()&&(d.val(""),searchColumnList("columnListId",document.createEvent("MouseEvent"),"")),setTimeout((function(){s>230&&(a.css("z-index",i),a.find("#menuColumnListView").css("max-height",s),d.focus()),l.scrollTop(0)}),400)},openQuickCreate:function(){var e=$("#lookupListPopup"),t=this.getData("reqData");this.setData("parentReqData",t);var a=Crm.getCrmBasePath()+"/QuickCreateAction.do?module="+this.getData("reqData").lookupModule+"&searchmodule="+this.getData("reqData").lookupModule+"&fldName="+this.data.reqData.labelName+"&fldId="+(this.data.reqData.labelId?this.data.reqData.labelId:this.data.reqData.labelName)+"&fldLabel="+this.getData("reqData").lookupModule+"&fldValue="+this.data.reqData.fieldVal+"&newModel="+this.data.newModel;if(this.data.fieldId&&(a+="&folLookupFieldId="+this.data.fieldId),this.data.productId&&(a+="&productId="+this.data.productId),this.getData("fieldObj")&&this.getData("fieldObj").layoutId?a+="&folLayoutId="+this.getData("fieldObj").layoutId:"undefined"!=typeof returnJson&&returnJson&&returnJson.layoutIdOfEntity&&(a+="&folLayoutId="+returnJson.layoutIdOfEntity),"null"!=this.getData("accDetails")&&this.getData("accDetails").length>0&&(a+="&accDetails="+this.data.accDetails),"Crm_Contacts_REPORTINGTOCONTACTID"===this.data.reqData.labelName)if(this.getData("accDetails")&&this.getData("accDetails").accounts)a+="&accountid="+this.getData("accDetails").accounts[0].id+"&accountname="+encodeURIComponent(this.getData("accDetails").accounts[0].name);else if(this.data.relatedDropdown&&this.data.relatedDropdown.length){var o=Object.keys(this.data.relatedDropdown[0]).find((e=>e.indexOf("Crm_")>-1)),i=o?this.data.relatedDropdown[0][o].name:"";a+="&accountid="+this.data.relatedDropdown[0].id+"&accountname="+encodeURIComponent(i)}a+="&openInAdvSearch=true",a=Crm.getPortalURL(a),1==this.getData("isfromOutlookRightPanel")&&(a+="&isfromOutlookRightPanel=true"),1==this.getData("fromAutDealCreate")&&(a+="&fromAutDealCreate=true");var s=$("#entityLookupdiv"),l=s.find('[name="source"]').val();"rLEmail"===l&&(a=a+"&source="+l+"&contactId="+s.find('[name="contactId"]').val());""!=this.getData("currencyIsoCode").trim()&&(a=a+"&currencyISOCode="+this.getData("currencyIsoCode").trim());var r=null==this.getData("fromSearchCreate")?"topBandPopup":"lookupPopup";$("#"+r).removeClass("zcrm-show").css({top:"0px",display:"none","z-index":"10002"}).width(""),$("#searchCreatePopup").removeClass("fromAutoComplete"),commonUtils.openCustomLookup(a,void 0,"searchCreatePopup",(function(){$L(".massUpdateModalWrapper")[0]||$("lyte-modal-freeze").css("z-index","10001")})),(void 0===Crm.userDetails.VALIDATIONRULEAVAILABLE||!0===Crm.userDetails.VALIDATIONRULEAVAILABLE&&Crm.userDetails.VRINVOLVEDMODULES.contains(this.getData("reqData.lookupModule")))&&Crm.downloadValidationRules(a,this.getData("reqData.lookupModule")),e[0].ltProp("show",!1)},openSortMenu:function(e){if(this.getData("bodyContent").length>0){var t=$L(e),a=this,o=t.closest("lyte-th").data("position"),i=a.getData("headerJson")[o],s=i.isSortable;if($L(".sortableColumn").removeClass("sortableColumn"),s){if(t.addClass("sortableColumn"),i.ColumnName===a.getData("sortColumnString")&&""!==this.getData("sortOrderString")){var l=[];l.push("sort_asc"===this.getData("sortOrderString")?I18n.getMsg("crm.column.sort.desc"):I18n.getMsg("crm.column.sort.asc")),l.push(I18n.getMsg("crm.column.unsort")),a.setData("availableSort",l)}else a.setData("availableSort",a.getData("defaultSort"));a.setData("showSortableOptions",!0)}else a.setData("showSortableOptions",!1)}},submitAdvancedSearchFilter:function(){clearTimeout(this._timeout),1==this.getData("ltPropShow")&&(this._timeout=setTimeout(function(){this.submitAdvancedSearchFilter.call(this)}.bind(this),300))}}}),Lyte.Component.registerHelper("getTags",(function(e){return e&&e.length>0?e.split(","):[]})),Lyte.Component.registerHelper("getKeys",(function(e){return"object"==typeof e?Object.keys(e):[]})),Lyte.Component.registerHelper("setFilterComparatorsforLookupCrt",(function(e,t){var a,o=$("crm-entity-lookup")[0].component.data,i=e.filterdetails;a=o.LookupDatatypeVsUiType.Text.contains(i.UITYPE)||116==e.UITYPE&&"string"==e.returnType||o.LookupDatatypeVsUiType.Phone.contains(i.UITYPE)?[{name:I18n.getMsg("has"),value:"starts_with"},{name:I18n.getMsg("is empty"),value:"empty"},{name:I18n.getMsg("is not empty"),value:"notempty"}]:o.LookupDatatypeVsUiType.Integer.contains(i.UITYPE)||o.LookupDatatypeVsUiType.Currency.contains(i.UITYPE)||o.LookupDatatypeVsUiType.Double.contains(i.UITYPE)||116==e.UITYPE&&"number"==e.returnType?[{name:"=",value:"equals"},{name:"!=",value:"not_equal"},{name:">",value:"greater_than"},{name:">=",value:"greater_equal"},{name:"<",value:"less_than"},{name:"<=",value:"less_equal"},{name:I18n.getMsg("between"),value:"between"},{name:I18n.getMsg("is empty"),value:"empty"},{name:I18n.getMsg("is not empty"),value:"notempty"}]:o.LookupDatatypeVsUiType.DateTime.contains(i.UITYPE)||116==e.UITYPE&&"datetime"==e.returnType?[{name:I18n.getMsg("is"),value:"equals"},{name:I18n.getMsg("between"),value:"between"},{name:I18n.getMsg("isn't"),value:"not_equal"},{name:I18n.getMsg("is after"),value:"greater_than"},{name:I18n.getMsg("is before"),value:"less_than"},{name:I18n.getMsg("is empty"),value:"empty"},{name:I18n.getMsg("is not empty"),value:"notempty"}]:o.LookupDatatypeVsUiType.Date.contains(i.UITYPE)||116==e.UITYPE&&"date"==e.returnType?[{name:I18n.getMsg("is"),value:"equals"},{name:I18n.getMsg("isn't"),value:"not_equal"},{name:I18n.getMsg("is after"),value:"greater_than"},{name:I18n.getMsg("is before"),value:"less_than"},{name:I18n.getMsg("between"),value:"between"},{name:I18n.getMsg("is empty"),value:"empty"},{name:I18n.getMsg("is not empty"),value:"notempty"}]:o.LookupDatatypeVsUiType.PickList.contains(i.UITYPE)?[{name:I18n.getMsg("is"),value:"equals"},{name:I18n.getMsg("isn't"),value:"not_equal"}]:o.LookupDatatypeVsUiType.Layout.contains(i.UITYPE)?[{name:I18n.getMsg("is"),value:"in"}]:o.LookupDatatypeVsUiType.Boolean.contains(i.UITYPE)||116==e.UITYPE&&"boolean"==e.returnType?[{name:I18n.getMsg("is"),value:"equals"}]:o.LookupDatatypeVsUiType.MultiSelect.contains(i.UITYPE)?[{name:I18n.getMsg("is"),value:"equals"},{name:I18n.getMsg("isn't"),value:"not_equal"},{name:I18n.getMsg("is empty"),value:"empty"},{name:I18n.getMsg("is not empty"),value:"notempty"}]:o.LookupDatatypeVsUiType.Lookup.contains(i.UITYPE)||o.LookupDatatypeVsUiType.AutoNumber.contains(i.UITYPE)?[{name:I18n.getMsg("starts with"),value:"starts_with"},{name:I18n.getMsg("is"),value:"equals"},{name:I18n.getMsg("isn't"),value:"not_equal"},{name:I18n.getMsg("is empty"),value:"empty"},{name:I18n.getMsg("is not empty"),value:"notempty"}]:o.LookupDatatypeVsUiType.Owner.contains(i.UITYPE)?[{name:I18n.getMsg("is"),value:"equals"},{name:I18n.getMsg("isn't"),value:"not_equal"}]:[{name:I18n.getMsg("is"),value:"equals"},{name:I18n.getMsg("isn't"),value:"not_equal"},{name:I18n.getMsg("is empty"),value:"empty"},{name:I18n.getMsg("is not empty"),value:"notempty"}],i.filterComparators=a})),Lyte.Component.registerHelper("setPickListdataValue",(function(e){for(keys in e)"-None-"==e[keys].ActualValue?e[keys].dataValue=e[keys].ActualValue:e[keys].dataValue=e[keys].DisplayValue})),Lyte.Component.registerHelper("getPicklistColorCodeStyle",(function(e,t){var a=getPickListColorCode(e,t);return getPLStyleObj(a)}));
