var crmSocial={url:Crm.getCrmBasePath()+"/SocialTab.do",urlregex:/(http:\/\/www.|https:\/\/www.|www.|http:\/\/|https:\/\/)?[\w]+(\.[a-zA-Z0-9-:;?_#!]+)+(\/[\w-;\-*._?,'/\\+&amp;%$#:=~@!]*)*/gim,privacy:!1,compose_network:"",compose_brid:"",moreNetwork:"",moreBrid:"",entityId:"",currentModule:"",shouldReloadContactsAndUnknown:!1,markedEntityJsonResponse:[],searchIds:[],entityIds:[],reAuthCallbackFunc:"",reAuthCallbackParams:"",entityFormPositionLeft:"",entityFormPositionRight:"",addColumnKso:"",updateIds:[],soc_config:{tw:[],fb:[],gp:[]},filteredAccId:[],all_soc_config:{tw:[],fb:[],gp:[]},accIdVsNetwork:{},unpinTimelineStatus:!0,compose_clone:void 0,eachsocialboxwidth:"",init:function(e){if(crmSocialUtil.perm={},crmSocialUtil.processPermissions(e),crmSocial.isAdmin=e.render.admin,Handlebars.registerPartial("twPost",Handlebars.templates.twPost),Handlebars.registerPartial("fbPost",Handlebars.templates.fbPost),Handlebars.registerPartial("gpPost",Handlebars.templates.gpPost),Handlebars.registerPartial("twPostActions",Handlebars.templates.twPostActions),Handlebars.registerPartial("fbPostActions",Handlebars.templates.fbPostActions),Handlebars.registerPartial("socialAccounts",Handlebars.templates.socialAccounts),Handlebars.registerPartial("SocialSearch",Handlebars.templates.SocialSearch),Handlebars.registerPartial("CustomFollowing",Handlebars.templates.CustomFollowing),Handlebars.registerPartial("SearchColumn",Handlebars.templates.SearchColumn),Handlebars.registerPartial("TimelineColumn",Handlebars.templates.TimelineColumn),Handlebars.registerPartial("trackingNameList",Handlebars.templates.trackingNameList),Handlebars.registerPartial("SocialKeyword",Handlebars.templates.SocialKeyword),Handlebars.registerPartial("searchKeywordList",Handlebars.templates.searchKeywordList),Handlebars.registerPartial("selectedEntities",Handlebars.templates.selectedEntities),Handlebars.registerPartial("composePin",Handlebars.templates.composePin),e.limit)return $("#social_parent_div").html(Handlebars.templates.SocialTab(e.render)),$("#social_sidebar").html(Handlebars.templates.SocialSidebar(e.render)),$("#social_main").html(Handlebars.templates.SocialMainSection(e.render)),crmSocial.setKanbanViewBoxHeight(),void(e.admin&&renderingUtils.triggerEvent("click",$("#settings_button")));if(crmSocialUtil.processPermissions(e),crmSocial.isAdmin=e.render.admin,crmSocial.sidemenuWidth(),crmSocial.unpinTimelineStatus=e.unpin_social_timeline,e.render){if(e.render.leads=moduleRecordMapping.Leads.plural_label,e.render.contacts=moduleRecordMapping.Contacts.plural_label,e.render.columns){var a=e.render.columns;crmSocial.columns=a.length;for(var t=0;t<crmSocial.columns;t++){var n=a[t];n.search?crmSocial.searchIds.push(n.id):n.entity&&crmSocial.entityIds.push(n.id),(n.search||n.entity)&&(n.leads=moduleRecordMapping.Leads.plural_label,n.contacts=moduleRecordMapping.Contacts.plural_label,a[t]=n)}e.render.columns=a}e.render.twitter&&(e.render.facebook||e.render.googleplus)?e.render.compose_literal=I18n.getMsg("crm.nsocial.tab.compose.new"):e.render.facebook||e.render.googleplus?e.render.compose_literal=I18n.getMsg("crm.nsocial.tab.compose.post"):e.render.twitter&&(e.render.compose_literal=I18n.getMsg("crm.nsocial.tab.compose.tweet")),$("#social_parent_div").html(Handlebars.templates.SocialTab(e.render)),$("#social_sidebar").html(Handlebars.templates.SocialSidebar(e.render)),$("#social_main").html(Handlebars.templates.SocialMainSection(e.render)),$("#social_main").append(Handlebars.templates.SocialCustomColumns(e.render))}0===$("#kso_BlanState_div").length?($("#social_main").addClass("mL47"),$("#social_sidebar_innerdiv").find(".klefticon").addClass("socialMenuBg")):$("#social_main").css("overflow-y","auto"),e.module_perm&&(crmSocial.module_perm=e.module_perm),e.permitted_accounts&&(crmSocial.permitted_accounts=e.permitted_accounts),crmSocial.setSortableColumns(),crmSocial.setKanbanViewBoxHeight(),e.render.twitter&&e.render.twitter.forEach((function(e){crmSocial.all_soc_config.tw.push(e.config_id),crmSocial.soc_config.tw.push(e.config_id),crmSocial.accIdVsNetwork[e.config_id]=1})),e.render.facebook&&e.render.facebook.forEach((function(e){crmSocial.all_soc_config.fb.push(e.config_id),crmSocial.soc_config.fb.push(e.config_id),crmSocial.accIdVsNetwork[e.config_id]=2})),e.render.googleplus&&e.render.googleplus.forEach((function(e){crmSocial.all_soc_config.gp.push(e.config_id),crmSocial.soc_config.gp.push(e.config_id),crmSocial.accIdVsNetwork[e.config_id]=3})),e.render&&e.render.accounts&&(crmSocial.getFeeds(),crmSocial.showhidePinTimeline()),e.render.accounts&&setTimeout((function(){crmSocial.unpinTimelineStatus&&crmSocial.loadMyFeeds(),e.render.twitter&&(crmSocial.loadFilter("customers"),crmSocial.loadFilter("potential_contacts"),crmSocial.loadFilter("contacts_and_leads"));for(var a=$("#social_parent_div").find(".noti_banner"),t=a.length,n=0;n<t;n++){var l=$(a.eq(n));crmSocial.notificationElementLength(l)}crmSocial.checkAuthExpiry()}),1e3),$(".ps-container").on("scroll",$L.debounce((function(){crmSocial.columnScroll(this)}),300)),1===e.render.zoho_social&&$("#zoho_social").length>0&&(setTimeout((function(){$(".soc_Msg").fadeIn()}),1e3),setTimeout((function(){$(".soc_Msg").fadeOut()}),15e3))},notificationElementLength:function(e){var a=null;if("my_timeline_notification_banner"!==(e=$(e)).attr("id")){a=e.closest(".ksocialbox");var t=parseInt(a.innerWidth())/2-parseInt(e.innerWidth())/2;e.css("left",t)}},showZohoSocialBanner:function(){if(!$("#zhSocial").is(":visible")){var e=$("#tabLayer").outerHeight();$(".soc_Msg").hide(),crmSocial.showKsoFreezeLayer();Crm.userDetails.DEPLOYMENT;$("#social_container").append(Handlebars.templates.SocialCrossBrand({EU:"EU"===Crm.userDetails.DEPLOYMENT}));var a=$("#zhSocial"),t=$(".zhSocSlide").outerWidth()*$(".zhSlide .slImg").length;$(".zhSlide").css("width",t),a.removeClass("dN"),setTimeout((function(){a.css("top",e)}),50)}},watchLater:function(e){var a={};(a.action="update_callout_visibility",a.status=e,a[csrfParamName]=csrfToken,"0"!==e||confirm("Are you sure you're not interested in learning about the Zoho Social-CRM integration?"))&&(new crmRequestPool).initiate({action:crmSocial.url,data:a,success:function(){crmSocial.closeCallout(),"0"===e&&$("#zoho_social").remove()}})},closeCallout:function(){var e=$("#zhSocial");e.css("top","-650px"),setTimeout((function(){crmSocial.hideKsoFreezeLayer(),e.remove()}),300)},columnScroll:function(e){var a=$(e),t=a.find(".ps-scrollbar-y");if("0px"===t.css("top"))t.attr("hide",!0);else{var n=a.find("#noti_li");if(n.length>0){var l=n.offset(),i=a.parent().prev().outerHeight()-n.outerHeight();l.top<i&&t.attr("hide")&&t.attr("hide")&&a.find(".notification_section").append(n)}}},showMenu:function(e,a){var t=$(".sideMenu"),n=$("#search_menu").offset().top,l=$(".ksocialbox").innerWidth(),i=crmSocial.windowHeight+100,s="";switch($("#kso_search_menu").css("top",n),crmSocial.showKsoFreezeLayer(),e){case"accounts":s="kso_accounts_menu";break;case"menu":s="kso_crm_menu";break;case"compose":crmSocial.setPotentialScrollBar("country_list_outer","country_list"),crmSocial.setPotentialScrollBar("language_list_outer","language_list"),s="kso_compose_menu";break;case"search":Crm.trackSpotLightAction("CRM Social- Keyword Tracking Clicked"),s="kso_search_menu";break;case"follow":Crm.trackSpotLightAction("CRM Social- Custom Streams Clicked"),crmSocial.resetCompose(),s="kso_follow_menu",crmSocial.resetEntity()}var o=$("#"+s);if("search"!==e&&(crmSocial.resetSearch(),crmSocial.resetCompose()),crmSocial.oldid&&crmSocial.oldid!==s&&(t.css("left","-"+l+"px"),$("#"+crmSocial.oldid).css("display","none")),setTimeout((function(){crmSocial.oldid=s}),200),!o.is(":visible")){if(Crm.userDetails.RTL_ENABLED?t.css("right","-"+l+"px"):t.css("left","-"+l+"px"),o.is(":visible")||($(".klefticon").removeClass("ksocialredbotder"),$(a).addClass("ksocialredbotder"),o.css({display:"block",left:"0px"}),Crm.userDetails.RTL_ENABLED?setTimeout((function(){o.css("right","47px")})):setTimeout((function(){o.css("left","47px")}))),"compose"===e&&0===$("#social_mytimeline").children().length)Crm.trackSpotLightAction("CRM Social- My Posts & Compose Clicked"),crmSocial.getMyFeeds();else if("compose"===e){Crm.trackSpotLightAction("CRM Social- My Posts & Compose Clicked");var r=$("#my_timeline_notification_banner"),c=r.innerWidth()/2,d=$("#pinned_timeline").innerWidth()/2-c,m=$("#kso_compose_menu").innerWidth()/2-c;0===r.closest(".sideMenu").length?r.css("left",d):r.css("left",m),crmSocial.setNotificationImages("#my_timeline"),crmSocial.setPotentialScrollBar("my_timeline_outer","my_timeline_inner")}if("accounts"===e){Crm.trackSpotLightAction("CRM Social- Accounts Filter Clicked"),crmSocial.resetCompose();var u=crmSocial.windowHeight,p=$("#kso_accounts_menu");u<p.offset().top+p.height()&&p.css("top",crmSocial.topBandHeight)}if(crmSocial.initSideMenuHeight(e),"kso_compose_menu"===s){var f=$("#kso_auditlog_popup"),g=$("#kso_setting_popup");f.is(":visible")&&(f.css("top","-"+i+"px"),setTimeout((function(){f.css("display","none")}),1e3)),g.is(":visible")&&(g.css("top","-"+i+"px"),setTimeout((function(){g.css("display","none")}),1e3));var v=$("#reauth_alert");v.is(":visible")&&(v.animate({top:"-500px"}),setTimeout((function(){v.css("display","none")}),1e3))}}},setKanbanViewBoxHeight:function(){crmSocial.topBandHeight=$("#tabLayer").height(),crmSocial.windowHeight=renderingUtils.windowHeight-crmSocial.topBandHeight-30,crmSocial.windowWidth=renderingUtils.windowWidth,$("#social_container").css("height",crmSocial.windowHeight),$("#social_sidebar").css("height",crmSocial.windowHeight),$("#social_main").css("height",crmSocial.windowHeight),$(".ksocialbox").css("height",crmSocial.windowHeight),crmSocial.setHeadingShadow("ks_customers_container"),crmSocial.setHeadingShadow("ks_potential_container"),crmSocial.setHeadingShadow("ks_contact_container"),crmSocial.setHeadingShadow("ks_unknown_container"),crmSocial.selectAllSocialMenu(),crmSocial.setPerfetScrollforKanbanview(),crmSocial.activityPop();var e=$("#entities_parent").width()/2;$(".forwidth").css({"max-width":e})},activityPop:function(){if(1===$("#social_parent_div").length){var e=renderingUtils.windowWidth,a=renderingUtils.windowHeight,t=$("#social_sidebar").width(),n=$("#kso_setting_popup"),l=$("#kso_auditlog_popup"),i=$("#search_menu"),s=$("#follow_menu"),o=n.width(),r=l.width(),c=$("#all_posts").offset().top,d=i.offset().top,m=s.offset().top,u=(e-o+t)/2,p=(e-r+t)/2;n.css("left",u),l.css("left",p),$("#kso_compose_menu").css("top",crmSocial.topBandHeight),$("#kso_accounts_menu").css("top",c),1===i.length&&$("#kso_search_menu").css("top",d),1===s.length&&$("#kso_follow_menu").css("top",m),$("#kso_crm_menu").css({"max-height":a,overflow:"scroll"}),$("#WarningDiv").css({left:u,top:"-500px",position:"fixed"})}},setPerfetScrollforKanbanview:function(){if(crmSocial.setPotentialScrollBar("ks_customers_container","ks_customers_inner_container"),crmSocial.setPotentialScrollBar("ks_potential_container","ks_potential_inner_container"),crmSocial.setPotentialScrollBar("ks_contact_container","ks_contact_inner_container"),crmSocial.setPotentialScrollBar("ks_unknown_container","ks_unknown_inner_container"),crmSocial.searchIds.length>0)for(var e=crmSocial.searchIds.length,a=0;a<e;a++)crmSocial.setPotentialScrollBar("search_"+crmSocial.searchIds[a]+"_container","search_"+crmSocial.searchIds[a]+"_inner_container");if(crmSocial.entityIds.length>0)for(e=crmSocial.entityIds.length,a=0;a<e;a++)crmSocial.setPotentialScrollBar(crmSocial.entityIds[a]+"_container",crmSocial.entityIds[a]+"_inner_container");crmSocial.setPotentialScrollBar("timeline_ks_customers_container","timeline_ks_customers_inner_container"),crmSocial.setPotentialScrollBar("timeline_ks_potential_container","timeline_ks_potential_inner_container"),crmSocial.setPotentialScrollBar("timeline_ks_contact_container","timeline_ks_contact_inner_container");var t=$(".ksocialbox").width(),n=$("#ks_customers_container").height(),l=$("#ks_potential_container").height(),i=$("#ks_contact_container").height();$("#timeline_ks_customers_container").css({left:t,top:0-n}),$("#timeline_ks_potential_container").css({left:t,top:0-l}),$("#timeline_ks_contact_container").css({left:t,top:0-i}),$("#parent_ks_contact_container, #parent_ks_potential_container, #parent_ks_customers_container").css("height",i),crmSocial.unpinTimelineStatus||crmSocial.setPotentialScrollBar("my_timeline_outer","my_timeline_inner")},selectAllSocialMenu:function(){crmSocial.eachsocialboxwidth=Math.round((crmSocial.windowWidth-50)/4);var e=$(".ksocialbox"),a=$("#social_main");$("#feed_detail_container").is(":visible")||(e.css("width",crmSocial.eachsocialboxwidth),$("#pinned_timeline").css("width",crmSocial.eachsocialboxwidth));var t=$("#custom_columns > div").length,n=a.children().length;if(crmSocial.unpinTimelineStatus)var l=t+(n-2);else l=t+(n-1);var i=$("#customers_parent").outerWidth()*l;$("#kso_BlanState_div").is(":visible")?a.css("width",""):t<=0?a.css("width",i):a.css("width",i+1),$("#kso_compose_menu").css("width",crmSocial.eachsocialboxwidth+40+"px")},setPotentialScrollBar:function(e,a,t){var n=$("#"+e),l=$("#"+a);if(1===n.length){if(n.perfectScrollbar("destroy"),void 0===t&&"dmConvoOuter"!==e)if(n.closest("#custom_columns").length>0){var i=n.prev().outerHeight()+2;n.css("height",crmSocial.windowHeight-i)}else if(n.closest("#others_parent").length)n.css("height",crmSocial.windowHeight-48-6);else if("my_timeline_outer"===e){i=$("#self_feed_compose").outerHeight()+$("#my_timeline_head").outerHeight()+2;n.css("height",crmSocial.windowHeight-i)}else n.css("height",crmSocial.windowHeight-48-49);l.css("height","auto"),n.css("overflow","hidden"),n.perfectScrollbar({wheelSpeed:1,wheelPropagation:!0,suppressScrollX:!1})}},setHeadingShadow:function(e){$("#"+e).on("wheel",(function(){var a=$("#"+e);a.scrollTop()>10?a.prev().addClass("ksbottomshadow"):a.prev().removeClass("ksbottomshadow")}))},setImageWidthHeight:function(e){var a=(e=$(e)).width();if($("#intract_pings").is(":visible")){t=200;e.height("auto"),t<a&&e.width(t)}else{var t=crmSocial.eachsocialboxwidth-50;e.height("auto"),t<a&&e.width(t);var n=e.closest(".ps-container"),l=n.children().eq(0);e.closest("#newColSection").length>0?crmSocial.setSearchScroll():e.closest("#feed_detail_head_outer").length>0?crmSocial.setPotentialScrollBar("feed_detail_head_outer","feed_detail_head",!0):crmSocial.setPotentialScrollBar(n.attr("id"),l.attr("id"))}},setImageWidthHeightDetailView:function(e){var a=(e=$(e)).width(),t=$("#feed_detail_inner_div");if(1===t.length)var n=400;e.height("auto"),n<a&&e.width(n),1===t.length?$("#social_interaction_container").is(":visible")?crmSocial.setPotentialScrollBar("social_interaction_container","feed_detail_inner_div",!0):crmSocial.setPotentialScrollBar("feed_detail_head_outer","feed_detail_head",!0):$("#kso_search_menu").is(":visible")?crmSocial.setPotentialScrollBar("newColSection","newColSectionInner",!0):crmSocial.setPotentialScrollBar("social_interaction_container","feed_detail_inner_div",!0)},sidemenuWidth:function(){crmSocial.eachsocialboxwidth>280?$(".sideMenu").css("left","-"+crmSocial.eachsocialboxwidth+"px"):$(".sideMenu").css("left","280px")},pop_slideup:function(e){var a=$("#"+e),t=$("#settings_button").hasClass("ksocialredbotder"),n=$("#activity_log_button").hasClass("ksocialredbotder"),l=a.is(":visible"),i=crmSocial.windowHeight+100;a.is(":visible")?(a.css("top","-"+i+"px"),$("#kso_auditlog_freezelayer").fadeOut(600),setTimeout((function(){a.css("display","none")}),1e3)):($("#kso_setting_popup").fadeIn(100),a.css({top:crmSocial.topBandHeight,height:crmSocial.windowHeight})),l&&(t||n)&&$(".klefticon").removeClass("ksocialredbotder")},hideMenu:function(e,a){var t=$(".ksocialbox").innerWidth();if(e){var n=$(e.target);if("showLookup"===n.attr("data-cid")||n.hasClass("select2-selection__choice__remove"))return}var l=$(".sideMenu"),i=$("#zhSocial");if($("#kso_post_popup").is(":visible")||l.children(":visible").length>0)var s=!0;var o=$("#kso_auditlog_freezelayer"),r=$(".kclicon");if(!o.is(":visible")&&s)var c=!0;else o.is(":visible")&&!$("#feed_detail_container").is(":visible")&&r.removeClass("ksocialredbotder");if(Crm.userDetails.RTL_ENABLED?l.css("right","-"+t+"px"):l.css("left","-"+t+"px"),setTimeout((function(){l.css("display","none")}),500),a||$("#kso_setting_popup").is(":visible")||$("#kso_auditlog_popup").is(":visible")||$("#reauth_alert").is(":visible")||i.is(":visible")||crmSocial.hideKsoFreezeLayer(),$("#kso_accounts_menu").is(":visible")&&crmSocial.moreBrid){var d=$("#allCheckBox"),m=d.find("i");if(""===crmSocial.moreBrid)m.hasClass("zso_checkmark")||d.find("#fAll").click();else{var u=crmSocial.moreBrid.length,p=d.find("#fAll");p.click(),m.hasClass("zso_checkmark")&&p.click();for(var f=0;f<u;f++)$("#"+crmSocial.moreBrid[f]).addClass("zso_checkmark")}var g=$("#kso_accounts_menu .ks-greenbtn");g.css("opacity",""),g.attr("onclick","crmSocial.getFeeds();")}$("#kso_search_menu").is(":visible")&&setTimeout((function(){crmSocial.resetSearch()}),1e3),$("#kso_follow_menu").is(":visible")&&setTimeout((function(){crmSocial.resetEntity()}),1e3),$("#kso_compose_menu").is(":visible")&&setTimeout((function(){crmSocial.resetCompose()}),1e3),(a||c&&"settings_button"!==a&&"activity_log_button"!==a)&&($(".klefticon").removeClass("ksocialredbotder"),$("#"+crmSocial.historyIcon).addClass("ksocialredbotder"));var v=$("#add-account");v.is(":visible")&&v.hide();var h=$("#profileList");h.is(":visible")&&(h.hide(),h.empty());var _=$("#add-fb-account");_.is(":visible")&&_.hide(),$("#social_create").is(":visible")&&n.closest(".addEntityForm").length<1&&crmSocialEntity.resetEntityForm();var b=$("#add-page");b.is(":visible")&&(b.hide(),$("#page-list").empty(),$("#add_page_loading").removeClass("dN"));var w=$("#likes_div");w.is(":visible")&&(w.hide(),$("#likes_list").empty());var k=$("#social_interaction_container");k.is(":visible")&&(k.hide(),k.html(""),$("#kso_rightpanel_freezelayer").hide(),$("#kso_rightPanel_Card").css("z-index","21"));var S=$("#krp_activities_create_new");S.is(":visible")&&S.hide();var y=$(".zso-profilelist");y.children(":visible").length>0&&y.hide();var I=$(".kso_editCol_ddwn");I.children(":visible").length>0&&(I.hide(),$(".zso_downarw").removeClass("zso_uparw"));var C=$(".colview-dd");if(C.is(":visible")&&C.hide(),crmSocial.oldInt){var x=$(crmSocial.oldInt);x.children("#likecmtAspop_outter").addClass("dN"),x.parent().removeAttr("style"),x.closest("li").css("background-color",""),delete crmSocial.oldInt}var E=$("#dmHandle");E.is(":visible")&&E.hide();var T=$("#twHandle");T.is(":visible")&&T.hide();var L=$("#folwHandle");L.is(":visible")&&L.hide();var P=$("#folwSuggestOuter");P.is(":visible")&&P.hide(),"none"===i.css("display")&&crmSocial.closeCallout()},hideEntityCreateMenus:function(e){if(e){var a=$(e.target);"Crm_Contacts_SMOWNERID"!==$(a.parent()).attr("id")&&$("#ownerNameLookup_Crm_Contacts_SMOWNERID").css("display","none")}$("#entityFields_outer").remove(),$(".entityField_drop").addClass("dN"),$("#image_suggestion").css("display","none"),$("#Calendar").css("display","none")},hideProfileList:function(e){(e=$(e)).parents("#profileList").remove()},feedDetailclose:function(){var e=$("#feed_detail_close");if(e.hasClass("addClose")){var a=$(".selected_feed");a.length>0?renderingUtils.triggerEvent("click",a):renderingUtils.triggerEvent("click",$(".kso_in_feed_detail .kso_li").eq(0)),e.removeClass("addClose")}else $("#social_interaction_container").hide(),removeFreezeLayer(),$("body").removeAttr("style")},hideDetails:function(){$(".zso_downarw").show(),$(".social_refresh_icon").removeAttr("style"),$("#others_refresh").removeAttr("style");var e=$("#"+crmSocial.detailDiv),a=$("#kso_auditlog_freezelayer");$("#feed_detail_container").hide(),$("#feed_detail_outer_div").html(""),$("#kso_rightPanel_Card").html("").css({width:"34%","border-left":"none","box-shadow":"none"}),e.css({left:"0px","z-index":"0"}),e.find(".kso_back_div").addClass("dN"),a.hide(),$(".kso_li .kanbandel").attr("style",""),$("#replytocomment_action").attr("style",""),a.css({"background-color":"#000",opacity:"0.7"}),$(".kso_in_feed_detail").removeClass("kso_in_feed_detail"),$(".selected_feed").removeClass("selected_feed"),crmSocial.shouldReloadContactsAndUnknown&&(crmSocial.shouldReloadContactsAndUnknown=!1,crmSocial.markedEntityJsonResponse=[],crmSocial.refresh("contacts_and_leads",$("#contacts_and_leads_refresh")),crmSocial.refresh("others",$("#others_refresh")));var t=Math.round((crmSocial.windowWidth-50)/4);$("#social_main").find(".ksocialbox").css("width",t)},initSideMenuHeight:function(e){switch(e){case"search":var a=$("#searchHeader"),t=$("#reset_search"),n=a.children().eq(1),l=$("#kso_search_menu"),i=$("#emptySearch"),s=i.children().eq(0),o=$("#newColSectionList");n.hide(),t.hide(),$("#ksoSearchList").length?(n.hide(),o.find("li").length?(l.animate({top:"0"}),$("#savecancelColumn").slideDown(),n.show()):(n.hide(),t.hide(),o.length?(s.slideDown(),l.animate({height:"auto"},300)):s.slideUp())):(l.animate({height:"auto"},300),i.slideDown()),crmSocial.adjustSearchPopHeight();break;case"follow":crmSocial.adjustTrackingPopHeight();break;case"accounts":var r,c,d=$("#kso_accounts_menu"),m=$("#twFilterOuter"),u=m.find("a").length,p=$("#fbFilterOuter"),f=p.find("a").length,g=$("#gpFilterOuter"),v=g.find("a").length,h=m.height()+30,_=p.height()+30,b=g.height()+30,w=d.find(".kso_head"),k=w.innerHeight()*w.length,S=$("#fAll").innerHeight()+50+$("#saveFilter").innerHeight()+k+58;c=crmSocial.windowHeight-S,d.innerHeight()>crmSocial.windowHeight&&(u&&f&&v?(h>(r=c/3)&&(m.css({"max-height":r}).addClass("oH"),crmSocial.setPotentialScrollBar("twFilterOuter","twFilterInner")),_>r&&(p.css({"max-height":r}).addClass("oH"),crmSocial.setPotentialScrollBar("fbFilterOuter","fbFilterInner")),b>r&&(g.css({"max-height":r}).addClass("oH"),crmSocial.setPotentialScrollBar("gpFilterOuter","gpFilterInner"))):u&&f?(h>(r=c/2)&&(m.css({"max-height":r}).addClass("oH"),crmSocial.setPotentialScrollBar("twFilterOuter","twFilterInner")),_>r&&(p.css({"max-height":r}).addClass("oH"),crmSocial.setPotentialScrollBar("fbFilterOuter","fbFilterInner"))):u&&v?(h>(r=c/2)&&(m.css({"max-height":r}).addClass("oH"),crmSocial.setPotentialScrollBar("twFilterOuter","twFilterInner")),b>r&&(g.css({"max-height":r}).addClass("oH"),crmSocial.setPotentialScrollBar("gpFilterOuter","gpFilterInner"))):f&&v?(_>(r=c/2)&&(p.css({"max-height":r}).addClass("oH"),crmSocial.setPotentialScrollBar("fbFilterOuter","fbFilterInner")),b>r&&(g.css({"max-height":r}).addClass("oH"),crmSocial.setPotentialScrollBar("gpFilterOuter","gpFilterInner"))):(1,r=c,u?(m.animate({height:r}).addClass("oH"),crmSocial.setPotentialScrollBar("twFilterOuter","twFilterInner")):f?(p.animate({height:r}).addClass("oH"),crmSocial.setPotentialScrollBar("fbFilterOuter","fbFilterInner")):(g.animate({height:r}).addClass("oH"),crmSocial.setPotentialScrollBar("gpFilterOuter","gpFilterInner"))))}},adjustSearchPopHeight:function(){var e=$("#ksoSearchListInner"),a=$("#ksoSearchOuter"),t=e.find("a"),n=t.outerHeight();t.length>=5?a.css({"max-height":10*n,"overflow-y":"scroll"}):a.css({"max-height":"","overflow-y":"hidden"})},adjustTrackingPopHeight:function(){var e=$("#trackingTimelineInner"),a=$("#trackingTimelineOuter"),t=e.find("a"),n=t.length;if(n>=5){var l=5*t.eq(0).innerHeight();a.animate({height:l+"px"}),a.css({"overflow-y":"scroll"})}else if(a.css({"overflow-y":"hidden"}),n>=2){l=t.eq(0).innerHeight()*n;a.animate({height:l+"px"})}},updateTimelineContHeight:function(){var e=renderingUtils.windowHeight-26,a=0,t=$("#custFeedTag"),n=$("#timelineSection");t.is(":visible")&&(a=t.innerHeight());var l=e-($(".ksheader").innerHeight()+a+20),i=$("#ksoSearchList .saveCancelCol").innerHeight();n.animate({height:l+"px","padding-bottom":i+"px"}),n.css({"overflow-y":"scroll"})},showKsoFreezeLayer:function(){$("#kso_auditlog_freezelayer").addClass("kso-flv").fadeIn()},hideKsoFreezeLayer:function(){$("#kso_auditlog_freezelayer").removeClass("kso-flv").fadeOut()},renderFeeds:function(e){var a=Handlebars.templates.PostTemplate;e.closed_potential&&(e.closed_potential=crmSocialUtil.processPostForKanbanView(e.closed_potential),e.closed_potential.type="close_pot",$("#ks_customers_ul").html(a(e.closed_potential))),e.open_potential&&(e.open_potential=crmSocialUtil.processPostForKanbanView(e.open_potential),e.open_potential.type="open_pot",0===e.open_potential.data.length&&(e.open_potential.potentials=moduleRecordMapping.Potentials.plural_label,e.open_potential.contacts=moduleRecordMapping.Contacts.plural_label),$("#ks_potential_ul").html(a(e.open_potential))),e.contact_lead&&(e.contact_lead=crmSocialUtil.processPostForKanbanView(e.contact_lead),e.contact_lead.type="entity",0===e.contact_lead.data.length&&(e.contact_lead.leads=moduleRecordMapping.Leads.plural_label,e.contact_lead.contacts=moduleRecordMapping.Contacts.plural_label),$("#ks_contact_ul").html(a(e.contact_lead))),e.unknown&&(e.unknown=crmSocialUtil.processPostForKanbanView(e.unknown),e.unknown.type="unknown",$("#ks_unknown_ul").html(a(e.unknown))),crmSocial.scroll.init(),crmSocial.reloadTime(crmSocial.updateIds)},resetKanbanViewScrollBar:function(e){if(e){var a=$("#"+e);a.scrollTop(0),a.prev().removeClass("ksbottomshadow")}else{var t=$("#ks_customers_container"),n=$("#ks_potential_container"),l=$("#ks_contact_container"),i=$("#ks_unknown_container");t.scrollTop(0),t.prev().removeClass("ksbottomshadow"),n.scrollTop(0),n.prev().removeClass("ksbottomshadow"),l.scrollTop(0),l.prev().removeClass("ksbottomshadow"),i.scrollTop(0),i.prev().removeClass("ksbottomshadow")}},setSortableColumns:function(){var e=$("#custom_columns");e.sortable({helper:"clone",revert:!0,appendTo:"body",start:function(){var e=$("#others_parent").width();$(".ui-sortable-placeholder").css({width:e,"background-color":"transparent"})},stop:function(){crmSocial.saveWidgetOrder()}}),e.disableSelection()},saveWidgetOrder:function(){var e={action:"save_order"};e[csrfParamName]=csrfToken;for(var a=$("#custom_columns").children(),t=a.length,n=[],l=0;l<t;l++){var i=JSON.parse($(a.eq(l)).attr("data-params"));n.push(i.id)}n.length>1&&(e.order=n.toString(),(new crmRequestPool).initiate({action:crmSocial.url,data:e}))},reloadFeeds:function(){var e={action:"get_social",is_loaded:!0};(new crmRequestPool).initiate({action:crmSocial.url,data:e,success:function(e){var a=JSON.parse(e);crmSocialUtil.processPermissions(a),crmSocial.sidemenuWidth(),crmSocial.unpinTimelineStatus=a.unpin_social_timeline;var t=$("#social_main");if(void 0!==a.render){if(a.render.leads=moduleRecordMapping.Leads.plural_label,a.render.contacts=moduleRecordMapping.Contacts.plural_label,void 0!==a.render.columns){var n=a.render.columns;crmSocial.columns=n.length;for(var l=0;l<crmSocial.columns;l++){void 0!==(i=n[l]).search&&i.search?crmSocial.searchIds.push(i.id):void 0!==i.entity&&i.entity&&crmSocial.entityIds.push(i.id),void 0===i.search&&void 0===i.entity||(i.leads=moduleRecordMapping.Leads.plural_label,i.contacts=moduleRecordMapping.Contacts.plural_label,n[l]=i)}a.render.columns=n}$("#kso_accounts_menu").remove(),$("#social_sidebar").html(Handlebars.templates.SocialSidebar(a.render)),t.html(Handlebars.templates.SocialMainSection(a.render)),$("#social_container").after(Handlebars.templates.socialAccounts(a.render)),t.append(Handlebars.templates.SocialCustomColumns(a.render))}if(0===$("#kso_BlanState_div").length?(t.addClass("mL47"),$("#social_sidebar_innerdiv").find(".klefticon").addClass("socialMenuBg")):(t.css("overflow-y","auto").removeClass("mL47"),$("#social_sidebar_innerdiv").find(".klefticon").removeClass("socialMenuBg"),$("#menu_icon").addClass("socialMenuBg"),$("#settings_button").addClass("socialMenuBg")),a.render.columns){n=a.render.columns;crmSocial.columns=n.length;for(l=0;l<crmSocial.columns;l++){var i;(i=n[l]).search&&crmSocial.searchIds.push(i.id)}}$("#kso_setting_popup").is(":visible")&&$("#settings_button").addClass("ksocialredbotder"),a.module_perm&&(crmSocial.module_perm=a.module_perm),void 0!==a.permitted_accounts&&(crmSocial.permitted_accounts=a.permitted_accounts),void 0!==a.render&&a.render.accounts&&(crmSocial.getFeeds(),crmSocial.showhidePinTimeline()),crmSocial.setSortableColumns(),crmSocial.setKanbanViewBoxHeight(),a.render.googleplus&&a.render.googleplus.forEach((function(e){crmSocial.all_soc_config.gp.push(e.config_id),crmSocial.soc_config.gp.push(e.config_id),crmSocial.accIdVsNetwork[e.config_id]=3})),a.render.facebook&&a.render.facebook.forEach((function(e){crmSocial.all_soc_config.fb.push(e.config_id),crmSocial.soc_config.fb.push(e.config_id),crmSocial.accIdVsNetwork[e.config_id]=2})),a.render.twitter&&a.render.twitter.forEach((function(e){crmSocial.all_soc_config.tw.push(e.config_id),crmSocial.soc_config.tw.push(e.config_id),crmSocial.accIdVsNetwork[e.config_id]=1})),a.render.accounts&&setTimeout((function(){crmSocial.loadMyFeeds(),a.render.twitter&&(crmSocial.loadFilter("customers"),crmSocial.loadFilter("potential_contacts"),crmSocial.loadFilter("contacts_and_leads"));for(var e=$("#custom_columns").children(),t=e.length,n=0;n<t;n++){var l=JSON.parse($(e.eq(n)).attr("data-params"));void 0!==l&&("4"===l.type||"5"===l.type?crmSocial.getSearchFeeds(l.network,"",l.id):"6"===l.type&&crmSocial.loadFilter(l.id))}var i=$("#social_parent_div").find(".noti_banner"),s=i.length;for(n=0;n<s;n++){var o=$(i.eq(n));crmSocial.notificationElementLength(o)}"none"===$("#kso_setting_popup").css("display")&&crmSocial.checkAuthExpiry()}),1e3),$(".ps-container").on("scroll",$L.debounce((function(){crmSocial.columnScroll(this)}),300)),1===a.render.zoho_social&&$("#zoho_social").length>0&&(setTimeout((function(){$(".soc_Msg").fadeIn()}),1e3),setTimeout((function(){$(".soc_Msg").fadeOut()}),15e3))}})},showReauthAlert:function(){var e=renderingUtils.windowWidth,a=crmSocial.reAuthAccounts,t=$("#reauth_alert");crmSocial.showKsoFreezeLayer(),t.html(Handlebars.templates.SocialAccountReauthentication(a));var n=(e-$("#social_sidebar").width())/2-215;t.css({left:n,width:"450px",padding:"0px",display:"block"}),setTimeout((function(){t.animate({top:"0px"})}),200)},closeReauthAlert:function(){$("#reauth_alert").animate({top:"-500px"}),crmSocial.hideKsoFreezeLayer(),setTimeout((function(){$("#reauth_alert").css("display","none")}),1e3)},checkAuthExpiry:function(){var e={action:"check_reauth"};(new crmRequestPool).initiate({action:crmSocial.url,data:e,success:function(e){(e=JSON.parse(e)).reauth&&(crmSocial.reAuthAccounts=e.reauth,$("#reauth_alter").is(":visible")||($("#settings_button").prepend('<span class="zsoErrorAlert zsoErrorAlertPosition"></span>'),crmSocial.showReauthAlert()))}})},hasBrandExpired:function(e,a){if(crmSocial.reAuthAccounts){var t=crmSocial.reAuthAccounts,n=t.length;if(n>0)for(var l=0;l<n;l++){var i=t[l];if(i.pages)for(var s=i.pages,o=s.length,r=0;r<o;r++){if(s[r].brid===e){if(!a){(d=[]).push(i.name);var c=I18n.getMsg("crm.nsocial.setup.expiry",d);crmSocial.isAdmin?c+=I18n.getMsg("crm.nsocial.setup.expiry.admin",[Crm.getCrmBasePath()]):c+=I18n.getMsg("crm.nsocial.setup.expiry.contact"),crmui.showMsgBand("error",c,5e3)}return i.name}}else if(i.brid===e){if(!a){var d;(d=[]).push(i.name);c=I18n.getMsg("crm.nsocial.setup.expiry",d);crmSocial.isAdmin?c+=I18n.getMsg("crm.nsocial.setup.expiry.admin",[Crm.getCrmBasePath()]):c+=I18n.getMsg("crm.nsocial.setup.expiry.contact"),crmui.showMsgBand("error",c,5e3)}return i.name}}}return!1},getFeeds:function(){var e={action:"get_feeds"},a=$("#kso_accounts_menu");if(a.is(":visible")&&a.find(".ks-greenbtn").html(I18n.getMsg("crm.nsocial.tab.filtering")),$("#fAll").find("i").hasClass("zso_checkmark"))crmSocial.moreBrid="",crmSocial.filteredAccId=[];else{var t=$("#kso_accounts_menu i.zso_checkmark"),n=t.length,l=[];crmSocial.filteredAccId=[];for(var i=0;i<n;i++)l.push(t.eq(i).attr("name")),crmSocial.filteredAccId.push(t.eq(i).attr("accId"));crmSocial.moreBrid=l,e.brid=l.toString()}crmSocial.moreNetwork="",$("#feed_detail_container").is(":visible")&&crmSocial.hideDetails(),crmSocial.syncFilteredAccId(),(new crmRequestPool).initiate({action:crmSocial.url,data:e,success:function(e){var t=JSON.parse(e);crmSocial.renderFeeds(t),crmSocial.loadMyFeeds(),crmSocial.resetKanbanViewScrollBar(),a.is(":visible")&&(a.find(".ks-greenbtn").html(I18n.getMsg("crm.button.apply.filter")),crmSocial.hideMenu(event))}})},syncFilteredAccId:function(){0!==crmSocial.filteredAccId.length?(crmSocial.soc_config={fb:[],gp:[],tw:[]},crmSocial.filteredAccId.forEach((function(e){return 1===crmSocial.accIdVsNetwork[e]?crmSocial.soc_config.tw.push(e):2===crmSocial.accIdVsNetwork[e]?crmSocial.soc_config.fb.push(e):3===crmSocial.accIdVsNetwork[e]&&crmSocial.soc_config.gp.push(e),!1}))):crmSocial.soc_config=Object.create(crmSocial.all_soc_config)},showNew:function(e){var a=$("#tracking_"+e+"_noti_count");if($("#tracking_"+e).length>0&&"block"===a.css("display")){a.css("display","none").html("0");for(var t=$("#trackingTimelineInner").find(".highlight-count"),n=t.length,l=0,i=0;i<n;i++)"none"===$(t.eq(i)).css("display")&&l++;l===n&&$("#follow_menu").children().eq(0).removeClass("follow_dot"),e="#"+e,$(e+"_ul").prepend($(e+"_ul_notification").children()),$(e+"_notification_banner").addClass("dN"),crmSocial.columnScroll($(e+"_container")),crmSocial.setNotificationImages(e+"_ul")}else{e="#"+e;var s=$(e+"_notification").children();s.each((function(a,t){var n=$(t).attr("t_id");n&&""!==n&&$(e).children('[t_id="'+n+'"]').remove()})),$(e).prepend(s),$(e+"_notification_banner").addClass("dN"),$(e+"_notification_badge").addClass("dN").html(""),crmSocial.columnScroll($(e).parent().parent()),"#my_timeline"===e&&$("#create_feed").children().eq(0).removeClass("follow_dot"),crmSocial.setNotificationImages(e)}},showPings:function(e,a){var t=null,n=null,l=$(".ksocialbox").width();switch(Crm.trackSpotLightAction("CRM Social- Pings Clicked",{Type:a}),a){case"customers":t="#timeline_ks_customers_container",n="#ks_customers";break;case"potential_contacts":t="#timeline_ks_potential_container",n="#ks_potential";break;case"contacts_and_leads":t="#timeline_ks_contact_container",n="#ks_contact"}var i=n+"_ul_notification_badge",s=$(n+"_ul"),o=$(n+"_container");$(i).hasClass("dN")||(s.prepend($(n+"_ul_notification").children()),$(i).addClass("dN").html(""),crmSocial.setNotificationImages(n+"_ul")),s.children(".kso_li").length>0?($(t).animate({left:l}),o.animate({left:0})):this.refresh(a,$("#"+a+"_refresh"),!1),$(e).children().eq(0).addClass("dN").html(""),crmSocial.columnScroll(o)},showFilter:function(e,a){var t=null,n=null,l=$(".ksocialbox").width();switch(a){case"customers":Crm.trackSpotLightAction("CRM Social- Streams Clicked",{Type:a}),t="#timeline_ks_customers",n="#ks_customers_container";break;case"potential_contacts":Crm.trackSpotLightAction("CRM Social- Streams Clicked",{Type:a}),t="#timeline_ks_potential",n="#ks_potential_container";break;case"contacts_and_leads":Crm.trackSpotLightAction("CRM Social- Streams Clicked",{Type:a}),t="#timeline_ks_contact",n="#ks_contact_container";break;default:t="#"+a}var i=$(t+"_ul"),s=$(t+"_container");if(null!==n){var o=t+"_ul_notification_badge";$(o).hasClass("dN")||(i.prepend($(t+"_ul_notification").children()),$(o).addClass("dN").html(""),crmSocial.setNotificationImages(t+"_ul"))}i.children(".kso_li").length>0?null!==n&&($(n).animate({left:0-l}),s.animate({left:0})):this.getFilter(e,a),$(e).children().eq(0).addClass("dN").html(""),crmSocial.columnScroll(s)},setNotificationImages:function(e){for(var a=$(e).children(),t=a.length,n=0;n<t;n++){var l=$(a.eq(n));if("noti_li"===l.attr("id"))break;var i=l.find(".contentimage"),s=i.length;if(s>0)for(var o=0;o<s;o++){var r=$(i.eq(o));renderingUtils.triggerEvent("onload",r)}}},loadFilter:function(e){var a={action:"get_filter"};a.filter_id=e,(new crmRequestPool).initiate({action:crmSocial.url,data:a,success:function(a){a=JSON.parse(a);var t=null;if((a=crmSocialUtil.processPostForKanbanView(a)).stream=!0,"customers"===e)t="timeline_ks_customers",a.type="close_pot",a.module=I18n.getMsg("crm.nsocial.customers");else if("potential_contacts"===e){t="timeline_ks_potential",a.type="open_pot",(n=[]).push(I18n.getMsg(moduleRecordMapping.Potentials.plural_label)),a.module=I18n.getMsg("crm.nsocial.open.potential",n)}else if("contacts_and_leads"===e){var n;t="timeline_ks_contact",a.type="entity",(n=[]).push(I18n.getMsg(moduleRecordMapping.Leads.plural_label)),n.push(I18n.getMsg(moduleRecordMapping.Contacts.plural_label)),a.module=I18n.getMsg("crm.nsocial.lead.contact",n)}else 1!==$('[f_id="'+e+'"]').length&&(t=e);$("#"+t+"_ul").html(Handlebars.templates.PostTemplate(a)),crmSocial.setPotentialScrollBar(t+"_container",t+"_inner_container")}})},getFilter:function(e,a,t){""!==e&&(e=$(e));var n={};if((!a||""===a)&&t){var l=$("#krp_tab3");return l.attr("cursor",t),crmSocial.timeLineViewMore=e,void renderingUtils.triggerEvent("click",l)}if(n.action="get_filter",n.filter_id=a,t)""===t?e.addClass("rotation"):((e=e.parent()).html('<img src="'+networkUtils.getImageUrl("social_loading_599c9b1_.gif",ResourceConstants.CRM)+'">'),n.cursor=t);else if(""!==e){var i=e.parent();if(i.hasClass("colview-dd")){var s=i.parent().children().eq(0),o=s.attr("f_id");if(i.find('[f_id="'+o+'"]').removeAttr("style"),e.css("display","none"),s.html(e.html()),s.attr("f_id",e.attr("f_id")),"potential_contacts"===a)return $("#potential_contacts_switch").removeAttr("style"),void renderingUtils.triggerEvent("click",$("#potential_contacts_switch .active"));$("#potential_contacts_switch").css("visibility","hidden")}}(new crmRequestPool).initiate({action:crmSocial.url,data:n,success:function(n){n=JSON.parse(n),n=crmSocialUtil.processPostForKanbanView(n);var l=null,i=null,s=$(".ksocialbox").width();if(n.stream=!0,"customers"===a)l="timeline_ks_customers",i="ks_customers_container",n.type="close_pot",n.module=I18n.getMsg("crm.nsocial.customers");else if("potential_contacts"===a){l="timeline_ks_potential",i="ks_potential_container",n.type="open_pot",(o=[]).push(I18n.getMsg(moduleRecordMapping.Potentials.plural_label)),n.module=I18n.getMsg("crm.nsocial.open.potential",o)}else if("contacts_and_leads"===a){var o;l="timeline_ks_contact",i="ks_contact_container",n.type="entity",(o=[]).push(I18n.getMsg(moduleRecordMapping.Leads.plural_label)),o.push(I18n.getMsg(moduleRecordMapping.Contacts.plural_label)),n.module=I18n.getMsg("crm.nsocial.lead.contact",o)}else""!==e&&"potential_parent"===e.closest(".ksocialbox").attr("id")?(l="timeline_ks_potential",i="ks_potential_container",n.type="open_pot"):l=a;if(t&&""!==t)e.remove(),$("#"+l+"_ul").append(Handlebars.templates.PostTemplate(n));else{""===t&&e.removeClass("rotation"),$("#"+l+"_ul").html(Handlebars.templates.PostTemplate(n));var r=$("#"+l+"_container");r.scrollTop(0),null!==i&&($("#"+i).animate({left:0-s}),r.animate({left:0}),r.perfectScrollbar("destroy"))}crmSocial.setPotentialScrollBar(l+"_container",l+"_inner_container")}})},loadMyFeeds:function(e){e&&(e=$(e)).addClass("rotation");var a={action:"get_my_feed"};if($("#fAll").find("i").hasClass("zso_checkmark"))crmSocial.moreBrid="";else{for(var t=$("#kso_accounts_menu i.zso_checkmark"),n=t.length,l=[],i=0;i<n;i++)l.push(t.eq(i).attr("name"));crmSocial.moreBrid=l,a.brid=l.toString()}crmSocial.moreNetwork="",$("#kso_compose_menu").is(":visible")||e||$("#social_mytimeline").html(Handlebars.templates.mytimeline_header({soc_config:crmSocial.soc_config,unpinTimelineStatus:crmSocial.unpinTimelineStatus})),(new crmRequestPool).initiate({action:crmSocial.url,data:a,success:function(a){e&&e.removeClass("rotation"),a=JSON.parse(a),a=crmSocialUtil.processPostForKanbanView(a),Handlebars.registerPartial("CommentTemplate",Handlebars.templates.CommentTemplate),Handlebars.registerPartial("ReplyList",Handlebars.templates.ReplyList),Handlebars.registerPartial("ReplyToComment",Handlebars.templates.ReplyToComment),$("#my_timeline").html(Handlebars.templates.PostTemplate(a)),crmSocial.setHeadingShadow("my_timeline_outer"),a.cursor&&(crmSocial.scroll.bind("my_timeline_outer"),crmSocial.scroll.resetCounter("my_timeline_outer")),$("#my_timeline .facebook").on({mouseenter:function(){var e=$(this);e.find(".tLdate").addClass("myPostforward"),e.find(".socPostDel").fadeIn()},mouseleave:function(){var e=$(this);e.find(".tLdate").removeClass("myPostforward"),e.find(".socPostDel").hide()}}),crmSocial.setPotentialScrollBar("my_timeline_outer","my_timeline_inner")}})},getMyFeeds:function(e,a){a=$(a);var t={action:"get_my_feed"},n=$("#kso_compose_menu"),l=crmSocial.windowHeight;if($(".klefticon").removeClass("ksocialredbotder"),$("#fAll").find("i").hasClass("zso_checkmark"))crmSocial.moreBrid="";else{for(var i=$("#kso_accounts_menu i.zso_checkmark"),s=i.length,o=[],r=0;r<s;r++)o.push(i.eq(r).attr("name"));crmSocial.moreBrid=o,t.brid=o.toString()}crmSocial.moreNetwork="";var c=$(".kanbansocialiconcontainer"),d=c.offset().top,m=c.width();$("#pinned_timeline").is(":visible")||n.css({display:"block",top:d,left:m,opacity:"1",height:l}),e?(t.cursor=e,a.html("<img src='"+networkUtils.getImageUrl("moreloading_90b33f4_.gif",ResourceConstants.CRM)+"'>")):$("#social_mytimeline").html(Handlebars.templates.mytimeline_header({soc_config:crmSocial.soc_config,unpinTimelineStatus:crmSocial.unpinTimelineStatus})),(new crmRequestPool).initiate({action:crmSocial.url,data:t,success:function(t){t=JSON.parse(t),t=crmSocialUtil.processPostForKanbanView(t),Handlebars.registerPartial("CommentTemplate",Handlebars.templates.CommentTemplate),Handlebars.registerPartial("ReplyList",Handlebars.templates.ReplyList),Handlebars.registerPartial("ReplyToComment",Handlebars.templates.ReplyToComment);var l=$("#my_timeline");n.is(":visible")?e?(a.parent().remove(),l.append(Handlebars.templates.PostTemplate(t))):(l.html(Handlebars.templates.PostTemplate(t)),l.scrollTop(0)):(l.find(".kso_li").length<1&&l.html(""),l.append(Handlebars.templates.PostTemplate(t)),a.parent().remove()),$("#pinned_timeline").is(":visible")||n.css({display:"block",top:d,left:m,opacity:"1"}),crmSocial.updateTimelineHeight(),crmSocial.setPotentialScrollBar("my_timeline_outer","my_timeline_inner"),crmSocial.setHeadingShadow("my_timeline_outer"),e||(crmSocial.scroll.bind("my_timeline_outer"),crmSocial.scroll.resetCounter("my_timeline_outer")),$("#my_timeline .facebook").on({mouseenter:function(){var e=$(this);e.find(".tLdate").addClass("myPostforward"),e.find(".socPostDel").fadeIn()},mouseleave:function(){var e=$(this);e.find(".tLdate").removeClass("myPostforward"),e.find(".socPostDel").hide()}})}})},updateTimelineHeight:function(){var e=crmSocial.windowHeight-($("#self_feed_compose").outerHeight()+$("#my_timeline_head").outerHeight());$("#timeline_outer").css("overflow","hidden").animate({height:e})},reloadTime:function(e){var a;new Date,e.length;clearTimeout(a)},updateId:function(e,a){var t=new Date(a),n=new Date,l=Math.floor((n-t)/1e3),i=$("#"+e);if(i.is(":visible")&&l<86400){var s=i.closest(".ksocialbox").attr("id");i.attr("id",s+"_"+e),e=s+"_"+e;for(var o=0,r=crmSocial.updateIds.length,c=0;c<r;c++)crmSocial.updateIds[c]===e&&(o=1);0===o&&(crmSocial.updateIds[crmSocial.updateIds.length]=e)}},getFeed:function(e,a,t){e=$(e);var n=crmSocial.windowWidth,l=$("#feed_detail_container"),i=$("#feed_detail_outer_div"),s=$("#social_main").outerHeight(),o=n-$("#social_sidebar_innerdiv").width()-$("#customers_parent").width();$(".kso_back_div").css("top","19px"),$(".zso_downarw").hide(),$(".social_refresh_icon").css("cssText","display: none !important;");var r=e.find("#videoframe");r.is(":visible")&&(r.attr("src",""),r.hide(),r.parent().find("#videoimage, #imagesvg").show()),$("#replytocomment_action").attr("style","visibility: hidden !important;"),"action"===e.parent().attr("id")&&(e=e.closest(".kso_li"));var c=e.attr("b_id");if("true"===t&&"facebook"!==a)var d=e.attr("t_id");else{d=e.attr("p_id");if("true"===t)var m=e.attr("t_id")}var u=e.attr("pro_id"),p={action:"get_feed"};if(p.brid=c,p.feedid=d,p.network=a,p.profile_id=u,p.bio=!0,0===$("#social_parent_div").length)var f=!0;else{$(".selected_feed").removeClass("selected_feed");var g,v=e.closest(".ksocialbox");if(e.addClass("selected_feed"),e.removeClass("socreply_bg"),v.addClass("kso_in_feed_detail"),this.entityId="",this.currentModule="",l.is(":hidden"))g=v.offset().top,Crm.userDetails.RTL_ENABLED?v.css({"z-index":1,right:"47px"}):v.css({"z-index":1,left:"47px"}),crmSocial.detailDiv=v.attr("id"),l.show().css("width",o),Crm.userDetails.RTL_ENABLED?l.css({height:s,left:0,top:g,position:"fixed","z-index":1}):l.css({height:s,right:0,top:g,position:"fixed","z-index":1});l.is(":hidden")?i.css("height",s):i.css("height",l.height()),i.html('<div class="aligncenter" style="cursor:default; margin-top:50%;"><span class="ks_loading_new dIB vam"></span></div>'),$("#kso_rightPanel_Card").html('<div class="aligncenter" style="cursor:default; margin-top:50%;"><span class="ks_loading_new dIB vam"></span></div>'),$("#"+crmSocial.detailDiv+" .kso_back_div").removeClass("dN")}"twitter"===a?(p.favorite_count=e.attr("f_cnt")&&""!==e.attr("f_cnt")?e.attr("f_cnt"):"0",p.retweet_count=e.attr("re_cnt")&&""!==e.attr("re_cnt")?e.attr("re_cnt"):"0",p.reply_count=e.attr("c_cnt")&&""!==e.attr("c_cnt")?e.attr("c_cnt"):"0"):(p.like_count=e.attr("l_cnt")&&""!==e.attr("l_cnt")?e.attr("l_cnt"):"0",p.comment_count=e.attr("c_cnt")&&""!==e.attr("c_cnt")?e.attr("c_cnt"):"0");var h=e.attr("e_id");""!==h&&(p.entity_id=h,crmSocial.entityId=h),"true"===t&&(p.message=!0);var _=e.closest(".ksocialbox"),b=_.attr("data-params");b?"6"===(b=JSON.parse(b)).type&&(p.timeline=!0):_.find(".colview-tab").children().eq(2).hasClass("active")&&(p.timeline=!0);$(".kso_li .kanbandel").attr("style","visibility: hidden !important;"),f||crmSocial.toggleResponse(),$("#kso_rightPanel_Card").css({width:"34%","border-left":"none","box-shadow":"none"}),(new crmRequestPool).initiate({action:crmSocial.url,data:p,success:function(n){var s=JSON.parse(n);if(s.thread_id="true"===t&&"facebook"===a?d:m,s=crmSocialUtil.processPostForDetailView(s),Handlebars.registerPartial("CommentTemplate",Handlebars.templates.CommentTemplate),Handlebars.registerPartial("ReplyList",Handlebars.templates.ReplyList),Handlebars.registerPartial("twReply",Handlebars.templates.twReply),Handlebars.registerPartial("ReplyToComment",Handlebars.templates.ReplyToComment),Handlebars.registerPartial("ConvoTemplate",Handlebars.templates.ConvoTemplate),Handlebars.registerPartial("fbPostDetail",Handlebars.templates.fbPostDetail),Handlebars.registerPartial("twPostDetail",Handlebars.templates.twPostDetail),Handlebars.registerPartial("gpPostDetail",Handlebars.templates.gpPostDetail),f){freezeBackground();var o=renderingUtils.windowHeight-26,r=$("#social_interaction_container");0===r.length&&$(".showhide").append('<div id="social_interaction_container" class="pA kso_detail_feed" style="width:800px"></div>'),(r=$("#social_interaction_container")).css({height:o,"z-index":"21",overflow:"hidden"}),$("body").css({overflow:"hidden",height:o}),r.html(Handlebars.templates.PostDetail(s)),mailsetCenter("social_interaction_container"),$(".feed_wrapper").css({height:o-137}),$("#feed_detail_close").show()}else{if(i.html(Handlebars.templates.PostDetail(s)),l.is(":hidden")?i.css("height",o):i.css("height",l.height()),s){var u=$("#feed_detail_head_outer");u.animate({scrollTop:$("#feed_detail_head").outerHeight()},800);var p=i.innerWidth()/2,g=$("#dmSuccessMsg"),v=g.innerWidth()/2,h=$("#kso_feed_hd"),_=h.outerHeight(),b=h.next().outerHeight();if("twitter"===a){_+=b;var w=$("#kso_feed_hd .followArrow");if(w.length>0){var k=w.position().left;$("#folwHandle").css("left",k-97)}}var S=$(".brand_name").width()+10;$("#resp_box").css("text-indent",S);var y=$("#feed_detail_inner_div").children().eq(1).outerHeight();u.css("height",crmSocial.windowHeight-y-_),g.css("left",p-v)}if(crmSocial.currentModule=e.attr("m_name"),$.trim(crmSocial.entityId).length>0&&$.trim(crmSocial.currentModule).length>0){delete $$rightPanel.rpCachedList,$$rightPanel.rpCachedList=new Array,delete $$rightPanel.rpTabOrder,$$rightPanel.rpTabOrder=["conversation","info","timeline"],$$rightPanel.currentModule=crmSocial.currentModule,$$rightPanel.entityId=crmSocial.entityId,$$rightPanel.detailRightPanel("krp_tab1",$$rightPanel.rpTabOrder[0],!0);var I=crmSocial.hasBrandExpired(c,!0);if(I){var C=[];C.push(I);var x=I18n.getMsg("crm.nsocial.setup.expiry",C);$("#feed_detail_inner_div #response").addClass("op5 eventNone"),$("#feed_detail_inner_div #resp_box").html(x),$("#feed_detail_inner_div #twitter_limit").css("display","none"),$("#feed_detail_inner_div #soc_sndtwt").css("display","none")}}else if(!crmSocial.showEntityLinkForUnknownFeedOrPost(e)){var E=e.attr("pro_id");crmSocial.handleUnknownFeedsOrPosts(c,E,a)}}var T=$("#feed_detail_inner_div").children("#response"),L=T.width()-T.find(".imgwth").outerWidth(!0)-T.find(".btnwth").outerWidth()-11;$(".txtwth").css("width",L),crmSocial.setPotentialScrollBar("feed_detail_head_outer","feed_detail_head",!0)}})},showEntityLinkForUnknownFeedOrPost:function(e){var a=null,t=null,n=null,l=null,i=!1;if(null!==crmSocial.markedEntityJsonResponse&&crmSocial.shouldReloadContactsAndUnknown&&e){var s=$(e).attr("pro_id"),o=$("#kso_rightPanel_Card");$.each(crmSocial.markedEntityJsonResponse,(function(e,r){if(r&&r.social_info&&(r.social_info.id_str?r.social_info.id_str:r.social_info.id)===s){a=r.crmEntityId,t=r.crmModule,n=r.crmModuleDispName,l=r.action,l=I18n.getMsg(l);var c="<div class='mT30 mL30'><link-to lt-prop-route='crm.tab.module.entity.detail' lt-prop-dp='[\""+t+'","'+a+"\"]'  lt-prop-target='_blank'>"+$ESAPI.encoder().encodeForHTML(n)+" </link-to> "+I18n.getMsg("crm.krp.entity.created.success.msg",l);return o.html(c),i=!0,!0}}))}return i},handleUnknownFeedsOrPosts:function(e,a,t){if(Crm.userDetails.permissions.Crm_Implied_Create_Leads||Crm.userDetails.permissions.Crm_Implied_Create_Contacts){var n=null,l=null;Crm.userDetails.permissions.Crm_Implied_Create_Leads&&(n="Leads"),Crm.userDetails.permissions.Crm_Implied_Create_Contacts&&(null===n?n="Contacts":l="Contacts");var i=crmSocial.hasBrandExpired(e,!0);if(i){var s=[];s.push(i);var o=I18n.getMsg("crm.nsocial.setup.expiry",s),r='<div class="pA aligncenter pL5 pR5" style="top: 50%;transform: translateY(-50%);"><span class="svgIcons socWarningIcon dIB mB10"></span>';r+='<span class="dB mB10 fs" style="color: #df5342;">'+o+"</span>",crmSocial.isAdmin?r+='<span class="dB color_6 fs">'+I18n.getMsg("crm.nsocial.setup.expiry.admin",[Crm.getCrmBasePath()])+"</span></div>":r+='<span class="dB color_6 fs">'+I18n.getMsg("crm.nsocial.setup.expiry.contact")+"</span></div>",$("#kso_rightPanel_Card").html(r),$("#feed_detail_inner_div #response").addClass("op5 eventNone"),$("#feed_detail_inner_div #resp_box").html(o),$("#feed_detail_inner_div #twitter_limit").css("display","none"),$("#feed_detail_inner_div #soc_sndtwt").css("display","none")}else crmSocialEntity.getProfileInfo(null,e,a,t,n,l)}else $("#kso_rightPanel_Card").html("")},getLikes:function(e,a,t,n,l){var i={action:"get_likes"};i.feedid=t,i.network=n;var s=$(a);if(l)s.html('<img src="'+networkUtils.getImageUrl("moreloading_90b33f4_.gif",ResourceConstants.CRM)+'">'),i.like_cursor=l;else{if($("#feed_detail_container").is(":visible")||$("#kso_companypost_popup").is(":visible"))var o=s;else o=$(s.closest(".ksocialbox"));var r=o[0].getBoundingClientRect(),c=e.clientY}(new crmRequestPool).initiate({action:crmSocial.url,data:i,success:function(e){var n=JSON.parse(e);if(n.feedid=t,l&&s.parent().remove(),n&&n.data.length>0){var i=$("#likes_div"),o=$("#likes_list");i.is(":visible")&&l?o.append(Handlebars.templates.LikeList(n)):(o.html(Handlebars.templates.LikeList(n)),i.show(),crmSocial.setLikeDivPosition(a,i,r,c))}}})},setLikeDivPosition:function(e,a,t,n){a=$(a);var l=renderingUtils.windowWidth,i=renderingUtils.windowHeight,s=l-t.right;if(i/2<n){var o=i-(n-15);a.css({display:"block",right:s,bottom:o,top:""})}else{var r=$(e).offset().top+15;a.css({display:"block",right:s,bottom:"",top:r})}},getComments:function(e,a,t,n,l){var i={action:"get_comments"};i.feedid=a,i.network=t,n&&(i.comment_limit=n),l&&""!==l&&(i.comment_cursor=l),(new crmRequestPool).initiate({action:crmSocial.url,data:i,success:function(e){var a=JSON.parse(e),n=$(n),l=n.parent(),i=l.parent().find("#comment_list"),s=l;"facebook"===t&&a.comments?(a=crmSocialUtil.processFacebookComments(a),i.prepend(Handlebars.templates.CommentList(a))):"googleplus"===t&&a.object&&a.object.replies&&a.object.replies.data&&(a=crmSocialUtil.processGooglePlusComments(a),i.prepend(Handlebars.templates.CommentList(a))),a.commentDiv?s.html(a.commentDiv):s.remove()}})},getReplies:function(e,a,t,n){var l={action:"get_replies"};l.feedid=a,t&&(l.reply_limit=t),n&&""!==n&&(l.reply_cursor=n),(new crmRequestPool).initiate({action:crmSocial.url,data:l,success:function(e){var a=JSON.parse(e),t=$(t),n=t.parent(),l=n.parent().find("#reply_list");if(0!==l.length){var i=n;l.prepend(Handlebars.templates.ReplyList(a)),a.replyDiv?i.html(a.replyDiv):i.remove()}else{for(var s=a.replies.data.length,o=0;o<s;o++)t.before(Handlebars.templates.ReplyToComment(a.replies.data[o]));t.remove()}}})},resetSearch:function(){var e=$("#search_menu").offset().top,a=$("#newColSection"),t=$("#newColHead"),n=$("#searchKeys"),l=$("#searchInpt"),i=$("#emptySearch"),s=i.children(),o=$("#searchHeader"),r=o.children(),c=$("#kso_search_menu"),d=$("#srch_col_id"),m=$("#ksoSearchListInner").children().length,u=$("#reset_search");a.removeClass("p15"),c.css({top:e}),$("#savecancelColumn").hide(),$("#saveColBtn").html('<span class="dIB"><span>'+I18n.getMsg("crm.nsocial.save.column")+'</span><span class="ksbtn_rawrw"></span></span>'),$("#newColSectionList").html(""),a.perfectScrollbar("destroy"),a.removeAttr("style"),$("#newColSectionInner").removeAttr("style"),t.html(""),t.hide(),u.hide(),n.html(""),n.removeAttr("keys"),l.focus(),l.val(""),s.eq(1).hide(),d.hide(),m<=0&&r.eq(1).hide(),m>0?(i.hide(),$("#ksoSearchList").show(),r.eq(1).hide()):(i.show(),$("#ksoSearchList").hide(),s.eq(0).show(),o.show()),u.hide(),c.css({height:"",width:""})},resetEntity:function(){var e=$("#follow_menu").offset().top,a=$("#newTrackingSection"),t=$("#trackInpt"),n=$("#emptyTracking"),l=n.children(),i=$("#trackHeader"),s=i.find("#leadcontactTab, .followSrch"),o=$("#kso_follow_menu"),r=o.find("> div"),c=$("#srch_col_id"),d=$("#reset_track"),m=$("#trackingTimelineList"),u=$("#trackingTimelineInner").children().length;a.removeClass("p15"),o.css({top:e}),$("#saveTrackingColumn #saveTrackingBtn").css("opacity","0.5"),i.find("> div").eq(0).removeClass("pB0 bbeded"),$("#saveTrackingBtn").html('<span class="dIB"><span>'+I18n.getMsg("crm.nsocial.save.column")+'</span><span class="ksbtn_rawrw"></span></span>'),$("#newTrackingList").html(""),a.perfectScrollbar("destroy"),a.removeAttr("style"),a.hide(),d.hide(),t.focus(),t.val(""),l.eq(1).hide(),c.hide(),u<=0&&(s.hide(),r.css({height:""})),u>0?(n.hide(),m.show(),s.hide(),r.css({height:""})):(n.show(),m.hide(),l.eq(0).show(),i.show()),d.hide(),o.css({height:"",width:""}),$("#selectEntities").hide()},resetCompose:function(){$("#targetNetwork").slideUp(),$("#compose").slideUp();var e=$("#compose_text");e.removeClass("kso_cinpt_expanded"),e.val(""),setTimeout((function(){crmSocial.updateTimelineHeight()}),400)},goToColumn:function(e){$("#feed_detail_container").is(":visible")&&crmSocial.hideDetails(),$("#kso_setting_popup").is(":visible")&&crmSocial.pop_slideup("kso_setting_popup"),$("#kso_auditlog_popup").is(":visible")&&crmSocial.pop_slideup("kso_auditlog_popup"),$(".new-socialbox").removeClass("kso_col_highlight"),crmSocial.hideMenu(event);var a=$("#social_main"),t=$("#custom_columns"),n=$("#custom_columns > div").length,l=a.children("#customers_parent").width(),i=$("#column_"+e);if(crmSocial.unpinTimelineStatus)var s=t.find(i).index()+1;else s=t.find(i).index()+2;var o=l*s+4,r=l*(n-s)+4;Crm.userDetails.RTL_ENABLED?$("#social_container").animate({scrollLeft:r}):$("#social_container").animate({scrollLeft:o}),i.addClass("kso_col_highlight"),setTimeout((function(){i.removeClass("kso_col_highlight")}),2e3)},startNewSearch:function(){var e=$("#emptySearch"),a=e.children();a.eq(0).slideUp(),a.eq(1).slideDown(),e.slideDown(),$("#searchHeader").children().eq(1).slideDown(),$("#ksoSearchList").slideUp(),$("#searchInpt").focus(),$(".searchUlOuter").show(),$("#social_main").css("overflow-y","hidden")},setSearchScroll:function(){var e=$("#newColSection");if(1===e.length){var a=$("#newColSectionInner"),t=crmSocial.windowHeight-$("#searchHeader").outerHeight()-$("#savecancelColumn").outerHeight();e.perfectScrollbar("destroy"),e.css("height",t),a.css({height:"auto",overflow:"hidden"}),e.perfectScrollbar({wheelSpeed:1,wheelPropagation:!0,suppressScrollX:!1})}},getSearchFeeds:function(e,a,t,n){var l={action:"search_feeds"};l.network=e;var i={network:e},s=$("#searchKeys"),o=$("#newColSectionList"),r=$("#newColSection"),c=$("#saveColBtn"),d="",m=$("#kso_search_menu"),u=crmSocial.windowHeight-$("#searchHeader").innerHeight();if(Math.abs(parseInt(m.css("left")))!==Math.abs(parseInt(m.css("width")))&&m.animate({height:crmSocial.windowHeight,width:$("#customers_parent").css("width")}),m.css("top",crmSocial.topBandHeight),r.css("height",u),t&&""!==t){if(d=JSON.parse($("#search_"+t+"_keywords").attr("keys")),i.id=t,l.search_id=t,""!==a){var p=$("#search_"+t+"_more");l.cursor=p.children().attr("cursor"),p.html('<img src="'+networkUtils.getImageUrl("social_loading_599c9b1_.gif",ResourceConstants.CRM)+'">')}}else if(s.children().length>0){d=JSON.parse(s.attr("keys")),i.keyword=d,l.keyword=JSON.stringify(d);var f=$("#social_container"),g=f.attr("onclick");if(f.removeAttr("onclick"),!(d.keys.length>0))return void f.attr("onclick",g);if(a){var v=$(o.find($(".zs-showmore")));l.cursor=v.eq(0).children().attr("cursor"),v.eq(0).html('<img src="'+networkUtils.getImageUrl("social_loading_599c9b1_.gif",ResourceConstants.CRM)+'">')}else{$("#emptySearch").slideUp();for(var h="",_=d.keys,b=_.length,w=0;w<b;w++)""===h?h=_[w]:h+=", "+_[w];o.html('<li class="mT40" style="margin-left:75px"><img src="'+networkUtils.getImageUrl("social_loading_599c9b1_.gif",ResourceConstants.CRM)+'"></li>'),r.show(),c.attr("data-params",JSON.stringify(i))}}if(n){var k=(n=$(n)).next();k.html(""),k.removeClass("kso_notify"),n.addClass("rotation")}(new crmRequestPool).initiate({action:crmSocial.url,data:l,success:function(e){if(n){var n=$(n),l=n.next();l.html(""),l.removeClass("kso_notify"),n.removeClass("rotation")}var s=JSON.parse(e);if((s=crmSocialUtil.processPostForKanbanView(s)).data)for(var r=(d=d.keys).length,m=0;m<r;m++)s=crmSocialUtil.processSearchPosts(s,d[m]);if(s.cursor&&s.cursor.id&&(i.id=s.cursor.id,c.attr("data-params",JSON.stringify(i))),t&&""!==t){var u=$("#search_"+t+"_ul");if(""===a){var p=$("#search_"+t+"_refresh");p.hasClass("rotation")&&p.removeClass("rotation"),u.html(Handlebars.templates.PostTemplate(s))}else{$("#search_"+t+"_more").remove();var f=u.html();u.html(f+Handlebars.templates.PostTemplate(s))}s.cursor&&u.append(Handlebars.templates.CustomCursor(s.cursor)),""===a&&crmSocial.resetKanbanViewScrollBar("search_"+t+"_container"),crmSocial.setPotentialScrollBar("search_"+t+"_container","search_"+t+"_inner_container")}else{if(s.data){var v=s.data.length;for(m=0;m<v;m++)s.data[m].newSearch=!0}if(a){$(o.find($(".zs-showmore")).eq(0)).remove();f=o.html();o.html(f+Handlebars.templates.PostTemplate(s))}else o.html(Handlebars.templates.PostTemplate(s)),$("#savecancelColumn").show();s.cursor&&o.append(Handlebars.templates.CustomCursor(s.cursor)),crmSocial.setSearchScroll(),$("#reset_search").show(),$("#social_container").attr("onclick",g)}}})},saveSearch:function(){var e=$("#saveColBtn");e.html(I18n.getMsg("crm.saving"));var a=JSON.parse(e.attr("data-params"));if(a.keyword.keys.length>5)renderingUtils.showCustomAlert(I18n.getMsg("crm.nsocial.tab.search.max"),void 0,!0);else{var t={action:"save_search"};t.keyword=JSON.stringify(a.keyword),t.network=a.network,t[csrfParamName]=csrfToken,a.brid&&(t.brid=a.brid),Crm.trackSpotLightAction("CRM Social- Keyword Tracking Added"),(new crmRequestPool).initiate({action:crmSocial.url,data:t,success:function(a){switch(a){case"failed":crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.search.exists"),5e3),e.html(I18n.getMsg("crm.nsocial.save.column"));break;case"keyword_limit":crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.tab.search.max"),5e3),e.html(I18n.getMsg("crm.nsocial.save.column"));break;case"column_limit":crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.tab.column.max"),5e3),e.html(I18n.getMsg("crm.nsocial.save.column"));break;default:var t=JSON.parse(a),n=$("#custom_columns");crmSocial.searchIds.push(t.id),n.append(Handlebars.templates.SearchColumn(t));var l=crmSocial.windowHeight+20,i=$("#customers_parent").width();$("#column_"+t.id).css({height:l,width:i}),crmSocial.selectAllSocialMenu(),$("#ksoSearchListInner").append(Handlebars.templates.searchKeywordList(t)),crmSocial.goToColumn(t.id),crmSocial.adjustSearchPopHeight(),crmSocial.saveWidgetOrder(),crmSocial.setPotentialScrollBar("search_"+t.id+"_container","search_"+t.id+"_inner_container")}}})}},removeSearchKeyword:function(e,a){if(window.confirm(I18n.getMsg("crm.nsocial.search.delete.confirm"))){var t={action:"remove_search_word"};t.search_id=e,t[csrfParamName]=csrfToken;var n=$("#column_"+e),l=$("#social_main");(new crmRequestPool).initiate({action:crmSocial.url,data:t,success:function(t){if("success"===t){if($("#kso_setting_popup").is(":visible")){var i=$(a).closest("tr");i.parent().children().length>3?i.remove():$("#tw_search").remove()}n.remove();var s=$("#custom_columns > div").length,o=$("#social_main").children().length;if(crmSocial.unpinTimelineStatus)var r=s+(o-2);else r=s+(o-1);var c=$("#customers_parent").outerWidth()*r;s<=0?l.css("width",c):l.css("width",c+1),$("#search_list_"+e).remove(),crmSocial.resetSearch(),crmSocial.saveWidgetOrder()}}})}},removeSearchKey:function(e){for(var a=(e=$(e)).parent(),t=$(e.closest("ul")),n=t.children().index(a),l=t.next(),i=JSON.parse(t.attr("keys")),s=i.keys,o=[],r=s.length,c=0;c<r;c++)c!==n&&o.push(s[c]);if(a.remove(),o.length>0?(i.keys=o,t.attr("keys",JSON.stringify(i))):t.removeAttr("keys"),crmSocial.editSearch(l.attr("id")),"searchInpt"===l.attr("id"))t.attr("keys")?crmSocial.getSearchFeeds("1"):$("#saveColBtn").addClass("dN");else if(!t.attr("keys")){var d=l.attr("id");$("#save_"+d).addClass("dN")}},editColOption:function(e){var a=$("#column_"+e),t=a.find(".kso_editCol_ddwn");$(".zso_downarw").removeClass("zso_uparw"),t.is(":visible")?$(".kso_editCol_ddwn").hide():($(".kso_editCol_ddwn").hide(),t.show(),a.find(".zso_downarw").addClass("zso_uparw"))},editColumn:function(e){$("#column_"+e+"_edit").slideDown(),$("#"+e).focus(),$(".kso_editCol_ddwn").hide(),$(".zso_downarw").removeClass("zso_uparw")},editSearch:function(e,a){var t=$("#search_"+e+"_keywords");if(t.length>0&&t.attr("keys")){var n=JSON.parse($("#column_"+e).attr("data-params")),l=JSON.parse(t.attr("keys")),i=$("#search_"+e+"_ul"),s=$("#search_"+e+"_more"),o={action:"search_feeds"};o.network=n.network,o.keyword=JSON.stringify(l),o.search_id=n.id,a?(s.html('<img src="'+networkUtils.getImageUrl("social_loading_599c9b1_.gif",ResourceConstants.CRM)+'">'),o.cursor=a):(setTimeout((function(){crmSocial.setPotentialScrollBar("search_"+e+"_container","search_"+e+"_inner_container",!0)}),500),i.html('<li class="aligncenter" style="cursor:default; padding-top:150px;"><img src="'+networkUtils.getImageUrl("spacer_e17b417_.gif",ResourceConstants.CRM)+'" class="ks_loading_new"/></li>')),(new crmRequestPool).initiate({action:crmSocial.url,data:o,success:function(t){var n=JSON.parse(t);n=crmSocialUtil.processPostForKanbanView(n);for(var o=(l=l.keys).length,r=0;r<o;r++)n=crmSocialUtil.processSearchPosts(n,l[r]);a?(s.remove(),i.append(Handlebars.templates.PostTemplate(n))):($("#search_btn_"+e).addClass("dN"),$("#save_"+e).removeClass("dN"),i.html(Handlebars.templates.PostTemplate(n))),n.cursor&&(n.cursor.edit=!0,n.cursor.id=e,i.append(Handlebars.templates.CustomCursor(n.cursor)));var c=crmSocial.windowHeight-97-$("#search_"+e+"_edit").height();setTimeout((function(){$("#search_"+e+"_container").css("height",c),crmSocial.setPotentialScrollBar("search_"+e+"_container","search_"+e+"_inner_container",!0)}),1e3)}})}},updateSearch:function(e){for(var a=$("#column_"+e),t=$("#column_"+e+"_heading"),n=$("#column_"+e+"_edit"),l=JSON.parse(a.attr("data-params")),i=$("#search_"+e+"_keywords"),s=JSON.parse(i.attr("keys")),o=JSON.parse(t.attr("data-params")),r="",c=s.keys.length,d=0;d<c;d++)""===r?r=s.keys[d]:r+=","+s.keys[d];var m={action:"update_search"};m.new_key=JSON.stringify(s),m.search_id=l.id,m[csrfParamName]=csrfToken,(new crmRequestPool).initiate({action:crmSocial.url,data:m,success:function(c){switch(c){case"success":$("#search_"+e+"_edit").slideUp(),$("#search_btn_"+e).removeClass("dN"),$("#save_"+e).addClass("dN"),$("#column_"+e+"_heading").html($ESAPI.encoder().encodeForHTML(r)),l.keyword=s,t.attr("data-params",JSON.stringify(s)),a.attr("data-params",JSON.stringify(l)),$("#search_list_"+e).find(".col-search-name").html($ESAPI.encoder().encodeForHTML(r));break;case"failed":crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.search.exists"),5e3);var d=o.keys.length;crmSocial.getSearchFeeds(l.network,"",l.id),$("#search_"+e+"_keywords").attr("keys",JSON.stringify(o));for(var m=0;m<d;m++){var u={};u.keyword=$ESAPI.encoder().encodeForHTML(o.keys[m]),0===m?i.html(Handlebars.templates.SocialKeyword(u)):i.append(Handlebars.templates.SocialKeyword(u))}break;case"keyword_limit":crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.tab.search.max"),5e3);break;case"column_limit":crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.tab.column.max"),5e3)}n.slideUp()}})},cancelUpdateSearch:function(e){var a=$("#column_"+e),t=$("#column_"+e+"_heading"),n=$("#column_"+e+"_edit"),l=$("#search_"+e+"_noti_count"),i=$("#search_"+e+"_keywords"),s=JSON.parse(a.attr("data-params"));l.html(""),$(l.parent()).removeClass("kso_notify"),$("#search_"+e+"_refresh").css("display","none"),n.slideUp();for(var o=JSON.parse(t.attr("data-params")),r=JSON.stringify(o),c="",d=o.keys.length,m=0;m<d;m++)""===c?c=o.keys[m]:c+=","+o.keys[m];var u=o.keys.length;n.slideUp(),i.html(""),i.attr("keys",r);for(m=0;m<u;m++){var p={};p.keyword=$ESAPI.encoder().encodeForHTML(o.keys[m]),i.append(Handlebars.templates.SocialKeyword(p))}$("#search_btn_"+e).removeClass("dN"),$("#save_"+e).addClass("dN"),crmSocial.getSearchFeeds(s.network,"",s.id)},getAvailableProfiles:function(e){var a={action:"get_available_profiles"};a.config_id=e;var t=$("#column_"+e).find("#editDelColumn a").eq(1).offset();(new crmRequestPool).initiate({action:crmSocial.url,data:a,success:function(a){var n=JSON.parse(a);if(n.json&&n.json.length>0){var l=$("#profile_"+e+"_list");l.css({border:"none",padding:"0"}),l.html(Handlebars.templates.ListProfiles(n)),l.show();var i=l.find("#profileList"),s=i.outerWidth(),o=t.left-(s+9);i.css({left:o,top:t.top-3})}else crmui.showMsgBand("success",I18n.getMsg("crm.nsocial.setup.search.share.all"),5e3)}})},processSearchKey:function(e,a){a=a||window.event;var t=$("#searchInpt");t.removeAttr("placeholder").attr("size",10);var n=$(e),l=n.parents(".searchUlOuter").find("ul"),i=n.val().length,s=parseInt(i)+1;if(s>=40&&(s=40),n.attr("size",s),13===a.keyCode){var o=n.val().trim();if(""!==o)if(o.length>50)crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.tab.search.key.maxlen"),5e3);else{var r={};r.keyword=$ESAPI.encoder().encodeForHTML(o);var c=l.attr("keys");if(c){if((c=JSON.parse(c)).keys){for(var d=c.keys,m=[],u=d.length,p=0;p<u;p++)m.push(d[p].toLowerCase());if(-1!==m.indexOf(o.toLowerCase())){var f=o;return void crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.tab.search.copy",f),5e3)}if(!(d.length<5))return void crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.tab.search.max"),5e3);d.push(o)}c.keys=d}else d=new Array(o),(c=JSON.parse("{}")).keys=d;l.append(Handlebars.templates.SocialKeyword(r)),l.attr("keys",JSON.stringify(c)),n.val(""),t.focusout(),crmSocial.editSearch(n.attr("id")),"searchInpt"===n.attr("id")&&l.attr("keys")&&(crmSocial.getSearchFeeds("1"),$("#saveColBtn").removeClass("dN"))}else $("#searchKeys").attr("keys")?crmSocial.getSearchFeeds("1"):l.attr("keys")&&crmSocial.editSearch(n.attr("id"))}else if(8===a.keyCode&&""===n.val().trim()&&l.attr("keys")){var g=l.children(),v=g[g.length-1];renderingUtils.triggerEvent("click",$(v).find("a"))}},searchClick:function(e,a){a=a||window.event;var t=$("#searchInpt");t.removeAttr("placeholder").attr("size",10);var n=$(e),l=t.val();l&&""!==l&&(a.keyCode=13,crmSocial.processSearchKey(n.parent().find("#searchInpt"),a));var i=n.parents(".searchUlOuter").find("ul"),s=n.val().length,o=parseInt(s)+1;o>=40&&(o=40),n.attr("size",o);var r=n.val().trim();if(""!==r)if(r.length>50)crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.tab.search.key.maxlen"),5e3);else{var c={};c.keyword=$ESAPI.encoder().encodeForHTML(r);var d=i.attr("keys");if(d){if((d=JSON.parse(d)).keys){for(var m=d.keys,u=[],p=m.length,f=0;f<p;f++)u.push(m[f].toLowerCase());if(-1!==u.indexOf(r.toLowerCase())){var g=r;return void crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.tab.search.copy",g),5e3)}if(!(m.length<5))return void crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.tab.search.max"),5e3);m.push(r)}d.keys=m}else m=new Array(r),(d=JSON.parse("{}")).keys=m;i.append(Handlebars.templates.SocialKeyword(c)),i.attr("keys",JSON.stringify(d)),n.val(""),crmSocial.getSearchFeeds("1")}else crmSocial.getSearchFeeds("1")},startNewTracking:function(){var e=$("#emptyTracking"),a=e.children();$("#kso_follow_menu").animate({top:crmSocial.topBandHeight,height:crmSocial.windowHeight,width:$("#customers_parent").css("width")},(function(){$("#trackInpt").focus(),$("#leadcontactTab").show(),crmSocial.hightsetTracking();var t=$("#trackHeader");t.find("> div").eq(0).addClass("pB0 bbeded"),t.find(".followSrch").slideDown(),e.find(".firstFollow").slideUp(),a.eq(1).slideDown(),e.slideDown(),$("#trackingTimelineList").slideUp();var n=$("#selectedTrackingList");n.removeAttr("entities"),n.empty(),$("#trackingName").val(""),crmSocial.timeLineList=[]})),$("#kso_follow_menu > div").css({height:crmSocial.windowHeight})},hightsetTracking:function(){var e=crmSocial.windowHeight-$("#trackHeader").outerHeight(!0)-$("#selectEntities").outerHeight(!0)-30;$("#newTrackingSection").css({height:e})},heightsetTracking:function(e,a){e=$(e);var t=$("#column_"+a),n=crmSocial.windowHeight-$("#column_"+a+"_inner").outerHeight(!0)-t.find("#select_entities").outerHeight(!0)-160;t.find("#new_tracking_section").css("height",n)},leadContactTab:function(e,a){var t=(e=$(e)).closest(".leadcontTab");"leadcontactTab"===t.attr("id")?("Leads"===a||"Contacts"===a)&&$("#leadcontactTab").attr("params",a):"lead_contact_Tab"===t.attr("id")&&("Leads"===a||"Contacts"===a)&&t.attr("params",a)},trackInputEvent:function(e,a){((a=a||window.event).keyCode>=65&&a.keyCode<=90||8===a.keyCode||13===a.keyCode)&&crmSocial.socialContactDetails(e,a)},socialContactDetails:function(e){e=$(e);var a="",t={},n="",l="",i=[],s="",o="",r="",c="",d=1,m=0,u=e.closest(".sideMenu"),p=e.closest(".ksocialbox");if(crmSocial.hightsetTracking(),1===u.length)a=(f=u).find("#trackInpt").val(),n=$("#newTrackingList"),s=$("#saveMoreContact"),o=$("#newTrackingSection"),r=$("#selectEntities"),l=$("#selectedTrackingList"),c=$("#leadcontactTab").attr("params"),l.attr("entities")&&(i=l.attr("entities").split(",")),"saveMoreContact"===e.attr("id")&&(d=parseInt(e.attr("params")),m=parseInt(e.attr("params1")));else if(1===p.length){var f;a=(f=p).find("#track_inpt").val(),s=f.find("#save_more_contact"),n=f.find("#new_tracking_list"),o=f.find("#new_tracking_section"),r=f.find("#select_entities"),l=f.find("#selected_tracking_list"),c=f.find("#lead_contact_Tab").attr("params"),l.attr("entities")&&(i=l.attr("entities").split(",")),"save_more_contact"===e.attr("id")&&(d=parseInt(e.attr("params")),m=parseInt(e.attr("params1")))}var g=m+101,v={action:"search_entities"};a&&a.length<1?(v.cursor=d,v.option=c):(v.entity_key=a,v.option=c,v.cursor=m);var h=1;if(a.length<1&&(crmSocial.contactList&&crmSocial.contactList.data.length>=d&&"CONTACTS"===c.toUpperCase()||crmSocial.leadList&&crmSocial.leadList.data.length>=d&&"LEADS"===c.toUpperCase())&&(h=2),1===h)(new crmRequestPool).initiate({action:crmSocial.url,data:v,success:function(l){l=JSON.parse(l),s.show();var m=l.data.length,u=l.data.length;a.length<1&&u<101||a.length>=1&&u<g?u=l.data.length:u-=1,t.data=crmSocial.processLeadContact(i,l,u);var p=!1;m<101?s.hide():p=!0,a.length<1&&("CONTACTS"===c.toUpperCase()?crmSocial.contactList?(t=crmSocial.removeDuplicate(crmSocial.contactList,t),crmSocial.contactList=crmSocial.removeDuplicateAndMerge(crmSocial.contactList,t),crmSocial.contactListMore=[p,d+m-1]):(crmSocial.contactList=t,crmSocial.contactListMore=[p,d+m-1]):"LEADS"===c.toUpperCase()&&(crmSocial.leadList?(t=crmSocial.removeDuplicate(crmSocial.leadList,t),crmSocial.leadList=crmSocial.removeDuplicateAndMerge(crmSocial.leadList,t),crmSocial.leadListMore=[p,d+m-1]):(crmSocial.leadList=t,crmSocial.leadListMore=[p,d+m-1]))),("saveMoreContact"===e.attr("id")||"save_more_contact"===e.attr("id"))&&a.length<1?n.append(Handlebars.templates.TrackingEntities(t)):n.html(Handlebars.templates.TrackingEntities(t)),a.length<1?s.attr("params",d+m-1):(m<g&&s.hide(),s.attr("params1",m-1)),o.slideDown(),r.slideDown()}});else if(2===h){if("CONTACTS"===c.toUpperCase()){var _=(t=crmSocial.contactList).data.length;t.data=crmSocial.processLeadContact(i,t,_),n.html(Handlebars.templates.TrackingEntities(t)),crmSocial.contactListMore[0]?(s.show(),s.attr("params",crmSocial.contactListMore[1])):s.hide()}else if("LEADS"===c.toUpperCase()){_=(t=crmSocial.leadList).data.length;t.data=crmSocial.processLeadContact(i,t,_),n.html(Handlebars.templates.TrackingEntities(t)),crmSocial.leadListMore[0]?(s.show(),s.attr("params",crmSocial.leadListMore[1])):s.hide()}o.slideDown(),r.slideDown()}},removeDuplicateAndMerge:function(e,a){if(e){for(var t=e.data.length,n=a.data.length,l=e,i=t,s=0;s<n;s++)l.data[i]=a.data[s],i++;return l}return a},removeDuplicate:function(e,a){if(e){for(var t=a.data.length,n={data:[]},l=0,i=0;i<t;i++){for(var s=a.data[i].SEID.toUpperCase(),o=0,r=e.data.length,c=0;c<r;c++){s===e.data[c].SEID.toUpperCase()&&(o=1)}0===o&&(n.data[l]=a.data[i],n.data[l].DISPLAY="inline-block",l++)}return n}return a},processLeadContact:function(e,a,t){for(var n=[],l=0,i=0;i<t;i++){for(var s=a.data[i].SEID.toUpperCase(),o=0,r=e.length,c=0;c<r;c++){s===e[c].toUpperCase()&&(o=1)}0===o?(n[l]=a.data[i],n[l].DISPLAY="inline-block",l++):1===o&&(n[l]=a.data[i],n[l].DISPLAY="none",l++)}return n},timelineAppendList:function(e){var a=(e=$(e)).closest(".dragCol"),t=$("#selectedTrackingList"),n=e.parent(),l="";l=1===a.length?a.find("#selected_tracking_list"):t;var i=n.attr("entity_id"),s=e.find(".fullname").html(),o=l.attr("entities");if(o){if(!((o=o.split(",")).length<5)){var r=[];return r.push("leads"),r.push("contacts"),void crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.tab.tracking.max",r),5e3)}o.push(i)}else o=new Array(i);var c=t.width()-30,d={},m=[],u={};u.entity_id=i,u.entity_name=s,u.width=c,m.push(u),d.entities=m,e.toggleClass("custfeed_active").slideUp(),e.hide(),e.is(":visible")||l.append(Handlebars.templates.selectedEntities(d)),l.attr("entities",o);var p=$("#trackingName");if(1===a.length?""!==p.val().trim()&&a.find("#saveTrackingBtn").css("display","inline-block"):""!==p.val().trim()&&$("#saveTrackingColumn").css("display","inline-block"),"newTrackingList"===n.parent().attr("id")){var f=$("#selectEntities #saveTrackingBtn"),g=$("#selectedTrackingList > li").length;p=p.val().length;g>0&&p>0&&f.css("opacity","1").removeAttr("disabled").css("pointer-events","auto")}else{e.parents("#new_tracking_section").siblings(".saveCancelCol").find("#saveTrackingBtn").css("opacity","1").removeAttr("disabled").css("pointer-events","auto")}crmSocial.timelineCheckCustTag(),crmSocial.timelineChoose(),crmSocial.updateTimelineContHeight()},timelineChoose:function(){var e=renderingUtils.windowHeight-26,a=e-$(".ksheader").innerHeight(),t=$("#timelineSection"),n=$("#kso_timeline_menu");n.animate({height:e}),t.css("height",a),n.animate({top:"0"}),t.slideDown()},timelineCheckCustTag:function(){var e=$("#custFeedTagUl").find("li").length,a=$("#custFeedTag"),t=a.find("#custFeedbtn");e?(a.slideDown(),!t.length&&a.append('<div id="custFeedbtn" class="mT15"><button class="newgraybtn" onclick="crmSocial.addCustomFeed()">Add Custom Feed</button></div> ')):t.slideUp().remove()},removeSelectedEntity:function(e){var a=(e=$(e)).attr("entity_id"),t=e.closest(".dragCol"),n="",l="",i="",s="";if(t&&1===t.length){l=t.find("#selected_tracking_list");var o=t.find("#new_tracking_list");n=o.find('[entity_id="'+a+'"]'),s=o.find('[entity_id="'+a+'"]>a'),i=t.find("#tracking_name")}else{l=$("#selectedTrackingList");var r=$("#newTrackingList");n=r.find('[entity_id="'+a+'"]'),s=r.find('[entity_id="'+a+'"]>a'),i=$("#trackingName")}if(n){s.show();var c=n.find(".custfeed_active");c.removeClass("custfeed_active"),c.slideDown()}e.closest(".search-choice-tag").remove();var d=l.attr("entities");d&&(d=d.split(","));for(var m=[],u=d.length,p=0;p<u;p++)d[p]!==a&&m.push(d[p]);if(t&&1===t.length)if(m.length>0){l.attr("entities",m);var f=t.find("#saveTrackingBtn");""!==i.val().trim()&&f.attr("disabled")?f.css("opacity","1").removeAttr("disabled").css("pointer-events","auto"):f.css("opacity","0.5").attr("disabled").css("pointer-events","none")}else l.removeAttr("entities"),t.find("#saveTrackingBtn").css("opacity","0.5").attr("disabled").css("pointer-events","none");else{f=$("#saveTrackingColumn #saveTrackingBtn");m.length>0?(l.attr("entities",m),""!==$("#trackingName").val().trim()?f.css("opacity","1").removeAttr("disabled").css("pointer-events","auto"):f.css("opacity","0.5").attr("disabled").css("pointer-events","none")):(l.removeAttr("entities"),f.css("opacity","0.5").attr("disabled").css("pointer-events","none"))}},focusSaveBtn:function(e){var a,t=(e=$(e)).parent(),n=e.val().length;if("trackingName"===e.attr("id")){var l=t.find("#selectedTrackingList > li").length;a=t.find("#saveTrackingBtn"),n>0&&l>0?a.css("opacity","1").removeAttr("disabled").css("pointer-events","auto"):a.css("opacity",".5").attr("disabled").css("pointer-events","none")}else{l=t.find("#selectedTrackingList > li").length;(a=t.siblings(".saveCancelCol").find("#saveTrackingBtn")).css("opacity","1").removeAttr("disabled").css("pointer-events","auto"),n<1&&a.css("opacity",".5").attr("disabled").css("pointer-events","none")}},fucusoutSaveBtn:function(e){var a=(e=$(e)).val().length,t=e.parent().find("#selectedTrackingList"),n=$("#saveTrackingColumn #saveTrackingBtn");(t.length<=0||a<=0)&&n.css("opacity",".5").removeAttr("onclick")},heightAdjustment:function(e){var a=$(e).closest("#kso_follow_menu").find("#newTrackingSection");if(a.hasClass("focus")){var t=a.height();a.css("height",t-50),a.removeClass("focus")}},saveTracking:function(){var e=$("#selectedTrackingList").attr("entities").split(",");if(0!==e.length){if(e.length>5)return(t=[]).push("leads"),t.push("contacts"),void crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.tab.tracking.max",t),5e3);var a=$("#trackingName").val();if(0!==a.length)if(a.length>50)crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.tab.filter.key.max"),5e3);else{var t,n=$("#saveTrackingBtn .dIB").children().eq(0);n.html(I18n.getMsg("crm.saving")),(t={action:"save_stream"}).entity_ids=e.toString(),t.tracking_name=a,t[csrfParamName]=csrfToken,(new crmRequestPool).initiate({action:crmSocial.url,data:t,success:function(e){switch(e){case"keyword_limit":var a=[];a.push("leads"),a.push("contacts"),crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.tab.tracking.max",a),5e3);break;case"column_limit":crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.tab.column.max"),5e3);break;case"name_clash":crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.tab.filter.name.copy"),5e3);break;case"entities_clash":crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.tab.filter.entities.copy"),5e3);break;default:e=JSON.parse(e);var t=$("#social_main"),l=$("#customers_parent"),i=t.width(),s=crmSocial.windowHeight,o=l.outerWidth(),r=l.width(),c=s+20,d=i+o;$("#trackingTimelineInner").append(Handlebars.templates.trackingNameList(e)),t.css("width",d),$("#custom_columns").append(Handlebars.templates.TimelineColumn(e)),$("#column_"+e.id).css({height:c,width:r}),n.html(I18n.getMsg("crm.nsocial.save.column")),crmSocial.getFilter("",e.id),crmSocial.goToColumn(e.id),crmSocial.saveWidgetOrder()}}})}}},updateTracking:function(e,a){(e=$(e)).children().eq(0).children().eq(0).html(I18n.getMsg("crm.updating"));var t=$("#column_"+a+"_edit_container"),n=t.find("#selected_tracking_list").attr("entities").split(",");if(0!==n.length){if(n.length>5)return(l=[]).push("leads"),l.push("contacts"),void crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.tab.tracking.max",l),5e3);var l,i=t.find("#tracking_name").val();if(0!==i.length)if(i.length>50)crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.tab.filter.key.max"),5e3);else(l={action:"update_stream"}).filter_id=a,l.entity_ids=n.toString(),l.tracking_name=i,l[csrfParamName]=csrfToken,(new crmRequestPool).initiate({action:crmSocial.url,data:l,success:function(t){switch(t){case"keyword_limit":var n=[];n.push("leads"),n.push("contacts"),crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.tab.tracking.max",n),5e3);break;case"column_limit":crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.tab.column.max"),5e3);break;case"name_clash":crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.tab.filter.name.copy"),5e3);break;case"entities_clash":crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.tab.filter.entities.copy"),5e3);break;case"success":e.css("opacity","0.5"),$("#column_"+a+"_heading").html($ESAPI.encoder().encodeForHTML(i)),$("#tracking_"+a+" .col-search-name").html($ESAPI.encoder().encodeForHTML(i)),crmSocial.getFilter("",a),crmSocial.cancelFilter(a)}e.attr("disabled","disabled").css("pointer-events","none"),e.children().eq(0).children().eq(0).html(I18n.getMsg("crm.button.update"))}})}},cancelFilter:function(e){$("#column_"+e+"_edit").slideUp(),crmSocial.getFilter("",e);var a={action:"get_filter_entities"};a.filter_id=e,(new crmRequestPool).initiate({action:crmSocial.url,data:a,success:function(a){a=JSON.parse(a);var t=$("#column_"+e),n=t.find("#selected_tracking_list");n.html(Handlebars.templates.selectedEntities(a)),n.attr("entities",a.entities_attr),t.find("#tracking_name").val(a.title),t.find("#saveTrackingBtn").css("opacity",".5")}})},deleteTracking:function(e){if(window.confirm(I18n.getMsg("crm.nsocial.search.delete.confirm"))){var a={action:"remove_stream"};a.track_id=e,a[csrfParamName]=csrfToken,(new crmRequestPool).initiate({action:crmSocial.url,data:a,success:function(a){var t=n.width()-$("#customers_parent").width();if("success"===a){var n=$("#social_main"),l=$("#column_"+e);l.animate({width:"0px"},(function(){l.remove(),n.css("width",t)})),$("#tracking_"+e).remove(),crmSocial.resetEntity(),crmSocial.saveWidgetOrder()}}})}},like:function(e,a,t,n){commonUtils.showHideLoadingDiv(!0);var l=(e=$(e)).attr("liked"),i=e.closest(".kso_li"),s=$("#feed_detail_container"),o=$(".selected_feed"),r=$("#timeline_outer"),c=e.closest("#feed_detail_inner_div");if(s.is(":visible")&&!r.is(":visible"))var d=o;else if($("#social_interaction_container").is(":visible"))d=c;else if($("#intract_pings").is(":visible")&&c.length>0)d=o;else d=i;if(crmNTC.isSignalDetailViewVisible())d=c;var m=d.attr("p_id"),u=d.attr("b_id");if(!crmSocial.hasBrandExpired(u)){var p={};null!==n?(p.feedid=e.closest(".detailfeedcomment").parent().attr("c_id"),p.feedid||(p.feedid=i.attr("c_id"))):p.feedid=m,p.brid=u,p[csrfParamName]=csrfToken;var f=e.children().eq(1),g=parseInt(f.html());"true"===l?(p.action="unlike",e.removeClass("kso_fbLiked").addClass("kso_fbLike"),0===(g-=1)?f.html(""):f.html(g),e.siblings(".kso_fbLikedShow").addClass("dN")):(p.action="like",e.removeClass("kso_fbLike").addClass("kso_fbLiked"),isNaN(g)?g=1:g+=1,f.html(g),e.siblings(".kso_fbLikedShow").removeClass("dN")),s.is(":visible")&&(p.is_detail="true"),null!==t&&(p.commentId=t),(new crmRequestPool).initiate({action:crmSocial.url,data:p,success:function(a){commonUtils.showHideLoadingDiv(!1);var n=JSON.parse(a),i=!1,c=!1;if(n.post&&!n.errors&&(i=!0),i){for(var u=(w=$('[p_id="'+m+'"]')).length,p=0;p<u;p++){if((S=(k=w.eq(p)).attr("l_cnt"))&&""===k.attr("c_id")){S="true"===l?parseInt(S)-1:parseInt(S)+1,k.attr("l_cnt",S);var f=(y=k.find("#action").children().eq(0)).children();S>0?f.eq(1).html(S):f.eq(1).html(""),"true"===l?(y.removeClass("kso_fbLiked").addClass("kso_fbLike"),y.siblings(".kso_fbLikedShow").addClass("dN")):(y.removeClass("kso_fbLike").addClass("kso_fbLiked"),y.siblings(".kso_fbLikedShow").removeClass("dN"))}}if(n.post)if(s.is(":visible")&&!r.is(":visible")){n.post=crmSocialUtil.processFacebookLikes(n.post);var g=e.parent().find("#like_list");n.post.likeDiv?(g.html(n.post.likeDiv),g.removeClass("dN")):(g.addClass("dN"),g.html(""));var v=o.find("#action"),h=v.find(".kso_fb_like"),_=v.find(".fbpostlike").children().eq(1),b=parseInt(_.html());"true"===l?(h.find("span").removeClass("fBLikeIcn").addClass("fBInitLikedIcn"),_.html(b-1),e.attr("liked",""),h.attr("liked","")):(h.find("span").removeClass("fBInitLikedIcn").addClass("fBLikeIcn"),_.html(b+1),e.attr("liked","true"),h.attr("liked","true"))}else{_=d.find("#action").find(".fbpostlike").children().eq(1),b=parseInt(_.html());"true"===l?(_.html(b-1),e.attr("liked","")):(_.html(b+1),e.attr("liked","true"))}}if(n.comment&&!n.errors&&(c=!0),c){e.attr("onclick","crmSocial.like(this, 'facebook');");var w;for(u=(w=$('[c_id="'+t+'"]')).length,p=0;p<u;p++){var k,S;if(S=(k=w.eq(p)).attr("l_cnt")){S="true"===l?parseInt(S)-1:parseInt(S)+1,k.attr("l_cnt",S);var y=k.find("#comment_action").find(".kso_fb_like");S>0?y.next("span").html(S):y.next("span").html(""),"true"===l?(y.find("span").removeClass("fBLikeIcn").addClass("fBInitLikedIcn"),k.find("#fblikeposi").find("div").removeClass("fBLikeIcn")):(y.find("span").removeClass("fBInitLikedIcn").addClass("fBLikeIcn"),k.find("#fblikeposi").find("div").addClass("fBLikeIcn"))}}"true"===l?e.attr("liked",""):e.attr("liked","true")}}})}},comment:function(e,a,t){e=$(e);var n=new FormData,l=e.parents("#response").find("#soc_comment_img"),i=l.parent();l.attr("src")&&""!==l.attr("src")&&("detail"===t?n.append("upload_photo",crmSocial.detailimage,crmSocial.detailimage.name):n.append("upload_photo",crmSocial.replyimage,crmSocial.replyimage.name));var s=e.closest("#response").find("#resp_box"),o=$("#feed_detail_container"),r=$("#timeline_outer"),c=$("#social_interaction_container"),d=e.closest(".kso_li"),m=d.parent().attr("id"),u=e.closest("#feed_detail_inner_div");o.is(":visible")&&!m?d=$(".selected_feed"):(c.is(":visible")||$("#intract_pings").is(":visible")&&u.length>0)&&(d=u),crmNTC.isSignalDetailViewVisible()&&(d=u);var p=d.attr("p_id"),f=d.attr("b_id");n.append("feedid",p),n.append("brid",f),n.append("network",a);var g=s.val().trim();(""!==g||l.attr("src"))&&(e.find("span").empty(),e.find(".socNewLoding").show(),n.append("comment",g),n.append(csrfParamName,csrfToken),e.attr("disabled","disabled").css("opacity","0.5").css("pointer-events","none"),jQuery.ajax({type:"POST",url:crmSocial.url+"?action=comment",data:n,processData:!1,contentType:!1,success:function(t){var n=JSON.parse(t),c=!1;if((n.data&&!n.data.errors||n.post&&!n.post.errors||n.object&&!n.object.errors)&&(c=!0),c){e.find(".socNewLoding").hide(),e.attr("disabled","disabled").css("opacity","0.5").css("pointer-events","none"),e.find(".repy").text(I18n.getMsg("crm.nsocial.comment")),e.parents("#response").siblings("#interactions").removeClass("dN");var m=d.find("#comment_list");if("facebook"===a)n.post=crmSocialUtil.processInteractability(n.post),n.post=crmSocialUtil.processFacebookComments(n.post),(g=(f=n.post.comments.data)[f.length-1]).message=crmSocialUtil.processLinks(g.message);else if("googleplus"===a){var f,g;n.post=crmSocialUtil.processGooglePlusComments(n),(g=(f=n.object.replies.data)[f.length-1]).url=n.object.url,g.object.content=crmSocialUtil.processLinks(g.object.content)}if(crmNTC.isSignalDetailViewVisible()){if(s.val(""),l.removeAttr("src"),l.removeAttr("title"),i.addClass("dN"),g){m.append(Handlebars.templates.CommentTemplate(g));var v=e.closest("#feed_detail_outer_div"),h=v.find("#feed_detail_head").height();v.find("#feed_detail_head_outer").animate({scrollTop:h},800)}return}if(o.is(":visible")&&!r.is(":visible")&&0===e.closest(".krp_old_conversation,.kso_li").length||$("#social_interaction_container").is(":visible")){if(s.val(""),l.removeAttr("src"),l.removeAttr("title"),i.addClass("dN"),g){u.find("#comment_list").append(Handlebars.templates.CommentTemplate(g)),$("#feed_detail_head_outer").animate({scrollTop:$("#feed_detail_head").height()},800);var _=$(".selected_feed");if(o.is(":visible")&&p===_.attr("p_id"))""===_.attr("c_id")?(b=parseInt(_.attr("c_cnt"))+1,_.attr("c_cnt",b)):b=parseInt($("#feed_detail_action").find(".kso_fbComment").children().eq(1).html())+1,"facebook"===a&&(_.find(".kso_fbComment").children().eq(1).html(b),$("#feed_detail_action").find(".kso_fbComment").children().eq(1).html(b))}}else if($("#intract_pings").is(":visible")&&$(e).closest("#feed_detail_inner_div").length>0){if(s.val(""),l.removeAttr("src"),l.removeAttr("title"),i.addClass("dN"),void 0!==g){u.find("#comment_list").append(Handlebars.templates.CommentTemplate(g)),$("#feed_detail_head_outer").animate({scrollTop:$("#feed_detail_head").height()},800);var b;_=$(".selected_feed");if(o.is(":visible")&&p===_.attr("p_id"))""===_.attr("c_id")?(b=parseInt(_.attr("c_cnt"))+1,_.attr("c_cnt",b)):b=parseInt($("#feed_detail_action").find(".kso_fbComment").children().eq(1).html())+1,"facebook"===a&&(_.find(".kso_fbComment").children().eq(1).html(b),$("#feed_detail_action").find(".kso_fbComment").children().eq(1).html(b))}}else if(r.is(":visible")){if(g){m.append(Handlebars.templates.CommentTemplate(g));var w=$(crmSocial.oldDiv).parent().parent().find("#response");w.slideUp("fast"),w.html("")}}else if(g){g.kanban=!0;var k=d.find("#action");d.closest("#my_timeline").length>0?d.find("#head").eq(0).siblings("#interactions").find("#comment_list").append(Handlebars.templates.CommentTemplate(g)):k.eq(0).siblings("#response").after(Handlebars.templates.CommentTemplate(g)),crmSocial.toggleResponse();var S=parseInt(d.attr("c_cnt"))+1;d.attr("c_cnt",S),k.find(".top1").html(S),"facebook"===a&&k.find(".kso_fbComment").children().eq(1).html(S)}crmSocial.detailResize()}else{if(n.error&&190===n.error.code)confirm("Unable to authenticate facebook, Please re-authenticate now")&&(crmSocial.reAuthCallbackFunc="comment",crmSocial.reAuthCallbackParams=[e,a],crmSocialSetup.openAuthenticationPop(n.reauth));e.show(),e.next().hide()}}}))},replyToComment:function(e,a,t){e=$(e);var n={action:"comment",network:"facebook"};n.commentId=a,n[csrfParamName]=csrfToken;var l=e.closest("#response").find("#resp_box").val().trim(),i=e.closest(".kso_li");if(n.comment=l,1===i.length)var s=i;else s=e.closest("#feed_detail_inner_div");var o=s.attr("p_id"),r=s.attr("b_id");n.feedid=o,n.brid=r,e.find("span").empty(),e.find(".socNewLoding").show();var c=new crmRequestPool;e.attr("disabled","disabled").css("opacity","0.5").css("pointer-events","none"),c.initiate({action:crmSocial.url,data:n,success:function(n){var l=JSON.parse(n),i=(l=crmSocialUtil.processTime(l)).id,s=l.parent.id;l.permalink=RebrandLinkUtil.getProperty("FB_URL")+"/permalink.php?story_fbid="+s.split("_")[0]+"&id="+o.split("_")[0]+"&comment_id="+s.split("_")[1]+"&reply_comment_id="+i.split("_")[1],e.find(".socNewLoding").hide(),"kanban"===t&&(l.kanban=!0),"detail"===t?e.closest("#response").before(Handlebars.templates.ReplyToComment(l)):e.closest("#response").after(Handlebars.templates.ReplyToComment(l));for(var r=$("[c_id="+a+"]"),c=r.length,d=0;d<c;d++){var m=parseInt(r.eq(d).attr("c_cnt"))+1;r.eq(d).attr("c_cnt",m),r.eq(d).find(".kso_fbComment").children().eq(1).html(m)}crmSocial.toggleResponse(),crmSocial.toggleResponseInDetail(e)}})},confirmDelComment:function(e,a,t,n){e=$(e);var l,i,s={};switch(s.action="remove_comment",s[csrfParamName]=csrfToken,n){case"comment_kanban":s.commentId=a,l=e.closest(".kso_li"),s.feedid=l.attr("p_id");break;case"post_kanban":s.feedid=a,l=e.closest(".kso_li");break;case"detail_comment":s.commentId=a,0===(l=e.closest("#feed_detail_inner_div")).length&&(l=e.closest(".kso_li")),s.feedid=l.attr("p_id");break;case"post_detail":s.feedid=a,l=e.closest("#feed_detail_inner_div")}(s.brid=l.attr("b_id"),s.network=t,i=s.commentId?I18n.getMsg("crm.nsocial.tab.fb.delete.comment"):I18n.getMsg("crm.nsocial.tab.fb.delete.post"),confirm(i))&&(new crmRequestPool).initiate({action:crmSocial.url,data:s,success:function(t){var i=JSON.parse(t);if(i.comment_id){var s="#comment_"+i.comment_id+"_div";$(s).slideUp("slow",(function(){e.remove(),$("[c_id="+i.comment_id+"]").remove()}));var o=parseInt(l.find(".kso_fb_comment").next("span").html())-1;l.attr("c_cnt",o),o<1?"detail_comment"===n?l.find("#feed_detail_action").find(".kso_fb_comment").next("span").html(""):l.find("#action").find(".kso_fb_comment").next("span").html(""):"detail_comment"===n?l.find("#feed_detail_action").find(".kso_fb_comment").next("span").html(o):l.find("#action").find(".kso_fb_comment").next("span").html(o)}else{(s=e.closest(".kso_li")).slideUp("slow",(function(){e.remove(),$("[p_id="+a+"]").remove()})),"post_detail"===n&&crmSocial.hideDetails()}}})},onImageSelected:function(e,a,t,n){e=e||window.event;var l=$(a),i=l.parents("#sendTweetcont"),s=l.parents("#response"),o=e.target.files[0];if(o.size<3145728&&"twitter"===t||o.size<26214400&&"facebook"===t){var r;"detail"===n?crmSocial.detailimage=o:"Twdetail"===n?crmSocial.twitterImage=o:crmSocial.replyimage=o,(r="Twdetail"===n?i.find("#soc_tw_detail_img"):s.find("#soc_comment_img")).parent().removeClass("dN"),r.attr("title",o.name);var c,d=new FileReader;d.onload=function(e){r.attr("src",e.target.result)},d.readAsDataURL(o),crmSocial.detailResize(),"Twdetail"===n?(c=i.find("#resp_box"),crmSocial.dmProcessText()):(c=s.find("#resp_box"),crmSocial.processText(c))}else renderingUtils.showCustomAlert(I18n.getMsg("crm.nsocial.tab.image.maximum"),void 0,!0)},removeImage:function(e,a){var t=$(e),n=t.parents(".soc_compose_img");if(n.addClass("dN"),n.find("img").removeAttr("src").removeAttr("title"),"Twdetail"===a){var l=t.parents("#sendTweetcont");l.find("#soc_tw_detail_img").val(""),e=l.find("#resp_box"),crmSocial.dmProcessText()}else{var i=t.parents("#response");i.find("#commentimage").val(""),e=i.find("#resp_box"),crmSocial.processText(e)}crmSocial.detailResize()},removeFile:function(){$(".composeimgcont").addClass("dN"),$("#composeimg").removeAttr("src").removeAttr("title"),$("#composeChose").val(""),crmSocial.processText()},favorite:function(e){var a=(e=$(e)).closest("#feed_detail_inner_div"),t=$("#feed_detail_container"),n=(i=e.closest(".kso_li")).parent().attr("id"),l=$("#timeline_outer");if(!t.is(":visible")||n||l.is(":visible")){if($("#intract_pings").is(":visible")&&a.length>0)i=a;else if($("#social_interaction_container").is(":visible")||crmNTC.isSignalDetailViewVisible())var i=a}else i=$(".selected_feed");if(crmNTC.isSignalDetailViewVisible())i=a;var s=i.attr("p_id"),o=i.attr("b_id");if(!crmSocial.hasBrandExpired(o)){if(t.is(":visible"))r=$(".selected_feed #info");else var r=e.siblings("#info");var c=r.attr("favorited"),d={},m=e.children(),u=$(".selected_feed #favorite"),p=u.children().last();d.feedid=s,d.brid=o,d[csrfParamName]=csrfToken;var f=m.eq(1).html();if("true"===c){if(d.action="undo_favorite",e.removeClass("kso_twFavorited").addClass("kso_twFavorite"),e.siblings(".kso_twFavoritedShow").addClass("dN"),t.is(":visible"))r.parents(".kso_li").attr("f_cnt",parseInt(f)-1),"1"===(g=p.html())?p.html(""):p.html(parseInt(g)-1),u.removeClass("kso_twFavorited").addClass("kso_twFavorite").attr("favorited",!1);"1"===f?m.eq(1).html(""):m.eq(1).html(parseInt(f)-1),r.attr("favorited","false")}else{var g;if(d.action="favorite",e.removeClass("kso_twFavorite").addClass("kso_twFavorited"),e.siblings(".kso_twFavoritedShow").removeClass("dN"),t.is(":visible"))r.parents(".kso_li").attr("f_cnt",parseInt(f)+1),(g=p.html())&&""!==g?p.html(parseInt(g)+1):p.html("1"),u.removeClass("kso_twFavorite").addClass("kso_twFavorited").attr("favorited",!0);f&&""!==f?m.eq(1).html(parseInt(f)+1):m.eq(1).html("1"),r.attr("favorited","true")}(new crmRequestPool).initiate({action:crmSocial.url,data:d,success:function(e){var a=JSON.parse(e),i=!1;if((a.data&&!a.data.errors||a.dataObj&&!a.dataObj.errors||a.post&&!a.post.erros)&&(i=!0),i){for(var o=$('[p_id="'+s+'"]'),d=a.dataObj.favorite_count,m=o.length,u=0;u<m;u++){var p=o.eq(u),f=p.attr("f_cnt");f&&(f="true"===c?parseInt(f)-1:parseInt(f)+1,p.attr("f_cnt",f))}var g=$(".selected_feed");if(!n&&t.is(":visible")&&!l.is(":visible")){var v=g.find("#favorite");r=g.find("#info"),"true"===c?(r.attr("favorited","false"),"true"===r.attr("retweeted")?r.attr("class","kso_retweetedIcon grayscale"):r.attr("class","grayscale")):(r.attr("favorited","true"),"true"===r.attr("retweeted")?r.attr("class","kso_re_staredIcon grayscale"):r.attr("class","kso_staredIcon grayscale")),v.children().eq(1).html(d)}}}})}},addQuoteDiv:function(){$("#quoteTweet").length||$("#showSignalPop").after('<div id="quoteTweet" class="newPopup pF"><div class="titleDiv pT20 pB20"><span class="settingTitle fL dIB mL20">'+I18n.getMsg("crm.social.tweet.this")+'</span><div class="posabs socialImgsvg dbBtnClose fR" onclick="sE(event); crmSocial.hideQuoteTweet();" data-zcqa="close_quote_tweet"></div><div class="clearB"></div></div></div>')},showQuoteTweet:function(e,a,t,n){if(a&&t){commonUtils.showHideLoadingDiv(!0),crmSocial.addQuoteDiv();var l=$("#"+a+"_"+t),i=$(document).width(),s=$("#tabLayer").height();if($(".socialQuoteTweet").hide(),$(".change_quote_tweet").hide(),l.length)return l.show(),void commonUtils.showHideLoadingDiv(!0);var o=$("#retweet_actions");if(o.length>0)if(o.attr("brid")===t)return void commonUtils.showHideLoadingDiv(!0);if(crmSocial.hasBrandExpired(t))return void commonUtils.showHideLoadingDiv(!0);$("#quoteTweetLoading").show();var r={};r.id=a,r.brid=t,r.action="fetch_tweet",(new crmRequestPool).initiate({action:crmSocial.url,data:r,success:function(e){commonUtils.showHideLoadingDiv(!1),freezeBackground();var a=JSON.parse(e);if("undefined"===a.code||"89"!==a.code){$("#quoteTweetLoading").remove(),a=crmSocialUtil.processPostForDetailView(a);var l=crmSocialUtil.perm;if(l){for(var o=[],r=objectUtils.getKeys(l),c=r.length,d=0;d<c;d++){if((m=r[d])===t)(u=l[m]).info.id_str&&(u.info.brid=m,o.push(u.info))}for(d=0;d<c;d++){var m,u;if((m=r[d])!==t)(u=l[m]).info.id_str&&"1"===u.perm&&(u.info.brid=m,o.push(u.info))}o.length>1?a.brand_obj=o:1===o.length&&(a.brand=o[0])}a.type=n,$(".socialQuoteTweet").hide();var p=$("#quoteTweet");p.append(Handlebars.templates.SocialQuoteTweet(a)).show();var f=i/2-350;p.css({left:f,width:"700px",padding:"0px",display:"block"}),p.css({top:s})}}})}},hideQuoteTweet:function(){$("#quoteTweet").css("top","-1000px"),setTimeout((function(){$("#quoteTweet").css("display","none"),$(".socialQuoteTweet").remove(),$("#quoteTweetLoading").remove(),removeFreezeLayer()}),200)},showQuoteTweetBrands:function(e){var a=$(e).parent();a.find("#quote_brand_list").removeClass("dN").show(),a.find("#select_brand_quote").addClass("quote_tweet_brand_hover")},selectQuoteTweetHandle:function(e,a,t){if(!crmSocial.hasBrandExpired(a)){e=$(e),$("#quote_selector").attr("src",e.find("img").attr("src")).attr("title",e.find(".color_3").html()),$("#quote_brand_list").addClass("dN"),$("#select_brand_quote").removeClass("quote_tweet_brand_hover");var n=$("#tweet_div").attr("tweet-id");$("#"+n+"_"+a).find("#quote_selected_brand").attr("brand",a),crmSocial.showQuoteTweet(e,n,a,t)}},submitQuoteTweet:function(e,a,t){var n=$(e).closest(".socialQuoteTweet"),l={};l.brid=n.find("#quote_selected_brand").attr("brand"),l[csrfParamName]=csrfToken;var i=n.find("#tweet_div"),s=i.attr("tweet-id");if(t){var o=i.attr("screen-name"),r=n.find("#quote_tweet_box");if(r.val().trim())l.action="quote_tweet",l.tweet_id=s,l.screen_name=o,l.comment=r.val().trim(),(new crmRequestPool).initiate({action:crmSocial.url,data:l,success:function(e){crmSocial.hideQuoteTweet();var a=JSON.parse(e);void 0===a.errors&&void 0===a.error?crmui.showMsgBand("success",I18n.getMsg("crm.tw.tweet.success"),3e3):crmui.showMsgBand("error",I18n.getMsg("crm.tw.tweet.fail"),3e3)}});else if("integ"===a)crmSocialInteg.retweet(s,l.brid),crmSocial.hideQuoteTweet();else if("tab"===a){l.action="retweet",l.feedid=s,(new crmRequestPool).initiate({action:crmSocial.url,data:l,success:function(e){var n=JSON.parse(e);void 0===n.errors&&void 0===n.error?(crmui.showMsgBand("success",I18n.getMsg("crm.tw.retweet.success"),3e3),crmSocial.handleRetweets(s,l.brid,a,t),crmSocial.hideQuoteTweet()):crmui.showMsgBand("error",I18n.getMsg("crm.tw.retweet.fail"),3e3)}})}}else{var c=i.attr("retweet-id");if("integ"===a)crmSocialInteg.undoRetweet(s,l.brid,c),crmSocial.hideQuoteTweet();else if("tab"===a){l.feedid=c,l.action="undo_retweet",(new crmRequestPool).initiate({action:crmSocial.url,data:l,success:function(e){var n=JSON.parse(e);void 0===n.errors&&void 0===n.error?(crmui.showMsgBand("success",I18n.getMsg("crm.tw.undoretweet.success"),3e3),crmSocial.handleRetweets(s,l.brid,a,t),crmSocial.hideQuoteTweet()):crmui.showMsgBand("error",I18n.getMsg("crm.tw.undoretweet.fail"),3e3)}})}}},handleRetweets:function(e,a,t,n){var l=$("[p_id="+e+"]");$.each(l,(function(e,a){var t,l=$(a).find("#retweet").find(".socialImgsvg").next("span");n?""===(t=l.html())||void 0===t?l.html("1"):l.html(parseInt(t)+1):"1"===(t=l.html())?l.html(""):l.html(parseInt(t)-1)}));for(var i=$("[p_id="+e+'][b_id="'+a+'"]'),s=i.length,o=0;o<s;o++){var r=i.eq(o).find("#retweet"),c=r.find(".socialImgsvg");n?(c.attr("onclick","sE(event); crmSocial.showQuoteTweet(this, '"+e+"', '"+a+"', 'tab');"),r.addClass("kso_twRetweeted").removeClass("kso_twRetweet"),r.siblings(".kso_twRetweetedShow").removeClass("dN")):(c.attr("onclick","sE(event); crmSocial.showQuoteTweet(this, '"+e+"', '"+a+"', 'tab');"),r.addClass("kso_twRetweet").removeClass("kso_twRetweeted"),r.siblings(".kso_twRetweetedShow").addClass("dN"))}},reply:function(e,a){e=$(e);var t=new FormData,n=e.parents("#response").find("#soc_comment_img"),l=n.parent();n.attr("src")&&""!==n.attr("src")&&("detail"===a?t.append("upload_photo",crmSocial.detailimage,crmSocial.detailimage.name):t.append("upload_photo",crmSocial.replyimage,crmSocial.replyimage.name));var i=$("#feed_detail_container"),s=e.closest(".kso_li"),o=s.parent().attr("id"),r=$("#timeline_outer"),c=e.closest("#feed_detail_inner_div");!i.is(":visible")||o||r.is(":visible")?$("#social_interaction_container").is(":visible")?s=c:$("#intract_pings").is(":visible")&&c.length>0&&(s=$(".selected_feed")):s=$(".selected_feed"),crmNTC.isSignalDetailViewVisible()&&(s=c);var d=s.attr("p_id");t.append("feedid",d);var m=s.attr("u_name");t.append("handle_name",m);var u=s.attr("b_id");t.append("brid",u);var p=e.closest("#response").find("#resp_box"),f=p.val().trim();""===f||f.length>280||(t.append("reply",f),t.append(csrfParamName,csrfToken),e.find("span").empty(),e.find(".socNewLoding").show(),e.attr("disabled","disabled").css("opacity","0.5").css("pointer-events","none"),jQuery.ajax({type:"POST",url:crmSocial.url+"?action=reply",data:t,processData:!1,contentType:!1,success:function(a){var t=JSON.parse(a),c=!1;if(t.data&&!t.data.errors&&(c=!0),c){var f=t.data;f.brid=u,f.network||(f.network="twitter"),t.data=new Array(f),t=crmSocialUtil.processPostForKanbanView(t);var g=$(crmSocial.oldDiv),v=g.parents(".kso_li"),h=$("#intract_pings");v.removeClass("socreply_bg"),e.find(".socNewLoding").hide(),e.attr("disabled","disabled").css("opacity","0.5").css("pointer-events","none"),e.find(".repy").text(I18n.getMsg("crm.nsocial.reply"));var _=$(".selected_feed"),b=s.find("#reply_list");if(crmNTC.isSignalDetailViewVisible())return b.append(Handlebars.templates.ReplyTemplate(t.data[0])),p.val("@"+m+" "),n.removeAttr("src"),n.removeAttr("title"),l.addClass("dN"),void s.find("#feed_detail_head_outer").animate({scrollTop:s.find("#feed_detail_head").height()},800);if(i.is(":visible")&&!r.is(":visible")&&!o||$("#social_interaction_container").is(":visible")){if(p.val("@"+m+" "),n.removeAttr("src"),n.removeAttr("title"),l.addClass("dN"),e.closest("#feed_detail_inner_div").find("#reply_list").append(Handlebars.templates.ReplyTemplate(t.data[0])),i.is(":visible")&&d===_.attr("p_id")){var w=parseInt(_.attr("c_cnt"))+1;_.attr("c_cnt",w)}$("#krp_Conversation_Container").css("height",crmSocial.windowHeight-76)}else if(r.is(":visible")){if(b.append(Handlebars.templates.ReplyTemplate(t.data[0])),crmSocial.toggleResponse(),d===_.attr("p_id")){w=parseInt(_.attr("c_cnt"))+1;_.attr("c_cnt",w)}}else if(h.is(":visible"))if($(e).closest("#feed_detail_inner_div").length>0){if(p.val("@"+m+" "),n.removeAttr("src"),n.removeAttr("title"),l.addClass("dN"),e.closest("#feed_detail_inner_div").find("#reply_list").append(Handlebars.templates.ReplyTemplate(t.data[0])),i.is(":visible")&&d===_.attr("p_id")){w=parseInt(_.attr("c_cnt"))+1;_.attr("c_cnt",w)}$("#krp_Conversation_Container").css("height",crmSocial.windowHeight-76)}else{s.find("#response").after(Handlebars.templates.ReplyTemplate(t.data[0]));var k=h.find(".feedwhiteborder");k.parent().css("width","100%"),k.removeClass("feedwhiteborder");var S=e.closest(".kso_li"),y=parseInt(S.attr("c_cnt")),I=g.parent().parent().find("#response");S.attr("c_cnt",y+1),I.slideUp("fast"),I.html("")}else{s.find("#response").after(Handlebars.templates.ReplyTemplate(t.data[0]));S=e.closest(".kso_li"),y=parseInt(S.attr("c_cnt")),I=g.parent().parent().find("#response");S.attr("c_cnt",y+1),I.slideUp("fast"),I.html("")}crmSocial.detailResize()}else t.data.errors.length>0&&187===t.data.errors[0].code&&(crmui.showMsgBand("error",t.data.errors[0].message,5e3),e.find(".repy").text(I18n.getMsg("crm.nsocial.reply")),e.find(".socNewLoding").hide(),p.focus())}}))},showVideoInFrame:function(e,a,t){var n=$(e),l=n.closest(".kso_sharedlink");0===l.length&&(l=n.closest(".socIntFbSmallLinkVideo").parent()),l.find(".socFbSmallLinkVideo, .socIntFbSmallLinkVideo, #imagesvg, #videoimage").hide(),l.find("#videoframe").attr("src",a).show(),"commentDetail"===t&&n.closest(".kso_sharedlink").css({width:"315px",padding:"10px"})},follow:function(e,a,t,n){e=$(e);var l="action=follow&tw_profile_id="+t+"&brid="+a+"&"+csrfParamName+"="+csrfToken;(new crmRequestPool).initiate({action:crmSocial.url,data:l,success:function(l){JSON.parse(l).success&&(n?(e.removeAttr("onmouseout").removeAttr("onmouseover"),e.html(I18n.getMsg("crm.tw.label.pending"))):(e.attr("onclick","crmSocial.unfollow(this, '"+a+"', '"+t+"');sE(event);"),e.attr("onmouseover","$(this).html('"+I18n.getMsg("crm.tw.label.unfollow")+"').css('color','#ababab');$(this).prev().hide();"),e.attr("onmouseout","$(this).html('"+I18n.getMsg("crm.tw.label.following")+"').css('color','#3a7cab');$(this).prev().show();"),e.html(I18n.getMsg("crm.tw.label.following")),e.prev().addClass("selTick").show()),$("#folwHandle .profileFollow").length>0&&$("#twFollowDetail").html(I18n.getMsg("crm.tw.label.following")))}})},unfollow:function(e,a,t,n){e=$(e);var l="action=unfollow&tw_profile_id="+t+"&brid="+a+"&"+csrfParamName+"="+csrfToken;(new crmRequestPool).initiate({action:crmSocial.url,data:l,success:function(l){if(JSON.parse(l).success){n?e.attr("onclick","crmSocial.follow(this, '"+a+"', '"+t+"', "+n+");sE(event);"):e.attr("onclick","crmSocial.follow(this, '"+a+"', '"+t+"');sE(event);"),e.removeAttr("onmouseout").removeAttr("onmouseover"),e.html(I18n.getMsg("crm.tw.label.follow")).css("color","#3a7cab"),e.prev().removeClass("selTick");var i=!1,s=$("#folwHandle .profileFollow");if(s.length>0){for(var o=s.length,r=0;r<o;r++)"Following"===$(s.eq(r)).html().trim()&&(i=!0);i?$("#twFollowDetail").html(I18n.getMsg("crm.tw.label.following")):$("#twFollowDetail").html(I18n.getMsg("crm.tw.label.follow"))}}}})},replyToConvo:function(e,a){var t=(e=$(e)).parent(),n=e.closest("#response").find("#resp_box"),l=$("#feed_detail_container"),i=$("#social_interaction_container"),s=e.closest(".kso_li"),o=s.parent().attr("id"),r=$(crmSocial.oldDiv).parents(".kso_li"),c=e.closest("#feed_detail_inner_div");l.is(":visible")&&!o?s=$(".selected_feed"):i.is(":visible")?s=c:$("#intract_detail").is(":visible")&&$("#feed_detail_inner_div").is(":visible")&&(s=$(".selected_feed")),crmNTC.isSignalDetailViewVisible()&&(s=c);var d=s.attr("b_id"),m={action:"reply"};m.network=a,m.brid=d,m.convo=!0,m[csrfParamName]=csrfToken;var u=n.val().trim();if("facebook"===a){var p=s.attr("p_id"),f=s.attr("t_id");if(m.feedid=p,m.convo_id=f,""===u||u.length>2e4)return}else if("twitter"===a){p=s.attr("t_id");var g=s.attr("u_name"),v=s.attr("u_id");if(m.feedid=p,m.handle_name=g,m.handle_id=v,""===u||u.length>1e4)return}m.reply=u,e.find("span").empty(),e.find(".socNewLoding").show(),e.attr("disabled","disabled").css("opacity","0.5").css("pointer-events","none"),(new crmRequestPool).initiate({action:crmSocial.url,data:m,success:function(c){var m=JSON.parse(c),u=!1;if((m.data&&!m.data.errors||m.dataObj&&!m.dataObj.errors||m.post&&!m.post.erros)&&(u=!0),u){var p=m.data;p.brid=d,p.type||(p.type="message"),p.network||(p.network=a),m.data=new Array(p),crmSocialUtil.processPostForKanbanView(m),r.removeClass("socreply_bg"),e.find(".socNewLoding").hide(),e.attr("disabled","disabled").css("opacity","0.5").css("pointer-events","none"),e.find(".repy").text(I18n.getMsg("crm.nsocial.reply"));var f=t.find("#twitter_limit");if(crmNTC.isSignalDetailViewVisible()){"twitter"===a&&f.html("280"),s.find("#feed_detail_convo").append(Handlebars.templates.ConvoTemplate(m));var g=e.closest("#feed_detail_outer_div"),v=g.find("#feed_detail_head").height();return g.find("#feed_detail_head_outer").animate({scrollTop:v},800),void n.val("")}if(!l.is(":visible")&&!i.is(":visible")||o)if($("#intract_pings").is(":visible")&&$(e).closest("#feed_detail_inner_div").length>0)$("#feed_detail_inner_div").find("#feed_detail_convo").append(Handlebars.templates.ConvoTemplate(m)),$("#feed_detail_head_outer").animate({scrollTop:$("#feed_detail_head").height()},800),n.val("");else{e.closest("#response").after(Handlebars.templates.ReplyTemplate(m.data[0]));var h=$(crmSocial.oldDiv).parent().parent().find("#response");h.slideUp("fast"),h.html("")}else"twitter"===a&&f.html("280"),$("#feed_detail_inner_div").find("#feed_detail_convo").append(Handlebars.templates.ConvoTemplate(m)),$("#feed_detail_head_outer").animate({scrollTop:$("#feed_detail_head").height()},800),n.val("")}else{if(m.error&&190===m.error.code)confirm("Unable to authenticate facebook, Please re-authenticate now")&&(crmSocial.reAuthCallbackFunc="replyToConvo",crmSocial.reAuthCallbackParams=[e],crmSocialSetup.openAuthenticationPop(m.reauth));e.show(),e.next().hide()}crmSocial.setPotentialScrollBar("feed_detail_head_outer","feed_detail_head",!0)}})},getActivityLog:function(e){Crm.trackSpotLightAction("CRM Social- Activity Log Clicked");var a=crmSocial.windowHeight+100;crmSocial.hideMenu(event,"activity_log_button");var t=$("#kso_setting_popup"),n=$("#kso_auditlog_popup");t.is(":visible")&&(t.css({top:"-"+a+"px"}),setTimeout((function(){t.css({display:"none"})}),400)),$("#reauth_alert").is(":visible")&&crmSocial.closeReauthAlert(),$(".klefticon").removeClass("ksocialredbotder"),$("#activity_log_button").addClass("ksocialredbotder");var l={action:"get_activity_log"};e&&(l.cursor=e,$("#"+e+"_more").children().eq(0).html('<img src="'+networkUtils.getImageUrl("moreloading_90b33f4_.gif",ResourceConstants.CRM)+'">')),(new crmRequestPool).initiate({action:crmSocial.url,data:l,success:function(a){var t=JSON.parse(a);t=crmSocialUtil.processActivityLogPosts(t),1===$("#"+e+"_more").length&&$("#"+e+"_more").remove(),Handlebars.registerPartial("ActivityList",Handlebars.templates.ActivityList),Handlebars.registerPartial("CustomCursor",Handlebars.templates.CustomCursor),$("#kso_fb_pages_menu, #kso_twiter_accounts_menu, #kso_crm_menu, #kso_post_popup").css({left:"30px",display:"none"}),$("#kso_companypost_popup, #kso_search_pop").css({display:"none"}),n.is(":visible")||n.html(Handlebars.templates.ActivityLog(t)),e&&$("#zSocial_myActivities_list").append(Handlebars.templates.ActivityList(t));var l=$(".kanbansocialrightcontainer").height();crmSocial.showKsoFreezeLayer();var i=$("#zSocial_myActivities").innerHeight(),s=n.find(".titleDiv").innerHeight(),o=n.innerHeight();(o=s+i)>o?n.animate({top:crmSocial.topBandHeight,opacity:1,height:l}).css({position:"fixed",display:"block"}):n.animate({top:crmSocial.topBandHeight,opacity:1}).css({position:"fixed",display:"block"}),$("#zSocial_myActivities_innerdiv").css("height","auto"),crmSocial.setPotentialScrollBar("zSocial_myActivities","zSocial_myActivities_innerdiv"),crmSocial.setHeadingShadow("zSocial_myActivities")}})},compose:function(){var e=$("#compose");if(!e.is(":visible")){commonUtils.showHideLoadingDiv(!0),$("#kso_post_popup").empty();var a={action:"compose"};(new crmRequestPool).initiate({action:crmSocial.url,data:a,success:function(a){commonUtils.showHideLoadingDiv(!1),a=JSON.parse(a);var t=$("#targetNetwork");if(a.accounts.length>0){a.accounts=crmSocial.syncWithFilteredBrids(a.accounts),t.html(Handlebars.templates.SocialTargetNetwork(a)),t.slideDown(),e.html(Handlebars.templates.Compose(a)),$("#compose_text").addClass("kso_cinpt_expanded"),e.slideDown();var n=crmSocial.compose_network,l=$("#tweet_limit");if($("#compose_div").focus(),"twitter"===n?(l.css("display","inline-block"),$("#post_status").attr("value",I18n.getMsg("crm.nsocial.pop.tweet"))):"facebook"===n&&($("#privacy").removeClass("dN"),$("#post_status").attr("value",I18n.getMsg("crm.nsocial.pop.post"))),setTimeout((function(){crmSocial.updateTimelineHeight()}),400),crmSocial.reAuthAccounts){var i=crmSocial.reAuthAccounts,s=i.length;if(s>0){t=$("#target_network");for(var o=0,r=0;r<s;r++){var c=i[r];if("twitter"===c.network&&o++,c.pages)for(var d=c.pages,m=d.length,u=0;u<m;u++){var p,f=d[u];(p=t.find('[brid="'+f.brid+'"]')).length>0&&(p.prepend('<span class="zsoErrorAlert" style="top: 0; right: 0;"></span>'),p.addClass("profile-disabled").addClass("user-sel"),p.attr("onmouseover","crmui.showTooltip(this, 'center', 'Authentication Expired');"),p.attr("onmouseout","crmui.hideTooltip();"),p.find("img").removeAttr("title"))}else(p=t.find('[brid="'+c.brid+'"]')).length>0&&(p.prepend('<span class="zsoErrorAlert" style="top: 0; right: 0;"></span>'),p.addClass("profile-disabled").addClass("user-sel"),p.attr("onmouseover","crmui.showTooltip(this, 'center', 'Authentication Expired');"),p.attr("onmouseout","crmui.hideTooltip();"),p.find("img").removeAttr("title"))}o===t.find(".twicon-small").length&&l.css("display","none")}}t.slideDown()}}})}},syncWithFilteredBrids:function(e){if(""===crmSocial.moreBrid)return e;var a=[];return e.forEach((function(e){-1!==crmSocial.moreBrid.indexOf(e.brid)&&a.push(e)})),a},toggleBrand:function(e){var a=(e=$(e)).attr("brid");if(!crmSocial.hasBrandExpired(a)){var t=$("#target_network"),n=t.find(".twicon-small"),l=t.find(".fbicon-small"),i=0,s=n.length,o=0,r=l.length;if(e.hasClass("profile-disabled")){e.removeClass("profile-disabled"),e.removeClass("user-sel");for(var c=0;c<s;c++)$(n.eq(c)).parent().hasClass("profile-disabled")&&i++;i!==s&&($("#tweet_limit").css("display","inline-block"),crmSocial.processText());for(c=0;c<r;c++)$(l.eq(c)).parent().hasClass("profile-disabled")&&o++;if(o!==r)(d=$("#more_options_div")).is(":visible")||d.css("display","block")}else{e.addClass("profile-disabled"),e.addClass("user-sel");for(c=0;c<s;c++)$(n.eq(c)).parent().hasClass("profile-disabled")&&i++;i===s&&$("#tweet_limit").css("display","none");for(c=0;c<r;c++)$(l.eq(c)).parent().hasClass("profile-disabled")&&o++;var d;if(o===r)(d=$("#more_options_div")).is(":visible")&&d.css("display","none")}var m=$("#postBtn");t.find(".profile-disabled").length===t.find(".ks-post-img").length?m.css("opacity","0.5").attr("disabled","disabled").css("pointer-events","none"):$("#compose_text").val().length>0&&"1"!==m.css("opacity")?m.css("opacity","1").removeAttr("disabled").css("pointer-events","auto"):crmSocial.image&&(crmSocialUtil.checkImageValidity(crmSocial.image)?"1"!==m.css("opacity")&&m.css("opacity","1").removeAttr("disabled").css("pointer-events","auto"):"1"===m.css("opacity")&&m.css("opacity","0.5").attr("disabled","disabled").css("pointer-events","none"))}},refresh:function(e,a,t){var n,l={};if(l.action="get_feeds",$(a).css("background-position","-186px -95px"),a){var i=$("#column_"+e);if(i.attr("data-params")){var s=JSON.parse(i.attr("data-params"));return void crmSocial.getSearchFeeds(s.network,"",s.id,a)}var o=null,r=null,c=$(a),d=c.next();switch(d.html(""),$(d.parent()).removeClass("kso_notify"),t?(n=$("#"+e+"_loading")).css("visibility","visible"):c.addClass("rotation"),e){case"customers":var m=$("#customers_switch");if(1===m.length){if(m.children().eq(1).hasClass("active"))l.entity_type="closed_potential",o="ks_customers_container",r="ks_customers_inner_container";else if(m.children().eq(2).hasClass("active"))return void crmSocial.getFilter(a,"customers","")}else l.entity_type="closed_potential",o="ks_customers_container",r="ks_customers_inner_container";break;case"potential_contacts":var u=$("#potential_contacts_switch");if(1===u.length){if(u.children().eq(1).hasClass("active"))l.entity_type="open_potential",o="ks_potential_container",r="ks_potential_inner_container";else if(u.children().eq(2).hasClass("active"))return void crmSocial.getFilter(a,"potential_contacts","")}else l.entity_type="open_potential",o="ks_potential_container",r="ks_potential_inner_container";break;case"contacts_and_leads":var p=$("#contacts_and_leads_switch");if(1===p.length){if(p.children().eq(1).hasClass("active"))l.entity_type="contact_lead",o="ks_contact_container",r="ks_contact_inner_container";else if(p.children().eq(2).hasClass("active"))return void crmSocial.getFilter(a,"contacts_and_leads","")}else l.entity_type="contact_lead",o="ks_contact_container",r="ks_contact_inner_container";break;case"others":l.entity_type="unknown",o="ks_unknown_container",r="ks_unknown_inner_container";break;default:return void crmSocial.getFilter(a,e)}""!==crmSocial.moreNetwork&&(l.network=crmSocial.moreNetwork),""!==crmSocial.moreBrid&&(l.brid=crmSocial.moreBrid.toString()),(new crmRequestPool).initiate({action:crmSocial.url,data:l,success:function(e){t?""!==n&&n.css("visibility","hidden"):c.removeClass("rotation");var a=JSON.parse(e);crmSocial.renderFeeds(a),crmSocial.resetKanbanViewScrollBar(o),crmSocial.scroll.resetCounter(o);var l=$("#"+o),i=l.css("left");parseInt(i)<0&&(l.animate({left:0}),$("#timeline_"+o).animate({left:parseInt($(".ksocialbox").css("width"))}));var s=l.parent(),d=$(s.children().eq(0));d.hasClass("dN")||(d.addClass("dN"),l.find(".notification_section").html(""),$(s.parent().find(".colview-tab").children().eq(1)).find(".notipin_badge").html("").addClass("dN")),crmSocial.setPotentialScrollBar(o,r)}})}},viewMore:function(e,a,t){var n=$(e);n.html('<img src="'+networkUtils.getImageUrl("social_loading_599c9b1_.gif",ResourceConstants.CRM)+'">');var l={};if("detail"===t||"interaction"===t||"twDetail"===t)l.action="get_feed",l.brid=n.attr("brid"),l.feedid=n.attr("feedid"),l.network=n.attr("network"),l.cursor=a,l.message=!0;else{var i=n.parent().parent().attr("id");switch(l.action="get_feeds",l.cursor=a,i){case"ks_customers_ul":var s=$("#customers_switch");if(1===s.length){if(s.children().eq(1).hasClass("active"))l.entity_type="closed_potential";else if(s.children().eq(2).hasClass("active"))return void crmSocial.getFilter(e,"customers",a)}else l.entity_type="closed_potential";break;case"ks_potential_ul":var o=$("#potential_contacts_switch");if(1===o.length){if(o.children().eq(1).hasClass("active"))l.entity_type="open_potential";else if(o.children().eq(2).hasClass("active"))return void crmSocial.getFilter(e,"potential_contacts",a)}else l.entity_type="open_potential";break;case"ks_contact_ul":var r=$("#contacts_and_leads_switch");if(1===r.length){if(r.children().eq(1).hasClass("active"))l.entity_type="contact_lead";else if(r.children().eq(2).hasClass("active"))return void crmSocial.getFilter(e,"contacts_and_leads",a)}else l.entity_type="contact_lead";break;case"ks_unknown_ul":l.entity_type="unknown"}""!==crmSocial.moreNetwork&&(l.network=crmSocial.moreNetwork),""!==crmSocial.moreBrid&&(l.brid=crmSocial.moreBrid.toString())}(new crmRequestPool).initiate({action:crmSocial.url,data:l,success:function(e){var a=JSON.parse(e);if("detail"===t||"interaction"===t||"twDetail"===t){if(n.remove(),(a=crmSocialUtil.processPostForDetailView(a)).thread_id=l.feedid,"detail"===t){var i="feed_detail_convo",s=$("#"+i),o=s.height(),r=o-(o+42);s.prepend(Handlebars.templates.ConvoTemplate(a)),crmSocial.setPotentialScrollBar("feed_detail_head_outer","feed_detail_head",!0),$("#feed_detail_head_outer").scrollTop(r)}else if("interaction"===t){i="interaction_detail_convo";$("#"+i).prepend(Handlebars.templates.ConvoTemplate(a)),crmSocial.setPotentialScrollBar("social_interaction_container","feed_detail_inner_div",!0)}else if("twDetail"===t){i="dmConvoInner";a.twDetail=!0,$("#"+i).prepend(Handlebars.templates.ConvoTemplate(a)),crmSocial.setPotentialScrollBar("dmConvoOuter","dmConvoInner",!0)}}else n.parent().remove(),a.closed_potential?(a.closed_potential=crmSocialUtil.processPostForKanbanView(a.closed_potential),$("#ks_customers_ul").append(Handlebars.templates.PostTemplate(a.closed_potential))):a.open_potential?(a.open_potential=crmSocialUtil.processPostForKanbanView(a.open_potential),$("#ks_potential_ul").append(Handlebars.templates.PostTemplate(a.open_potential))):a.contact_lead?(a.contact_lead=crmSocialUtil.processPostForKanbanView(a.contact_lead),$("#ks_contact_ul").append(Handlebars.templates.PostTemplate(a.contact_lead))):a.unknown&&(a.unknown=crmSocialUtil.processPostForKanbanView(a.unknown),$("#ks_unknown_ul").append(Handlebars.templates.PostTemplate(a.unknown)))}})},processQuoteText:function(e){for(var a=$('[button_id="'+e+'"]'),t=$('[limit_id="'+e+'"]'),n=$('[text_id="'+e+'"]').val(),l=crmSocial.urlregex,i=0,s=0;;){var o=l.exec(n);if(null===o)break;i++,s+=o[0].length}var r=280;i>0?r=r-23*i-(n.length-s):r-=n.length;return t.html(r),r<0&&void 0===crmSocialInteg[e]?(a.attr("disabled",!0).css("opacity","0.5").css("pointer-events","none"),t.attr("style","color:red")):"280"===r&&void 0===crmSocialInteg[e]?(a.attr("disabled",!0).css("opacity","0.5").css("pointer-events","none"),t.attr("style","color:black")):(a.attr("disabled",!1).css("opacity","1").css("pointer-events","auto"),t.attr("style","color:black")),!0},processText:function(e){if(e){var a,t,n="@"+(e=$(e)).attr("u_name"),l=e.closest("#response");a=l.find("#resp_button"),t=l.find("#twitter_limit");var i=l.attr("brid");if(crmSocial.hasBrandExpired(i))return;for(var s=e.val(),o=crmSocial.urlregex,r=0,c=0;;){if(null===(h=o.exec(s)))break;r++,c+=h[0].length}var d=280;if(r>0)d=d-23*r-(s.length-c);else d-=s.length;var m=e.parents("#response");d<0?t.attr("style","color:red"):t.attr("style","color:black"),t.html(d),d<0||n&&n.trim()===e.val().trim()?(a.attr("disabled","disabled"),a.css("opacity","0.5").css("pointer-events","none")):"1"!==a.css("opacity")&&(a.removeAttr("disabled"),a.css("opacity","1").css("pointer-events","auto")),void 0===e.attr("u_name")&&0===s.length&&(a.attr("disabled","disabled"),a.css("opacity","0.5").css("pointer-events","none"));var u=$("#feed_detail_inner_div").children("#response"),p=u.width()-u.find(".imgwth").outerWidth(!0)-u.find(".btnwth").outerWidth()-5,f=m.find("#soc_comment_img");$(".txtwth").css("width",p),f.is(":visible")&&void 0!==f.attr("title")&&d>=0&&(a.removeAttr("disabled"),a.css("opacity","1").css("pointer-events","auto"))}else{var g=$("#postBtn"),v=$("#composeimg");for(s=$("#compose_text").val(),o=/(http:\/\/www.|https:\/\/www.|www.|http:\/\/|https:\/\/)?[\w]+(\.[a-zA-Z0-9-:;?_#!]+)+(\/[\w-;\-*._?,'/\\+&amp;%$#:=~@!]*)*/gim,r=0,c=0;;){var h;if(null===(h=o.exec(s)))break;r++,c+=h[0].length}d=280;if(r>0)d=d-23*r-(s.length-c);else d-=s.length;var _=$("#tweet_limit");d<0?_.css("color","red"):_.css("color","black"),_.html(d);var b=$("#target_network"),w=b.find(".twicon-small");if(d<0){for(var k=w.length,S=0;S<k;S++)$(w.eq(S)).parent().addClass("profile-disabled");b.find(".profile-disabled").length===b.find(".ks-post-img").length&&g.css("opacity","0.5").attr("disabled","disabled").css("pointer-events","none"),_.addClass("red")}else if(d>=0&&""!==s.trim()){for(k=w.length,S=0;S<k;S++){(m=w.eq(S).parent()).hasClass("user-sel")||m.removeClass("profile-disabled")}b.find(".profile-disabled").length===b.find(".ks-post-img").length?g.css("opacity","0.5").attr("disabled","disabled").css("pointer-events","none"):"1"!==g.css("opacity")&&g.css("opacity","1").removeAttr("disabled").css("pointer-events","auto"),_.removeClass("red")}else v.attr("src")&&b.find(".profile-disabled").length!==b.find(".ks-post-img").length?"1"!==g.css("opacity")&&g.css("opacity","1").removeAttr("disabled").css("pointer-events","auto"):"1"===g.css("opacity")&&g.css("opacity","0.5").attr("disabled","disabled").css("pointer-events","none")}},post:function(e){var a=$("#compose_text").val().trim(),t=$("#cancelBtn"),n=new FormData,l=$("#composeimg");if(e=$(e),t.hide(),e.html(I18n.getMsg("crm.nsocial.pop.posting")),e.attr("disabled","disabled").css("opacity","0.5").css("pointer-events","none"),a.length>0||l.attr("src")){a.length>0&&n.append("message",a);for(var i=[],s=$("#target_network .ks-post-img"),o=s.length,r=0;r<o;r++){var c=$(s.eq(r));c.hasClass("profile-disabled")||crmSocial.hasBrandExpired(c.attr("brid"),!0)||i.push(c.attr("brid"))}if(i.length>0){if(n.append("brid",i),l.attr("src")){if(!crmSocialUtil.checkImageValidity(crmSocial.image))return void renderingUtils.showCustomAlert(I18n.getMsg("crm.nsocial.tab.image.maximum"),void 0,!0);n.append("upload_photo",crmSocial.image,crmSocial.image.name),delete crmSocial.image}t.attr("disabled","disabled").css("opacity","0.5").css("pointer-events","none"),n.append(csrfParamName,csrfToken);var d=$("#my_timeline");d.attr("posting","true"),jQuery.ajax({type:"POST",url:crmSocial.url+"?action=post",data:n,processData:!1,contentType:!1,success:function(a){d.removeAttr("posting"),"image_max"!==a?(a=JSON.parse(a),t.removeAttr("disabled").css("opacity","1").css("pointer-events","auto"),e.html(I18n.getMsg("crm.button.post")),t.show(),crmSocial.resetCompose(),a.data&&(a=crmSocialUtil.processPostForKanbanView(a),d.prepend(Handlebars.templates.PostTemplate(a)))):renderingUtils.showCustomAlert(I18n.getMsg("crm.nsocial.tab.image.maximum"),void 0,!0)}})}}},toggleResponse:function(e,a,t,n){var l=$(e),i=l.parent(),s=i.attr("brid");if(!crmSocial.hasBrandExpired(s)){var o=l.parents(".kso_li");if(o.addClass("socreply_bg").find("#action").css("visibility","visible"),o.find(".kso_action_Layer").css("visibility","visible"),void 0!==a){var r=o.parent().attr("id");if(!$("#feed_detail_container").is(":visible")||$("#timeline_outer").is(":visible")||r)if($("#intract_pings").is(":visible")&&$(e).closest("#feed_detail_inner_div").length>0){(g=$("#feed_detail_inner_div > #response").find("#resp_box")).focus(),"twitter"===a&&g[0].setSelectionRange(g.val().length,g.val().length)}else if(!crmNTC.isSignalDetailViewVisible()||$("#timeline_outer").is(":visible")||r){var c=o,d={};d.network=a,d[a]=!0,"true"===t&&(d.convo=!0),"twitter"===a&&(d.screen_name=c.attr("u_name")),d.img=c.attr("b_img"),d.name=c.attr("b_name"),"true"===n&&(d.comment=!0,d.kanbanViewPage=!0,d.comment_id=c.attr("c_id")),"facebook"===a&&i.siblings("#response").is(":visible")?i.siblings("#fblikeposi").attr("style",""):i.siblings("#fblikeposi").css("visibility","hidden");var m=$(crmSocial.oldDiv).parents(".kso_li"),u=m.find("#response");if(m.removeClass("socreply_bg").find("#action").css("visibility","hidden"),m.find(".kso_action_Layer").css("visibility","hidden"),u.slideUp("fast"),u.html(""),e!==crmSocial.oldDiv){var p=$(e).parent().siblings("#response");p.length>1&&(p=$(p.eq(0))),$(e).closest("#intract_pings").length>0&&(d.socialInteg=!0),p.html(Handlebars.templates.socialFeedResponse(d)),p.slideDown("fast");var f=p.find("#resp_box");f.focus(),f[0].setSelectionRange(f.val().length,f.val().length),crmSocial.oldDiv=e}else delete crmSocial.oldDiv}else{var g;(g=l.closest("#feed_detail_inner_div").find("#response.ntcReply").find("#resp_box")).focus(),"twitter"===a&&g[0].setSelectionRange(g.val().length,g.val().length)}else(g=$("#feed_detail_inner_div > #response").find("#resp_box")).focus(),"twitter"===a&&g[0].setSelectionRange(g.val().length,g.val().length)}else{(u=$(crmSocial.oldDiv).parent().parent().find("#response")).slideUp("fast"),u.html(""),delete crmSocial.oldDiv}}},toggleResponseInDetail:function(e,a,t,n){var l=$(e),i=$("#feed_detail_inner_div");if(i.length>0)var s=i.attr("b_id");else s=$(e.closest("#comment_list")).parent().prev().attr("brid");if(!crmSocial.hasBrandExpired(s,!1)){var o;l.parents(".kso_li").addClass("socreply_bg"),l.parents("#comment_action").css("visibility","visible");var r=l.closest(".detailfeedcomment");if(a){var c=JSON.parse("{}");c.network=a,c[a]=!0,c.name=t,c.comment=!0,"false"===n&&(0===(o=l.closest("#feed_detail_inner_div")).length?0===r.length?n="true":(o=l.closest(".kso_li"),c.detailViewPage=!0):c.detailViewPage=!0,$(e.closest("#my_timeline")).length>0&&(c.detailViewPage=!1,c.kanbanViewPage=!0)),"true"===n&&(c.kanbanViewPage=!0,o=l.closest(".kso_li")),c.img=o.attr("b_img"),c.comment_id=r.parent().attr("c_id");var d=r.find("#response");if(void 0!==crmSocial.oldComment){var m=crmSocial.oldComment.closest(".detailfeedcomment").find("#response");if(crmSocial.oldComment[0]!==l[0]){if(d.html(Handlebars.templates.socialFeedResponse(c)),d.slideDown(),m.slideUp(),m.html(""),$("#intract_detail").is(":visible")){$("#response .zskn_replaybox_outer").addClass("fL mL0").css("border","1px solid transparent");var u=(h=$(".detailfeedcomment")).find(".btnwth"),p=(b=(_=h.find(".kso_user_photo")).parent("#response")).outerWidth(),f=_.outerWidth()+10,g=u.outerWidth(!0);u.addClass("mT2 mB2"),b.css("padding","5px");var v=p-(f+g)-14;g=h.find(".zskn_replaybox_outer textarea").css("width",v)}crmSocial.oldComment=l,(w=$("#resp_box")).focus(),$("html, body").animate({scrollTop:w.offset().top},2e3)}else m.slideUp(),m.html(""),delete crmSocial.oldComment}else{if(d.html(Handlebars.templates.socialFeedResponse(c)),d.slideDown(),$("#intract_detail").is(":visible")){$("#response .zskn_replaybox_outer").addClass("fL mL0").css("border","1px solid transparent");var h,_,b;u=(h=$(".detailfeedcomment")).find(".btnwth"),p=(b=(_=h.find(".kso_user_photo")).parent("#response")).outerWidth(),f=_.outerWidth()+10,g=u.outerWidth(!0);u.addClass("mT2 mB2"),b.css("padding","5px");v=p-(f+g)-14,g=h.find(".zskn_replaybox_outer").css("width",v)}var w;crmSocial.oldComment=l,(w=$("#resp_box")).focus(),$("html, body").animate({scrollTop:w.offset().top},2e3)}}else if(void 0!==crmSocial.oldComment){(m=crmSocial.oldComment.closest(".detailfeedcomment").find("#response")).slideUp("fast"),m.html(""),delete crmSocial.oldComment}}},showHideButton:function(e){var a=$(e),t="@"+a.attr("u_name"),n=a.closest("#response"),l=n.attr("brid");if(!crmSocial.hasBrandExpired(l,!0)){var i=n.find("#resp_button"),s=n.find("#soc_comment_img"),o=a.val().trim();(""===o||t&&t.trim()===o)&&s.attr("title")?i.attr("disabled","disabled").css("opacity","0.5").css("pointer-events","none"):i.removeAttr("disabled").css("opacity","1").css("pointer-events","auto")}},fetchAssociation:function(e,a,t,n,l){var i=$("#association_search").val();if(""!==i){var s={action:"get_association"};s.searchvalue=i;var o=$("#association_results");void 0!==n&&""!==n&&(s.crmModule=n),void 0!==l?($("#more_associations").remove(),s.sindex=l):o.html('<img src="'+networkUtils.getImageUrl("social_loading_599c9b1_.gif",ResourceConstants.CRM)+'" class="mL100 mT50" style="display:block" />'),(new crmRequestPool).initiate({action:crmSocial.url,data:s,success:function(n){var i=JSON.parse(n);setTimeout((function(){$("#feed_detail_container").is(":visible")||crmSocial.setFormPosition("add_entity_form")}),300),void 0===i.none?(i.profileid=e,i.brid=t,i.network=a):renderingUtils.triggerEvent("click",$("#add_entity")),void 0!==l?o.append(Handlebars.templates.AssociationList(i)):o.html(Handlebars.templates.AssociationList(i))}})}},setFormPosition:function(e){var a=renderingUtils.windowHeight,t=$("#"+e);a<parseInt(t.css("top"))+t.outerHeight()+20&&t.css({top:"0px",transition:".3s top linear"})},fetchGivenAssociation:function(e,a,t,n,l){13===(e=e||window.event).keyCode&&crmSocial.fetchAssociation(a,t,n,l)},toggleAddAssociate:function(e){var a=$("#add_entity"),t=$("#association_list"),n=$("#add_options"),l=$("#association_div");"add_entity"===e?(a.addClass("active"),t.removeClass("active"),n.show(),l.hide()):"association_list"===e&&(t.addClass("active"),a.removeClass("active"),l.show(),n.hide(),t.attr("toggled","true"))},showQuickCreate:function(e,a,t){var n=$("#quick_create_div"),l=n.attr("module").trim(),i=$("#FreezeLayer");if(l!==e){if($("#loadingAdd").is(":visible")||$("#suggestions").hide(),i.length&&(crmSocial.frozen=1),void 0!==crmSocial.entityData.id_str)var s=crmSocial.entityData.id_str;else s=crmSocial.entityData.id;n.attr("module",e),Q.create(e,a,"",t,"Social",s),1===crmSocial.frozen&&(i.css("opacity",".9"),crmSocial.frozen=2)}},dispQuickCreate:function(){var e=$("#quick_create_div"),a=$("#qCreate");removeFreezeLayer();var t=[];t=void 0!==crmSocial.entityData.displayName?crmSocial.entityData.displayName.split(" "):crmSocial.entityData.name.split(" "),e.css({display:"block"}),e.html(a.children()),a.empty(),null!==t[0]&&""!==t[0].trim()&&$("input[name='property(First Name)']").val(t[0]);var n="",l=t.length;if(l>2)for(var i=1;i<l;)n+=""===n?t[i]:" "+t[i],i+=1;else l>1&&(n=t[1]);$("input[name='property(Last Name)']").val(n);var s=$("input[name='property(Twitter)']");void 0!==crmSocial.entityData.screen_name&&1===s.length&&s.val(crmSocial.entityData.screen_name),void 0!==crmSocial.entityData.phone&&$("input[name='property(Phone)']").val(crmSocial.entityData.phone),setTimeout((function(){var e=$("#entity_form").height(),a=$("#quick_create_div"),t=a.offset().top,n=crmSocial.windowHeight-t;crmSocial.windowHeight<e&&(a.css("height",n),$("#rightNewPopup .qcFields").css("overflow","auto"))}),1e3),setTimeout((function(){$("#feed_detail_container").is(":visible")||crmSocial.setFormPosition("add_entity_form")}),300)},onFileSelected:function(e){var a=(e=e||window.event).target.files[0];if(crmSocialUtil.checkImageValidity(a)){var t=$("#composeimg");crmSocial.image=a,t.parent().removeClass("dN"),t.attr("title",a.name);var n=new FileReader;n.onload=function(e){t.attr("src",e.target.result),crmSocial.processText()},n.readAsDataURL(a)}else renderingUtils.showCustomAlert(I18n.getMsg("crm.nsocial.tab.image.maximum"),void 0,!0)},timelineTab:function(e){var a=(e=$(e)).hasClass(".bgwit"),t=$("#socialTimeline"),n=t.width();if(!a){var l=e.attr("id");"krp_timeline_tab1"===l?($("#krp_timeline_tab2").removeClass("bgwit"),$("#krp_timeline_tab1").addClass("bgwit"),t.css({left:"0px"}),$("#crmTimeline").css({left:n})):"krp_timeline_tab2"===l&&($("#krp_timeline_tab2").addClass("bgwit"),$("#krp_timeline_tab1").removeClass("bgwit"),t.css({left:"-"+n+"px"}),$("#crmTimeline").css({left:"0px"}))}},loadCustomFeeds:$L.debounce((function(){var e=renderingUtils.windowWidth-$("#social_sidebar").width(),a=$("#social_container"),t=e+a.scrollLeft();a.on("scroll",$L.debounce((function(){if($("#social_main").offset().left<47){var e=$("#scrollStart");e.is(":visible")||e.css({left:undefined,top:undefined}).fadeIn("fast",(function(){e.delay(2e3).fadeOut("fast")}))}var a=$("#social_create");if(a.is(":visible")){var t=a.width(),n=a.position().left,l=$("#social_sidebar").width(),i=n+t,s=renderingUtils.windowWidth;n<l?a.css({left:crmSocial.entityFormPositionRight}):s<=i&&a.css({left:crmSocial.entityFormPositionLeft}),(crmSocial.addColumnKso.offset().left<-90||crmSocial.addColumnKso.offset().left>1250)&&a.hide()}}),300)),$("#custom_columns .new-socialbox").each((function(e,a){if((a=$(a)).position().left<t&&"true"!==a.attr("loaded")){a.attr("loaded","true");var n=JSON.parse(a.attr("data-params"));n&&("4"===n.type||"5"===n.type?crmSocial.getSearchFeeds(n.network,"",n.id):"6"===n.type&&crmSocial.getFilter("",n.id))}}))}),300),newCheckBox:function(e){var a=(e=$(e)).find("i"),t=a.hasClass("zso_checkmark"),n=$("#brandCheckBox").find("i");a.toggleClass("zso_checkmark"),e.is("#fAll")&&(t?n.removeClass("zso_checkmark"):n.addClass("zso_checkmark"));var l=$("#brandCheckBox i.zso_checkmark");n.length===l.length?$("#fAll").find("i").addClass("zso_checkmark"):$("#fAll").find("i").removeClass("zso_checkmark");var i=$("#saveFilter .ks-greenbtn");0===l.length?(i.css("opacity","0.5"),i.removeAttr("onclick")):(i.css("opacity",""),i.attr("onclick","crmSocial.getFeeds();"))},notAccessibleAlert:function(){renderingUtils.showCustomAlert(I18n.getMsg("crm.nsocial.feature.account.bound"),void 0,!0)},detailResize:function(){if($("#social_parent_div").is(":visible")){var e=(crmSocial.windowWidth-50)/4,a=$("#social_main").find(".kso_in_feed_detail"),t=$("#feed_detail_container"),n=crmSocial.windowWidth-$("#social_sidebar_innerdiv").width()-$("#customers_parent").width(),l=$(".newReply").outerHeight(),i=$(".kso_feed_hd").outerHeight(),s=$("#kso_rightpanel_title").outerHeight();a.css({width:e}),t.css({width:n,height:crmSocial.windowHeight}),$("#feed_detail_outer_div").css("height",crmSocial.windowHeight),$("#feed_detail_head_outer").css("height",crmSocial.windowHeight-l-i-24),$("#krp_Conversation_Container").css("height",crmSocial.windowHeight-s-26)}},scrollToStart:function(){$("#social_container").animate({scrollLeft:"0"})},addShadow:function(e,a,t,n){a=$("#"+a);var l=$(e).offset().top,i=$("#"+t).offset().top,s=a.hasClass(n);l===i&&a.removeClass(n),s||a.addClass(n)},updatePinTimelineStatus:function(e){var a={action:"pin_timeline"};a.pin_status=e,a[csrfParamName]=csrfToken,(new crmRequestPool).initiate({action:crmSocial.url,data:a,success:function(){$("#pinTimeline").remove(),crmSocial.unpinTimelineStatus=e,$("#self_refresh").before(Handlebars.templates.composePin(crmSocial.unpinTimelineStatus)),crmSocial.showhidePinTimeline(!0)}})},showhidePinTimeline:function(e){var a=$("#social_main"),t=$("#customers_parent").width(),n=$("#kso_compose_menu > div"),l=$("#kso_compose_menu"),i=$("#pinned_timeline");if(crmSocial.unpinTimelineStatus){var s=i.find("#ksocomposeWrap").clone();l.append(s),$("#create_feed").attr("onclick",'crmSocial.showMenu("compose", this);'),"none"!==i.css("display")&&setTimeout((function(){i.empty(),a.css("left",""),i.removeAttr("style"),$("#create_feed").trigger("onclick")}),500)}else crmSocial.scrollToStart(this),e?(setTimeout((function(){l.hide(),n.remove()}),1e3),$("#kso_auditlog_freezelayer").fadeOut(600),n.css("width",t),crmSocial.getMyFeeds(),l.css("width",t),i.css({float:"left","background-color":"white","border-right":"1px solid #b2b2b2",transition:"all .2s ease",display:"block"}),i.css({width:t}),i.append(n.clone()).show(),setTimeout((function(){crmSocial.updateTimelineHeight()}),500)):(i.css({float:"left",width:t,"background-color":"white","border-right":"1px solid #b2b2b2"}),n.remove(),l.hide(),i.append(n.clone()).fadeIn(),n.css("width",t),crmSocial.loadMyFeeds()),a.css("left",""),l.css("width",t),$("#create_feed").attr("onclick","crmSocial.scrollToStart(this);")},menuAnimate:function(e){var a=(e=$(e)).width(),t=e.position().left,n=e.parents().width()-t-a-8;$(".tabborder").removeClass("left0"),Crm.userDetails.RTL_ENABLED?e.siblings(".tabborder").css({right:n-2,width:a}):e.siblings(".tabborder").css({left:t,width:a})},postTweet:function(e,a){var t=new FormData,n=$("#text_to_be_posted").val().trim(),l=$(e);l.prev().attr("disabled","disabled"),l.html(I18n.getMsg("crm.nsocial.pop.posting")),l.attr("disabled","disabled").css("opacity","0.5").css("pointer-events","none");var i=$("#soc_tw_detail_img");if(n.length>0||i.attr("src")){n.length>0&&t.append("message",n);var s=[];if(s.push(a),s.length>0&&t.append("brid",s),i.attr("src")){if(!crmSocialUtil.checkImageValidity(crmSocial.twitterImage))return void renderingUtils.showCustomAlert(I18n.getMsg("crm.nsocial.tab.image.maximum"),void 0,!0);t.append("upload_photo",crmSocial.twitterImage,crmSocial.twitterImage.name),delete crmSocial.twitterImage}}t.append(csrfParamName,csrfToken),jQuery.ajax({type:"POST",url:crmSocial.url+"?action=post",data:t,processData:!1,contentType:!1,success:function(e){if(e=JSON.parse(e),l.prev().removeAttr("disabled"),e.data){var a=$("#text_to_be_posted"),t=a.attr("u_name");a.val("@"+t),$("#sendTweetcont").find("#twitter_limit").html("280"),l.attr("disabled","disabled").css("opacity","0.5").css("pointer-events","none"),l.text(I18n.getMsg("crm.button.post")),crmSocial.sendTweet();var n=$("#postSuccess"),i=n.find("#dmSuccessMsg");setTimeout((function(){n.slideDown(),i.hasClass("postSusBtm")&&(i.removeClass("postSusBtm"),i.addClass("postSusTop")),setTimeout((function(){i.addClass("postSusBtm"),i.removeClass("postSusTop"),setTimeout((function(){n.slideUp()}),500)}),2e3)}),500)}}})},sendTweet:function(){var e=$("#feed_detail_head_outer"),a=$("#dmsection"),t=$("#sendTweetcont"),n=$("#directMessage"),l=$("#soc_sndtwt"),i=$("#detail_post_freez"),s=$("#kso_feed_hd"),o=s.width(),r=s.innerWidth(),c=s.outerHeight()+s.next().outerHeight(),d=$("#feed_detail_inner_div").outerHeight()-c;$("#twHandle").hide(),n.is(":visible")&&($("#soc_dirmsg").addClass("hidden"),n.addClass("bottomToTop"),e.show(),n.removeClass("topToBottom"),setTimeout((function(){n.hide()}),100)),t.is(":visible")?(l.addClass("hidden"),t.addClass("btopTweet"),setTimeout((function(){t.removeClass("topToBottom"),a.hide(),t.hide()}),400),i.fadeOut()):(l.removeClass("hidden"),a.css({width:r,top:c}),a.show(),t.show(),i.css({height:d,width:r}),t.removeClass("btopTweet"),t.addClass("topToBottom"),i.is(":visible")||i.fadeIn());var m=o.width()-$("#twt_img").outerWidth()-20;$("#sndtweetOuter").find("#twt_textwid").css("width",m)},directMsg:function(e,a,t){var n={action:"get_feed"};n.brid=t,n.feedid=a,n.network="twitter",n.message=!0;var l=$(e),i=$("#sendTweetcont"),s=$("#kso_feed_hd"),o=$("#detail_post_freez"),r=$("#dmsection"),c=$("#directMessage"),d=$("#soc_dirmsg"),m=s.innerWidth(),u=s.outerHeight()+s.next().outerHeight(),p=$("#feed_detail_inner_div").outerHeight()-u;if(r.css({width:m}),i.is(":visible")&&($("#soc_sndtwt").addClass("hidden"),i.addClass("btopTweet"),i.removeClass("topToBottom"),setTimeout((function(){i.hide()}),100)),c.is(":visible"))d.addClass("hidden"),d.removeAttr("disabled").css("opacity","1.0").css("pointer-events","initial"),c.addClass("bottomToTop"),$("#feed_detail_head_outer").show(),o.fadeOut(),setTimeout((function(){c.removeClass("topToBottom"),r.hide(),c.hide()}),300),$("#dmConvoInner").empty();else{var f=$("#dmLoad");d.removeClass("hidden"),c.removeClass("bottomToTop");var g=.8*$("#feed_detail_head_outer").outerHeight();if(r.css({height:g,top:u}).show(),c.show(),$("#dmAction").show(),o.css({height:p,width:m}),c.addClass("topToBottom"),f.css("display","block"),o.is(":visible")||o.fadeIn(),void 0!==a&&""!==a)l.attr("disabled","disabled").css("opacity","0.5").css("pointer-events","none"),(new crmRequestPool).initiate({action:crmSocial.url,data:n,success:function(e){var a=JSON.parse(e);if(a.message?$("#twt_img_dm").next().find("#resp_box").attr("placeholder",I18n.getMsg("crm.nsocial.start.message.reply")):a=crmSocialUtil.processPostForDetailView(a),$("#reply_list").children().length>=0){a.twDetail=!0;var t=$("#dmConvoInner");t.html(Handlebars.templates.ConvoTemplate(a));var n=t.outerHeight();$("#dmConvoOuter").animate({scrollTop:n},800),crmSocial.setPotentialScrollBar("dmConvoOuter","dmConvoInner",!1),f.css("display","")}crmNTC.isSignalDetailViewVisible()&&(g="",$("#dmConvoOuter").css({height:p-43}),r.css({height:p}))}});else $("#feed_detail_inner_div > div").children("#response").find("#resp_box").focus()}},changeTwHandle:function(e,a,t,n){var l=$(e).find("img").attr("src");if("TW"===a)$("#twHandle").find(".dmHandleChange").removeClass("dmHandleChange").removeClass("socialImgsvg"),$(e).children().first().addClass("dmHandleChange").addClass("socialImgsvg"),$("#twt_img").find("img").attr({src:l,title:n}),$("#sendTweetcont").find("#resp_button").attr("onclick","crmSocial.postTweet(this,'"+t+"');");else if("DM"===a){var i=$(e).attr("user_name");$("#dmHandle").find(".dmHandleChange").removeClass("dmHandleChange").removeClass("socialImgsvg"),$(e).children().first().addClass("dmHandleChange").addClass("socialImgsvg"),$("#twt_img_dm").find("img").attr({src:l,title:i});var s={action:"get_feed"};s.brid=$(e).attr("br_id"),s.feedid=$(e).attr("t_id"),s.network="twitter",s.message=!0,s.bio=!1,$("#soc_dirmsg").attr("onclick","crmSocial.directMsg(this,'"+s.feedid+"','"+s.brid+"')");var o=$("#dmLoad");(new crmRequestPool).initiate({action:crmSocial.url,data:s,success:function(e){var a=JSON.parse(e);a.message?$("#twt_img_dm").next().find("#resp_box").attr("placeholder",I18n.getMsg("crm.nsocial.start.message.reply")):a=crmSocialUtil.processPostForDetailView(a),a.twDetail=!0;var t=$("#dmConvoInner");t.html(Handlebars.templates.ConvoTemplate(a));var n=t.height();crmSocial.setPotentialScrollBar("dmConvoOuter","dmConvoInner",!1),o.css("display",""),$("#dmConvoOuter").animate({scrollTop:n},800)}})}},replyToConvoInDetail:function(e){var a=$("#dmAction").find("#resp_box"),t=a.val().trim();if(!(""===t||t.length>1e4)){e=$(e);var n=$("#dmHandle"),l=n.find(".dmHandleChange").parent(),i={action:"reply",network:"twitter"};i.brid=l.attr("br_id"),i.convo=!0,i[csrfParamName]=csrfToken;var s=l.attr("t_id"),o=l.attr("screen_name"),r=l.attr("user_id");i.feedid=s,i.handle_name=o,i.handle_id=r,i[csrfParamName]=csrfToken,i.reply=t,e.find("span").empty(),e.find(".socNewLoding").show(),n.hide(),e.attr("disabled","disabled").css("opacity","0.5").css("pointer-events","none"),(new crmRequestPool).initiate({action:crmSocial.url,data:i,success:function(t){var n=JSON.parse(t),i=!1;if((n.data&&!n.data.errors||n.dataObj&&!n.dataObj.errors||n.post&&!n.post.erros)&&(i=!0),i){$("#dmNoContent").remove();var o=n.data;o.brid=l.attr("br_id"),o.type||(o.type="message"),o.network||(o.network="twitter"),n.data=new Array(o),crmSocialUtil.processPostForKanbanView(n);var r=$("#dmConvoInner");r.append(Handlebars.templates.ConvoTemplate(n));var c=r.height(),d=$("#feed_detail_inner_div").attr("t_id");if(void 0!==d&&s===d){$("#feed_detail_convo").append(Handlebars.templates.ConvoTemplate(n));var m=$("#feed_detail_head").height();$("#feed_detail_head_outer").animate({scrollTop:m},800)}e.find(".socNewLoding").hide(),e.attr("disabled","disabled").css("opacity","0.5").css("pointer-events","none"),e.find(".repy").text(I18n.getMsg("crm.nsocial.reply")),$("#dmConvoOuter").animate({scrollTop:c},800),a.val("")}}})}},dmProcessText:function(e){for(var a=$("#sendTweetcont"),t="@"+(e=$("#text_to_be_posted")).attr("u_name"),n=a.find("#resp_button"),l=e.val(),i=/(http:\/\/www.|https:\/\/www.|www.|http:\/\/|https:\/\/)?[\w]+(\.[a-zA-Z0-9-:;?_#!]+)+(\/[\w-;\-*._?,'/\\+&amp;%$#:=~@!]*)*/gim,s=0,o=0;;){var r=i.exec(l);if(null===r)break;s++,o+=r[0].length}var c=280;s>0?c=c-23*s-(l.length-o):c-=l.length;var d=a.find("#twitter_limit");c<0?d.attr("style","color:red"):d.attr("style","color:black"),d.html(c),c<0||void 0!==t&&t.trim()===e.val().trim()?(n.attr("disabled","disabled"),n.css("opacity","0.5").css("pointer-events","none")):"1"!==n.css("opacity")&&(n.removeAttr("disabled"),n.css("opacity","1").css("pointer-events","auto")),a.find("#soc_tw_detail_img").is(":visible")&&a.find("#soc_comment_img").attr("title")&&diff>=0&&(n.removeAttr("disabled"),n.css("opacity","1").css("pointer-events","auto"))},followHandle:function(){var e=$("#folwHandle"),a=$("#twFollowDetail").position();e.css("left",a.left-76),e.toggle()},preventDefaultChar:function(e){$("#folwSuggestOuter").is(":visible")&&13===e.which&&e.preventDefault()},preventCursor:function(e){$("#folwSuggestOuter").is(":visible")&&(38!==e.which&&40!==e.which||e.preventDefault())},processTwitterSuggestion:function(e,a,t,n){var l=String.fromCharCode(a.which),i=$("#folwSuggest");if(" "!==l&&(a.which>41||a.which<36)&&13!==a.which){var s,o,r=$(e),c=r.val(),d=crmSocial.doGetCaretPosition(e),m=c.substring(0,d),u=c.substring(d,c.length),p=m.lastIndexOf("@"),f=m.lastIndexOf(" "),g=u.indexOf(" ");i=$("#folwSuggestOuter");if(p>f)if(-1===g?(s=m.substring(p+1),o=s+u):(s=m.substring(p+1),o=s+u.substring(0,g)),o.length>0){var v;if(crmSocial.previousSuggestion&&o.includes(crmSocial.previousSuggestion.searchString)){v=!1;for(var h=[],_=(w=crmSocial.previousSuggestion.data).length,b=0;b<_;b++)w[b].TWITTER.toUpperCase().includes(o.toUpperCase())&&h.push(w[b]);var w;(w={}).data=h,crmSocial.appendSuggestions(r,w,n,p)}else v=!0;if(v){var k=r.parents("#response").attr("brid"),S={};if(S.action="twitter_suggest",S.brid=k,"_"===o.slice(-1)?S.text=o.replace("_",""):S.text=o.replace("_"," "),S[csrfParamName]=csrfToken,""!==o)(new crmRequestPool).initiate({action:crmSocial.url,data:S,success:function(e){var a=JSON.parse(e);a.searchString=o,crmSocial.previousSuggestion=a,crmSocial.appendSuggestions(r,a,n,p)}})}}else i.remove();else i.remove()}else{var y;y=i.find(".suggest_select");var I=$(".eachSuggest"),C=I.length;if(i.is(":visible"))switch(a.which){case 40:var x=$(e).val().length;$(e)[0].setSelectionRange(x,x),I.hasClass("suggest_select")?(I.removeClass("suggest_select"),y.next().addClass("suggest_select")):i.find(".eachSuggest").eq(0).addClass("suggest_select");break;case 38:x=$(e).val().length;$(e)[0].setSelectionRange(x,x),I.hasClass("suggest_select")?(I.removeClass("suggest_select"),y.prev().addClass("suggest_select")):i.find(".eachSuggest").eq(C-1).addClass("suggest_select");break;case 13:y.length>0?(renderingUtils.triggerEvent("click",y),a.preventDefault()):$("#folwSuggestOuter").remove();break;default:$("#folwSuggestOuter").remove()}}},appendSuggestions:function(e,a,t,n){var l=$(e),i=l.innerHeight(),s=$("#social_container").width();$("#folwSuggestOuter").remove();for(var o='<div id="folwSuggestOuter" class="folwSuggestOuter pF"><table id="folwSuggest" class="folwSuggest"></div>',r=a.data.length,c=0;c<r;c++)o=o+'<tr class="eachSuggest" onclick="crmSocial.selectThisSuggestion(this, \''+$ESAPI.encoder().encodeForHTML($ESAPI.encoder().encodeForJavaScript(text2))+"', '"+n+'\'); sE(event);"><td><img src="'+RebrandLinkUtil.getProperty("TW_URL")+"/"+a.data[c].TWITTER+'/profile_image?size=original" class="kso_user_photo"></td><td><a href="'+RebrandLinkUtil.getProperty("TW_URL")+"/"+a.data[c].TWITTER+'" target="_blank" class="whois kso_link">'+a.data[c].FULLNAME+'</a><br/><i class="from"> @'+a.data[c].TWITTER+"</i></td></tr>";o+="</table>",l.parent().append(o);var d=l.parents("#response").innerHeight(),m=$("#folwSuggestOuter"),u=m.position().top,p=m.position().left,f=m.innerHeight(),g=m.innerWidth(),v=$L(l).caret("offset",n),h=v.left,_=v.top,b=$("#socPostPopup").offset().left;if(c>0)switch(t){case"compose":m.css({left:h,top:_+26,position:"fixed"});break;case"popup":p=h-b;m.css({left:p,top:_+26,position:"fixed"});break;case"detail":m.removeClass("folwSuggestOuter").addClass("folwSugArow");var w=d-5;m.css({left:h,bottom:w+25});break;case"kanban":m.css({left:h,top:_+24});var k=u+f,S=p+g,y=p-+g+40;f=u-(f+i);s<S&&crmSocial.windowHeight<k?(m.removeClass("folwSuggestOuter").addClass("folwSugLefttop"),m.css({left:y,top:f})):(s<S&&(m.removeClass("folwSuggestOuter").addClass("folwSugleftArow"),m.css("left",y)),crmSocial.windowHeight<k&&(m.removeClass("folwSuggestOuter").addClass("folwSugArow"),m.css({left:h,top:f})));break;default:m.css({left:h,top:_+24,position:"fixed"})}else m.remove()},doGetCaretPosition:function(e){var a=0;if(document.selection){e.focus();var t=document.selection.createRange();t.moveStart("character",-e.value.length),a=t.text.length}else(e.selectionStart||"0"===e.selectionStart)&&(a=e.selectionStart);return a},selectThisSuggestion:function(e,a,t){var n=$(e),l=$("#folwSuggestOuter"),i=l.parent(),s=i.find("textarea");0===s.length&&(s=i.find("input").eq(0));var o=s.val(),r=n.find(".from").html(),c=o.replaceBetween(parseInt(t),parseInt(t)+a.length+1,r.trim());s.val(c),l.remove(),s.focus()}};$("#social_container").on("click",(function(){crmSocial.hideMenu(event)})),function(){var e={ks_unknown_container:0,ks_contact_container:0,ks_potential_container:0,ks_customers_container:0,zso_search_results_outer:0,my_timeline_outer:0};function a(a){var t=$("#"+a+" .zs-showmore"),n=$("#folwSuggestOuter");if(1===t.length){var l=parseInt($("#"+a).css("height")),i=$("#"+a+" .ps-scrollbar-y");l-(parseInt(i.css("top"))+parseInt(i.css("height")))<50&&e[a]<5&&(renderingUtils.triggerEvent("click",t.children().eq(0)),e[a]=e[a]+1)}n.is(":visible")&&n.remove()}var t={init:function(){$("#ks_unknown_container").on("scroll",$L.debounce((function(){a("ks_unknown_container")}),450)),$("#ks_contact_container").on("scroll",$L.debounce((function(){a("ks_contact_container")}),450)),$("#ks_potential_container").on("scroll",$L.debounce((function(){a("ks_potential_container")}),450)),$("#ks_customers_container").on("scroll",$L.debounce((function(){a("ks_customers_container")}),450))},bind:function(e){!function(e){$("#"+e).on("scroll",$L.debounce((function(){a(e)}),450))}(e)},resetCounter:function(a){e[a]=0}};window.crmSocial.scroll=t}();var crmSocialSetup={url:Crm.getCrmBasePath()+"/SocialSettings.do",handleReauthentication:function(e,a){for(var t=e.length,n=0;n<t;n++){var l=e[n];if(void 0!==l.reauth){var i=$("#acc_"+l.account_id+"_opt");i.find(".fbpadd").remove(),i.prepend('<input type="button" value="'+I18n.getMsg("crm.nsocial.reauth")+'" class="fL mT5 greenbtn" onclick="crmSocialSetup.getReauthUrl(\''+l.brid+"','"+a+"');\">")}}},openAuthenticationPop:function(e){var a=window.open(e,"CRM - Social","width=600,height=500,location=0,top=200,left=300,scrollbar=yes,menubar=no,status=no");return!(!a||a.closed||void 0===a.closed||0===a.outerHeight)||(crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.setup.popup.blocking"),5e3),!1)},getReauthUrl:function(e,a){var t=null;$("#reauth_alert").is(":visible")?((t=$("#reauth_"+e).find("button")).css("width",t.outerWidth()),t.html('<span class="socAddLoading"><span></span><span></span><span></span></span>'),t.addClass("zsoReauthButton")):(t=$("#loading_icon")).css("display","inline");var n={action:"get_reauth_url"};n.network=a,n.brid=e,(new crmRequestPool).initiate({action:crmSocialSetup.url,data:n,type:"GET",success:function(e){var a=$("#reauth_alert");(a.is(":visible")||t.hide(),$("#add-account").hide(),"limit"===e)?crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.setup.brand.limit"),5e3):!crmSocialSetup.openAuthenticationPop(e)&&a.is(":visible")?(t.removeAttr("style"),t.removeClass("zsoReauthButton"),t.html(I18n.getMsg("crm.nsocial.reauth"))):t.remove();$("#social_sidebar_innerdiv").find(".klefticon").addClass("socialMenuBg")}})},removeFromReauth:function(e){if(void 0!==crmSocial.reAuthAccounts&&crmSocial.reAuthAccounts)for(var a=crmSocial.reAuthAccounts.length,t=$("#settings_button").find(".flw_dot"),n=0;n<a;n++){crmSocial.reAuthAccounts[n].brid===e&&crmSocial.reAuthAccounts.splice(n,1),0===crmSocial.reAuthAccounts.length&&t.remove()}},handleAvailableProfiles:function(e){for(var a=e.length,t=0;t<a;t++)if(void 0!==e[t].pages){for(var n=e[t].pages,l=n.length,i=0;i<l;i++)if(void 0!==n[i].avail&&(crmSocial[n[i].page_id+"_avail"]=n[i].avail),void 0!==n[i].perm)for(var s=(m=n[i].perm).length,o=0;o<s;o++){if(void 0!==(u=m[o]).profiles&&u.profiles.length>0)for(var r=(p=u.profiles).length,c=0;c<r;c++){var d=(f=p[c]).account_id+"_"+f.id+"_added";crmSocial[d]=!0}}}else if(void 0!==e[t].avail&&(crmSocial[e[t].account_id+"_avail"]=e[t].avail),void 0!==e[t].perm){var m;for(s=(m=e[t].perm).length,i=0;i<s;i++){var u;if(void 0!==(u=m[i]).profiles&&u.profiles.length>0){var p;for(r=(p=u.profiles).length,o=0;o<r;o++){var f;d=(f=p[o]).account_id+"_"+f.id+"_added";crmSocial[d]=!0}}}}},handleAvailableSearchProfiles:function(e){for(var a=e.length,t=0;t<a;t++){var n=e[t],l=n.search_id+"_search_avail";crmSocial[l]=n.avail}},setHeight:function(){var e=crmSocial.windowHeight;$("#kso_setting_popup").css({height:e}),$("#kso_auditlog_popup").css({height:e})},getSettings:function(e){Crm.trackSpotLightAction("CRM Social- Settings Clicked"),void 0===e&&(e="twitter"),networkUtils.openUrl(Crm.getOrgSpecificURL(Crm.getCrmBasePath()+"/settings/extensions/social/"+e))},getAuthUrl:function(e){var a=$("#loading_icon");a.css("display","inline");var t={action:"get_auth_url"};t.network=e,(new crmRequestPool).initiate({action:crmSocialSetup.url,data:t,success:function(t){a.hide(),$("#add-account").hide(),"limit"===t?crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.setup.brand.limit"),5e3):(Crm.trackSpotLightAction("CRM Social- Add Account Clicked",{network:e}),crmSocialSetup.openAuthenticationPop(t)),$("#social_sidebar_innerdiv").find(".klefticon").addClass("socialMenuBg")}})},getPages:function(e,a,t,n){e=$(e);var l={action:"get_pages"};l.account_id=a,l.network=t;var i=e.offset().left,s=e.offset().top,o=$("#add-page"),r=$("#acc_"+a+"_pages"),c=r.children().length;if("none"!==r.css("display")&&$("#social_setup").children().not(":even").hide(),void 0!==n)l.offset=n,e.html("<img src='"+networkUtils.getImageUrl("moreloading_90b33f4_.gif",ResourceConstants.CRM)+"'>");else{var d=$("#kso_setting_popup"),m=d.offset().left;if(1===d.length)var u=i-m-149,p=s-10;else u=i-179,p=s+34;o.css({left:u,top:p})}o.show(),(new crmRequestPool).initiate({action:crmSocialSetup.url,data:l,success:function(a){if("limit"===a)crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.setup.brand.limit"),5e3);else{var l=JSON.parse(a);$("#add_page_loading").addClass("dN"),"2"===t&&void 0!==l.facebook?l.facebook.offset=void 0!==n?parseInt(n)+10:10:"3"===t&&void 0!==l.googleplus&&(l.googleplus.offset=void 0!==n?parseInt(n)+10:10),void 0!==n?(e.remove(),$("#page-list").append(Handlebars.templates.AddPage(l))):$("#page-list").html(Handlebars.templates.AddPage(l)),crmSocial.setPotentialScrollBar("page_container","page-list",!1),r.slideDown("fast")}c<=0&&r.hide()}})},addPage:function(e,a,t,n){var l={action:"add_page"};l.page_id=t,l.account_id=a,l.network=n,l[csrfParamName]=csrfToken;e=$(e);var i=$("#"+t).parent(),s=e,o=e.parents("#add-page").siblings("#settings").find("#social_setup").find("> div").last(),r=o.length;i.html('<img src="'+networkUtils.getImageUrl("moreloading_90b33f4_.gif",ResourceConstants.CRM)+'" width="16" height="16" class="fR addPagebtn" style="visibility: visible;">'),Crm.trackSpotLightAction("CRM Social- Add Page Clicked",{network:n}),(new crmRequestPool).initiate({action:crmSocialSetup.url,data:l,success:function(e){if("limit"===e)crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.setup.brand.limit"),5e3);else if("pageAlreadyAdded"===e)i.html(s[0]),crmui.showMsgBand("info","page Already Added by Another Account",5e3);else{var t=JSON.parse(e);if("2"===n?$("#acc_"+a+"_pages").append(Handlebars.templates.fbPage(t)):"3"===n&&$("#acc_"+a+"_pages").append(Handlebars.templates.gpPage(t)),$("#acc_"+a).find(".soc_deleteIcon").hide(),void 0!==t.pages)for(var l=t.pages,c=l.length,d=0;d<c;d++){var m=l[d].page_id;if("2"===n?crmSocial.soc_config.fb.push(m):"3"===n&&crmSocial.soc_config.tw.push(m),$("#page_"+m+"_actions").is(":visible")||crmSocialSetup.showChild($("#page_"+m)),void 0!==l[d].avail&&l[d].avail.length>0&&(crmSocial[m+"_avail"]=l[d].avail),void 0!==l[d].search){var u=l[d].search,p=u.length;crmSocial["search_count_"+m]=l[d].search_count;for(var f=0;f<p;f++){var g=m+"_search_"+u[f].index+"_avail";crmSocial[g]=u[f][g]}}}r>0&&(o.show(),$("#social_setup").find("> div").first().find(".socdownArow").addClass("zso_uparw"));var v=$("#acc_"+a+"_added_pages"),h=parseInt(v.attr("pagecount"));if(h>0){var _=new Array;_[0]=h+1,v.html(I18n.getMsg("crm.nsocial.setup.pages.added",_)),v.attr("pagecount",h+1)}else 0===h&&(v.html(I18n.getMsg("crm.nsocial.setup.one.page")),v.attr("pagecount",h+1));void 0!==crmSocialSetup.addedAccId&&(crmSocialSetup.addedAccId===a?delete crmSocialSetup.addedAccId:renderingUtils.triggerEvent("click",$("#acc_"+crmSocialSetup.addedAccId+"_opt .soc_deleteIcon")));var b=$("#page-list");b.children().length>1?i.parent().parent().parent().parent().parent().remove():b.children().length<=1&&crmSocial.hideMenu(),$("#social_parent_div").length>0&&crmSocial.reloadFeeds()}}})},viewPermissions:function(e,a,t,n){crmSocial.setKanbanViewBoxHeight();e=$(e);var l=$("#profileList"),i=e.innerWidth()+10,s=e.offset(),o=e.height()+10,r=crmSocial.windowHeight+44,c={account_id:a};c.perm_type=t,c.network=n,"1"===t||"2"===t||"3"===t?c.json=crmSocial[a+"_avail"]:(c.type="3",c.json=crmSocial[a+"_search_avail"]),l.remove(),e.parent().append(Handlebars.templates.ListProfiles(c));var d=$("#profileList"),m=d.outerHeight()+d.offset().top,u=m-r,p=d.position().top-u-10,f=u+10+12;d.css({left:s.left+i,top:s.top-o}),r<m&&(d.css("top",p),d.find(".zso-leftArrow").css("top",f))},addProfiles:function(e,a,t,n){var l=[],i=[],s=$(".zso-profilelist").children(":visible").parent().attr("id");$("#"+s).find("ul input").each((function(a,t){var n=(t=$(t)).prop("checked"),s=t.attr("id"),o=t.attr("profilename"),r=e+"_"+s+"_added";n&&("undefined"!=typeof index&&""!==index?void 0!==crmSocial[r]&&crmSocial[r]?l.push(s):i.push(o):l.push(s))}));var o={action:"add_profiles"};if(o.config_id=e,o.profile_id=l.toString(),o[csrfParamName]=csrfToken,void 0!==t&&""!==t&&(o.network=t),void 0!==a&&""!==a&&(o.perm_type=a),void 0!==n&&""!==n&&(o.widget_type=n),i.length>0){var r=[];r.push(encodeURIComponent(wname)),crmui.showMsgBand("error",I18n.getMsg("crm.nsocial.denied.profiles",r)+i,5e3)}l.length>0&&(crmSocial.hideMenu(),(new crmRequestPool).initiate({action:crmSocialSetup.url,data:o,success:function(t){var i=JSON.parse(t);if(void 0===n||""===n){$("#"+e+"_"+a+"_addProfile").before(Handlebars.templates.Profile(i.added_prof));var s=e+"_avail",o=l.length;crmSocial[s]=i.avail_prof[s],i.avail_prof[s].length<1&&($("#"+e+"_1_addProfile").hide(),$("#"+e+"_2_addProfile").hide(),$("#"+e+"_3_addProfile").hide());for(var r=0;r<o;r++)s=e+"_"+l[r]+"_added",crmSocial[s]=!0}else if(void 0!==Handlebars.templates.Profile){var c=$("#"+e+"_search_addProfile");c.before(Handlebars.templates.Profile(i.added_prof)),crmSocial[s=e+"_search_avail"]=i.avail_prof.search,i.avail_prof.search.length<1&&c.hide()}}}))},removePermission:function(e,a,t){var n=(e=$(e)).parent(),l=n.attr("perm_type"),i=n.attr("perm_id"),s={action:"remove_profile"};s.config_id=a,s.perm_type=l,s.profile_id=i,s.network=t,s[csrfParamName]=csrfToken,(new crmRequestPool).initiate({action:crmSocialSetup.url,data:s,success:function(e){if(void 0!==e){var t=JSON.parse(e);if(n.remove(),"1"===l||"2"===l||"3"===l)crmSocial[s=a+"_avail"]=t[s],t[s].length>0&&($("#"+a+"_1_addProfile").show(),$("#"+a+"_2_addProfile").show(),$("#"+a+"_3_addProfile").show()),crmSocial[s=a+"_"+i+"_added"]=!1;else if("5"===l){var s;crmSocial[s=a+"_search_avail"]=t.search}}}})},showChild:function(e){var a=(e=$(e)).next(),t=a,n=$(".zs_aclist"),l=$(crmSocial.watchingBrand),i=e.parents(),s=n.find(".zso_downarw "),o=e.siblings().find(".zso_uparw"),r=o.hasClass("zso_uparw"),c=e.position().top;s.removeClass("zso_uparw"),i.animate({scrollTop:c},"slow"),r&&o.removeClass("zso_uparw"),void 0!==crmSocial.watchingBrand&&l.attr("id")!==t.attr("id")&&l.slideUp("fast"),t.is(":visible")?t.is(":visible")&&(s.removeClass("zso_uparw"),t.slideUp("fast"),e.find(".socdownArow").removeClass("zso_uparw"),delete crmSocial.watchingBrand):(t.slideDown("fast"),crmSocial.watchingBrand=a,e.find(".socdownArow").addClass("zso_uparw"))},potentialDrop:function(){$(".colview-dd").css("display","block")},settinguserslide:function(e){var a=(e=$(e)).next(),t=a.is(":visible"),n=a.children().length,l=e.find(".socdownArow"),i=$("#social_setup").children().not(":even");$("#social_setup_outer").scrollTop(0),n>0?(l.addClass("zso_uparw"),i.hide(),a.slideDown("fast")):(e.siblings().find(".socdownArow").removeClass("zso_uparw"),i.hide()),t&&(i.hide(),l.removeClass("zso_uparw"))},deleteOperation:function(e,a,t){var n={network:a};if("1"===a?(n.account_id=e,n.twitter=!0):"2"!==a&&"3"!==a||("2"===a?n.facebook=!0:"3"===a&&(n.googleplus=!0,$.grep(crmSocial.soc_config.gp,(function(a){return a!==e}))),void 0!==t?n.page_id=e:n.account_id=e),void 0!==crmSocialSetup.addedAccId)crmSocialSetup.removeBrand(e,a);else{var l=$("#WarningDiv"),i=$("#kso_setting_popup");l.html(Handlebars.templates.DeleteWarning(n)),1===i.length?i.css({"z-index":"1"}):freezeBackground(),l.css({width:"800px",padding:"0px",display:"block"}),setTimeout((function(){l.css({top:$("#tabLayer").height()})}),200)}},cancelDelete:function(){$("#WarningDiv").css("top","-500px");var e=$("#kso_setting_popup");1===e.length?e.css({"z-index":"2"}):removeFreezeLayer()},removeBrand:function(e,a,t){var n={action:"remove_brand"};n.account_id=e,n.network=a,n[csrfParamName]=csrfToken;var l=$("#social_setup").find("> div").last();void 0!==t&&(n.is_page=t),$("#social_delete").html('<div class="newgraybtn dIB"><img src="'+networkUtils.getImageUrl("social_loading_599c9b1_.gif",ResourceConstants.CRM)+'"></div>'),(new crmRequestPool).initiate({action:crmSocialSetup.url,data:n,success:function(n){if("success"===n){if(t){var i=$("#page_"+e),s=JSON.parse(i.parent().attr("data-params")).account_id,o=$("#acc_"+s+"_added_pages"),r=parseInt(o.attr("pagecount"));if("3"===a?crmSocial.soc_config.gp.forEach((function(a,t){a===e&&crmSocial.soc_config.gp.splice(t,1)})):"2"===a?(crmNTCGlobal.isSocialConfigChanged=!0,crmSocial.soc_config.fb.forEach((function(a,t){a===e&&crmSocial.soc_config.fb.splice(t,1)}))):"1"===a&&crmSocial.soc_config.tw.forEach((function(a,t){a===e&&crmSocial.soc_config.tw.splice(t,1)})),1===r)o.attr("pagecount","0"),o.html(I18n.getMsg("crm.nsocial.setup.no.pages.added")),"2"!==a&&"3"!==a||o.closest(".zso_fbaclist").find(".soc_deleteIcon").show();else if(2===r)o.attr("pagecount",1),o.html(I18n.getMsg("crm.nsocial.setup.one.page"));else if(r>2){var c=new Array;c[0]=r-1,o.attr("pagecount",c[0]),o.html(I18n.getMsg("crm.nsocial.setup.pages.added",c))}i.remove(),$("#page_"+e+"_actions").remove()}else $("#acc_"+e).remove(),"1"===a?($("#acc_"+e+"_actions").remove(),crmSocial.soc_config.tw.length=0,1===$("#social_setup").children().length&&$("#tw_search").remove()):"2"===a?(crmNTCGlobal.isSocialConfigChanged=!0,crmSocial.soc_config.fb.length=0,$("#acc_"+e+"_pages").remove()):"3"===a&&(crmSocial.soc_config.gp.length=0,$("#acc_"+e+"_pages").remove());crmSocialSetup.cancelDelete(),$("#social_parent_div").length>0&&crmSocial.reloadFeeds(),void 0!==crmSocialSetup.addedAccId&&delete crmSocialSetup.addedAccId,0===!$("#kso_BlanState_div").length&&$("#social_main").removeClass("mL47")}l.children().length<=1&&(l.hide(),$("#social_setup").find("> div").first().find(".socdownArow").removeClass("zso_uparw"))}})},reAuthCallback:function(){crmSocial[crmSocial.reAuthCallbackFunc].apply(this,crmSocial.reAuthCallbackParams),crmSocial.reAuthCallbackFunc="",crmSocial.reAuthCallbackParams=[]},triggerSetup:function(e,a,t,n){var l=$("#kso_setting_popup");if(void 0!==a&&""!==a.trim()){var i=$(".alertmsg"),s="";if("2001"===a||"1001"===a?s=I18n.getMsg("crm.nsocial.setup.account.configured"):"1501"===a?s=I18n.getMsg("crm.nsocial.setup.brand.limit"):"2003"===a?s=I18n.getMsg("crm.nsocial.setup.auth.error.twitter"):"1003"===a||"1000"===a?s=I18n.getMsg("crm.nsocial.setup.auth.error.facebook"):"2000"===a?s=I18n.getMsg("crm.nsocial.setup.auth.error.twitter"):"5000"===a?s=I18n.getMsg("crm.nsocial.setup.auth.error"):"10001"===a&&(s="Please re-authenticate using account "+t,t=void 0),""!==s){var o=$("#add_account");return 1===l.length?i.css({left:"235px",top:"90px"}):i.css({top:o.offset().top+5,left:o.offset().left+250}),void i.text(s).show().delay(3e3).fadeOut("slow")}}else $("#result").is(":visible")&&void 0!==e?(void 0!==n&&""!==n&&"null"!==n&&(crmSocialSetup.removeFromReauth(n,e),$(e).find(".flw_dot").remove()),renderingUtils.triggerEvent("click",$(e))):""!==crmSocial.reAuthCallbackFunc&&crmSocialSetup.reAuthCallback();void 0!==t&&""!==t.trim()&&"null"!==t&&(crmSocialSetup.addedAccId=t)},renderSetupPage:function(e){return Crm.trackSpotLightAction("CRM Social Clicked"),Handlebars.registerPartial("Profile",Handlebars.templates.Profile),Handlebars.registerPartial("SearchKeyword",Handlebars.templates.SearchKeyword),{outlet:"#result",html:Handlebars.templates.SocialAccountSettings(e)}},postRender:function(e){var a=$("#social_setup");void 0!==e.twitter&&e.twitter.length>0?(a.html(Handlebars.templates.twSettings(e)),crmSocialSetup.handleAvailableProfiles(e.twitter),crmSocialSetup.handleReauthentication(e.twitter,"twitter")):void 0!==e.facebook&&e.facebook.length>0?(Handlebars.registerPartial("fbPage",Handlebars.templates.fbPage),a.append(Handlebars.templates.fbSettings(e)),crmSocialSetup.handleAvailableProfiles(e.facebook),crmSocialSetup.handleReauthentication(e.facebook,"facebook")):void 0!==e.googleplus&&e.googleplus.length>0&&(Handlebars.registerPartial("gpPage",Handlebars.templates.gpPage),a.append(Handlebars.templates.gpSettings(e)),crmSocialSetup.handleAvailableProfiles(e.googleplus),crmSocialSetup.handleReauthentication(e.googleplus,"googleplus"));var t=$("#result");t.append('<div id="WarningDiv" class="newPopup" style="left:25%; top:-500px; position:fixed;"></div>'),t.append('<input type="hidden" value="user" id="socialAuthModule" name="socialAuthModule" /><input type="hidden" value="null" id="socialAuthEntity" name="socialAuthEntity" />'),void 0!==crmSocialSetup.addedAccId&&crmSocialSetup.addedAccId.length>0&&renderingUtils.triggerEvent("click",$("#acc_"+crmSocialSetup.addedAccId+"_opt .fbpadd"))}},crmSocialNotification={handleWMSNotification:function(e){var a=e.network;e.brid=e.newprofileId;var t=e.type,n=crmSocialUtil.perm[e.brid],l=null,i=null,s=null;"twitter"===a?(i=n.info.id_str,"message"===t?e.user=e.sender:"reply"===t&&(e.id_str=e.in_reply_to_status_id_str),s=e.user.id_str,l=e.id_str):"facebook"===a?(i=n.info.id,s=(e=crmSocialUtil.formatFacebookNotificationJSON(e)).from.id,l=e.id):"googleplus"===a&&(i=n.info.data.id,s=e.actor.id,"comment"===t&&(e.comment_id=e.id,e.id=e.inReplyTo[0].id),l=e.id),e.watching_profile_id=i,e=crmSocialUtil.processPostForNotification(e);var o=[];o.push(e);var r={};if(r.data=o,s!==i){r.data[0].kview=!0;var c=Handlebars.templates.PostTemplate(r),d=null,m=null;if(void 0!==e.filterId&&(m=e.filterId),void 0!==e.entitytype&&(d=e.entitytype),null!==m)for(var u=m.length,p=$("#follow_menu").children(),f=0;f<u;f++){var g=m[f],v=null,h=null,_=null,b=null;if("crm_closed_potential_contact"===g)v="#timeline_ks_customers_ul_notification",h="#timeline_ks_customers_ul",_="#timeline_ks_customers_ul_notification_banner",b="#timeline_ks_customers_ul_notification_badge",g="customers";else if("crm_potential_contact"===g)v="#timeline_ks_potential_ul_notification",h="#timeline_ks_potential_ul",_="#timeline_ks_potential_ul_notification_banner",b="#timeline_ks_potential_ul_notification_badge",g="potential_contacts";else if("crm_contact"===g||"crm_lead"===g)v="#timeline_ks_contact_ul_notification",h="#timeline_ks_contact_ul",_="#timeline_ks_contact_ul_notification_banner",b="#timeline_ks_contact_ul_notification_badge",g="contacts_and_leads";else{v="#"+g+"_ul_notification",h="#"+g+"_ul",_="#"+g+"_notification_banner";var w=$("#tracking_"+g+"_noti_count");0!==w.length&&(w.html(parseInt(w.html())+1),w.css("display","block"),p.eq(0).addClass("follow_dot"))}0===$(h).children(".kso_li").length&&crmSocial.loadFilter(g),v=$(v),$(v).prepend(c),$(b).html($(v).children(".kso_li").length).removeClass("dN"),(null===b||$(b).parent().hasClass("active"))&&$(_).removeClass("dN")}else if(null!==d){var k=$("#ks_customers_ul_notification"),S=$("#ks_customers_ul_notification_badge");if("crm_closed_potential_contact"===d)"message"===t&&k.children('[thread_id="'+e.thread_id+'"]').remove(),k.prepend(c),S.html(k.children(".kso_li").length).removeClass("dN"),S.parent().hasClass("active")&&$("#ks_customers_ul_notification_banner").removeClass("dN");else if("crm_potential_contact"===d){var y=$("#ks_potential_ul_notification");"message"===t&&y.children('[thread_id="'+e.thread_id+'"]').remove(),y.prepend(c),$("#ks_potential_ul_notification_badge").html(y.children(".kso_li").length).removeClass("dN"),$("#ks_potential_ul_notification_badge").parent().hasClass("active")&&$("#ks_potential_ul_notification_banner").removeClass("dN")}else if("crm_contact"===d||"crm_lead"===d){var I=$("#ks_contact_ul_notification"),C=$("#ks_contact_ul_notification_badge");"message"===t&&I.children('[thread_id="'+e.thread_id+'"]').remove(),I.prepend(c),C.html(I.children(".kso_li").length).removeClass("dN"),C.parent().hasClass("active")&&$("#ks_contact_ul_notification_banner").removeClass("dN")}else if("crm_unknown"===d){var x=$("#ks_unknown_ul_notification");"message"===t&&x.children('[thread_id="'+e.thread_id+'"]').remove(),x.prepend(c),$("#ks_unknown_ul_notification_banner").removeClass("dN")}}}else if("post"===e.type||"tweet"===e.type){var E=$("#my_timeline");if(void 0!==e.provider&&"Google+"!==e.provider.title)return;if(void 0!==e.source&&-1===e.source.indexOf("Twitter Web Client"))return;if("facebook"===e.network&&void 0!==E.attr("posting"))return;r.data[0].self=!0;c=Handlebars.templates.PostTemplate(r),l="";l=void 0!==e.id_str?e.id_str:e.id,0===E.children('[p_id="'+l+'"]').length&&(0===E.children(".kso_li").length&&crmSocial.loadMyFeeds(),$("#my_timeline_notification_banner").removeClass("dN"),$("#my_timeline_notification").prepend(c),$("#create_feed").children().eq(0).addClass("follow_dot"))}},processWMSNotification:function(e){var a=e.type,t=e.network,n=e.entitytype;n||(n="Unknown");var l=$("#socFilterByBrands input:checked").val(),i=$(".socFilterInteractions input:checked").val(),s=$("#socFilterByNetworks").find(".selectedNetwork").attr("network");if(i="All"===i?n:i,s="All"===s?t:s,l===e.brand_id&&s===t&&i===n)if(zsoTab.processTags(e.info),(Crm.userDetails.permissions.Crm_Implied_Create_Leads||Crm.userDetails.permissions.Crm_Implied_Create_Contacts||Crm.userDetails.permissions.Crm_Implied_Create_Accounts)&&(e.add_to_crm=!0),"message"===a){var o=$("#socAllMessages");o.children().length>0&&($("#socNewMessages").show(),o.prepend(Handlebars.templates.SocialNotificationNew(e)))}else{if(e.account&&e.info&&e.info.user&&e.account.info&&e.info.user.id==e.account.info.id)return;e.post=!0;var r=$("#socAllConvo");$("#socNewConversation").show(),r.prepend(Handlebars.templates.SocialNotificationNew(e))}}},crmSocialInteraction={fetchSocialRelatedList:function(e){void 0!==e&&void 0!==e.accounts&&(crmSocialInteg.accounts=e);var a=$("#scrollvariables"),t=$("[name='listrelation']").val();if(void 0!==t){var n=$(window).scrollTop(),l=n+renderingUtils.windowHeight,i=a.offset().top,s=i+a.height();"true"!=a.attr("istriggered")&&s>=n&&i<=l&&s<=l&&i>=n&&(a.attr("istriggered","true"),$("#interactions_loading").show(),crmSocialInteg.getConfiguredAccounts(t))}},loadProfileForCanvas:function(e){var a=void 0!==crmSocialInteraction&&void 0!==crmSocialInteg&&void 0!==Handlebars.templates.SocialIntegOuterTemplate&&"undefined"!=typeof zsoTab;networkUtils.loadFeatureScripts(["zcrm_zsoInteg.js",networkUtils.getI18nJSUrl("social")],(function(){void 0!==e&&void 0!==e.accounts&&(crmSocialInteg.accounts=e,crmSocialInteg.canvas=!0,crmSocialInteg.getConfiguredAccounts())}),a)},socialLoader:function(){var e=$("#scrollvariables"),a=$("[name='listrelation']").val();if(void 0!==a){var t=$(window).scrollTop()+renderingUtils.windowHeight,n=e.offset().top;"true"!=e.attr("istriggered")&&t>=n&&(e.attr("istriggered","true"),$("#interactions_loading").show(),crmSocialInteg.getConfiguredAccounts(a))}},fetchSocialInteractions:function(e,a,t){var n="action=get_interactions";void 0!==crmSocialInteg&&crmSocialInteg.updateSocialObj();var l=$("[name='socialobj']").val();if(void 0!==l&&""!=l){var i={};$(".stream_title").trigger("onclick");var s=JSON.parse(l);void 0===s.facebook||"all"!=e&&"facebook"!=e||(i[s.facebook]="0"),void 0===s.twitter||"all"!=e&&"twitter"!=e||(i[s.twitter]="0"),void 0===s.googleplus||"all"!=e&&"gplus"!=e||(i[s.googleplus]="0"),n+="&social_info="+JSON.stringify(i)}else n+="&entityId="+a;if(void 0!==t)n+="&cursor="+t,$("#social_int_more").remove(),$("#social_int_more_loading").css("display","inline-block"),$($("#social_int_cursor").children()[0]).html('<div class="h20 mT10 mB10"><img src="'+networkUtils.getImageUrl("social_loading_599c9b1_.gif",ResourceConstants.CRM)+'"/></div>');else{$("#intract_pings").html('<div id="ks_loading_new" class="aligncenter socialImg socLoadingIcon" style="cursor: default;top: 40%;left: 40%;position: absolute;"></div>')}void 0===crmSocialUtil.perm||objectUtils.getLength(crmSocialUtil.perm)<1?n+="&perm=false":n+="&perm=true",(new crmRequestPool).initiate({action:Crm.getCrmBasePath()+"/SocialTab.do",data:n,success:function(e){var n=JSON.parse(e);if(void 0!==crmSocialInteg&&(crmSocialInteg.reloadPings=!1),n.new_social&&"undefined"!=typeof zsoTab)zsoTab.processRightPanel(n);else{if(void 0!==n.permissions&&crmSocialUtil.processPermissions(n),void 0!==n.interactions&&(n.interactions=crmSocialUtil.processPostForKanbanView(n.interactions)),n.list_rel_id=a,Handlebars.registerPartial("SocialInteractionsList",Handlebars.templates.SocialInteractionsList),void 0!==t)$("#social_int_cursor").remove(),void 0!==l?(void 0!==crmSocialInteg&&(n.isReadOnly=crmSocialInteg.isReadOnly),$("#interactions_loading").hide(),$("#social_int_inner_div").append(Handlebars.templates.SocialInteractionsList(n)),$("#intract_pings").find(".kso_action_Layer").addClass("mL40").removeClass("w100per")):($("#kso_interactions_list").append(Handlebars.templates.SocialConversations(n)),$$rightPanel.setPerfectScrollBar("krp_Conversation_Container","krp_Conversation_InnerContainer",!0));else if(void 0!==l){void 0!==crmSocialInteg&&(n.isReadOnly=crmSocialInteg.isReadOnly),Handlebars.registerPartial("twPostActions",Handlebars.templates.twPostActions),Handlebars.registerPartial("fbPostActions",Handlebars.templates.fbPostActions);var i=$("#intract_pings");i.html(Handlebars.templates.SocialInteractions(n)),i.find(".kso_action_Layer").addClass("mL40").removeClass("w100per"),$("#interactions_loading").hide(),$(".no_rec").is(":visible")?i.addClass("ptop"):i.removeClass("ptop")}$("#social_int_outer_div").css("height","447px"),crmSocial.setPotentialScrollBar("social_int_outer_div","social_int_inner_div",!1)}}})}},crmSocialInteg={personalAcc:{},personalReauthAcc:{},brandParent:{},brandPages:{},allAccounts:{},accIdVsPerm:{},fbAdded:!1,twAdded:!1,gpAdded:!1,brand_vs_connection_obj:{},TWDMInfo:{},TWFollowInfo:{},pingsEnabled:!1,integPermission:!1,socialAdmin:!1,new_social:!1,urlregex:/(ht+tp:\/\/www.|ht+tps:\/\/www.|www.|ht+tp:\/\/|ht+tps:\/\/)?[\w]+(\.[a-zA-Z0-9-:;?_#!]+)+(\/[\w-;\-*._?,'/\\+&amp;%$#:=~@!]*)*/gim,makeApiCall:function(e,a,t,n,l){var i={"X-ZCSRF-TOKEN":csrfParamName+"="+csrfToken};(new crmRequestPool).initiate({action:a,type:e,headers:i,data:t,success:function(e){Lyte.registeredMixins["crm-utilities"].executeFunctionByName(n,window,l,e)},error:function(t){crmSocialInteg.handleErrorCase(e,a,t.responseJSON)}})},addAccounts:function(e){var a=Crm.getOrgSpecificURL(Crm.getCrmBasePath()+"/settings/");crmSocialInteg.socialAdmin?crmSocialInteg.new_social?window.open(a+"extensions/social/brands"):("googleplus"===e&&(e="google-plus"),window.open(a+"extensions/social/"+e)):crmSocialInteg.integPermission&&window.open(a+"personal-settings")},handleErrorCase:function(e,a,t){var n=void 0!==t.code?t.code:t.status,l={USER_NOT_FOUND:I18n.getMsg("crm.social.integ.error.user.notfound1"),USER_SUSPENDED:I18n.getMsg("crm.social.integ.error.user.suspend1"),USER_TOKEN_SUSPENDED:I18n.getMsg("crm.social.integ.reauth.error1"),RATE_LIMIT_REACHED:I18n.getMsg("crm.social.integ.error.internal"),NEED_REAUTH:I18n.getMsg("crm.social.integ.reauth.error1"),TWITTER_OVER_CAPACITY:I18n.getMsg("crm.social.integ.error.internal"),UNKNOWN_ERROR:I18n.getMsg("crm.social.integ.error.internal"),BLOCKED_BY_USER:I18n.getMsg("crm.social.integ.error.user.blocked1.view"),ID_NOT_FOUND:I18n.getMsg("crm.social.integ.error.tweet.notfound1"),DM_FAILED:I18n.getMsg("crm.social.integ.error.dm.failed1"),LIMIT_TO_FOLLOW:I18n.getMsg("crm.social.integ.error.follow.limit1"),BLOCKED_TO_FOLLOW:I18n.getMsg("crm.social.integ.error.user.blocked1"),TWEET_PROTECTED:I18n.getMsg("crm.social.integ.error.tweet.protected"),TWEET_LIMIT_REACHED:I18n.getMsg("crm.social.integ.error.tweet.limit"),DUPLICATE_STATUS:I18n.getMsg("crm.social.integ.error.tweet.dublicate1"),ACCOUNT_LOCKED:I18n.getMsg("crm.social.integ.error.unlock"),MESSAGE_SIZE_EXCEEDS:I18n.getMsg("crm.social.integ.error.message.limit"),DELETED_TWEET:I18n.getMsg("crm.social.integ.error.tweet.deleted1"),ATTACHMENT_LIMIT_EXCEEDS:I18n.getMsg("crm.social.integ.error.attachment.limit1"),INVALID_PARAM:"Facebook Error Occured"};if(l[n]){if("INVALID_PARAM"===n&&-1!==a.indexOf("facebook")){var i=$("#facebook_leftpanel");return i.find(".socFbLeftLoadDiv").addClass("dN").removeClass("clearFix"),void i.find(".socFbApiInfoOuter").removeClass("dN")}if(crmui.showMsgBand("error",l[n],3e3),crmSocialInteg.socContainMsgBandTop(),"NEED_REAUTH"===n)-1!==(a=a.split("?")[0]).indexOf("twitter")?crmSocialInteg.showReauth("twitter",1,"socAssoTwOp5Icon"):-1!==a.indexOf("facebook")?crmSocialInteg.showReauth("facebook",2,"socAssoFbOp5Icon"):-1!==a.indexOf("googleplus")&&crmSocialInteg.showReauth("googleplus",3,"socAssoGpOp5Icon");else if("USER_SUSPENDED"===n){var s=$("#subvalue_TWITTER").text(),o=$("#twProfile").val();s=void 0!==s?"@"+s:"",$("#twitter_leftpanel").html('<div><span class="socAsssNwIcon socAssoTwIcon dIB vam"></span><a onclick="sE(event);"><span class="socNwName dIB vam color444 cP ellipsistext pL10" id="twitter_name">'+s+'</span></a><span data-zcqa="social_profile_dissociate" class="socProfDisassociate cP fR mT10 readOnlyMode" onmouseenter="crmui.showTooltip({content:\''+I18n.getMsg("crm.social.button.deassociate","Twitter")+"',isHTML: false,position: 'center'});\" onmouseleave=\"crmui.hideTooltip();\" onclick=\"sE(event);crmSocialInteg.saveProfile('twitter','"+$ESAPI.encoder().encodeForHTMLAttribute($ESAPI.encoder().encodeForJavaScript(o))+'\',false);" style="top:12px;" ></span></div>'),$(".socStreamTwFeeds").html(Handlebars.templates.TwitterPosts({showEmpty:!0})),thirdPartyUtils.titleForEllipsis(".socStreamName")}else"TWEET_PROTECTED"!==n&&"BLOCKED_BY_USER"!==n||($(".socStreamTwFeeds").html(Handlebars.templates.TwitterPosts({showEmpty:!0})),thirdPartyUtils.titleForEllipsis(".socStreamName"))}},showReauth:function(e,a,t){var n={name:"span",attr:{class:"dB cP readOnlyMode","data-zcqa":e+"_add",onclick:"sE(event);crmSocialInteg.addAccounts('"+e+"',"+a+");"},child:[{name:"span",attr:{class:"socAsssNwIcon "+t+" dIB vam"}},{name:"span",attr:{class:"dIB vam f14 color_6 fs dB mL8"},child:[{name:"text",content:I18n.getMsg("crm.social.button.associate")+" "+e.charAt(0).toUpperCase()+e.slice(1)}]}]};$("#"+e+"_leftpanel").html(renderingUtils.createHTML(n))},makeApiCallForFile:function(e,a,t,n,l){var i={"X-ZCSRF-TOKEN":csrfParamName+"="+csrfToken};jQuery.ajax({type:e,headers:i,url:a,data:t,processData:!1,contentType:!1,dataType:"json",success:function(e){Lyte.registeredMixins["crm-utilities"].executeFunctionByName(n,window,l,e)},error:function(t){crmSocialInteg.handleErrorCase(e,a,t.responseJSON)}})},getConfiguredAccounts:function(){void 0===crmSocialInteg.accounts?crmSocialInteg.getPersonalAccounts():crmSocialInteg.processPersonalAccounts(void 0,crmSocialInteg.accounts)},getPersonalAccounts:function(){crmSocialInteg.makeApiCall("GET","/crm/v2/Social/accounts",void 0,"crmSocialInteg.processPersonalAccounts",{type:"personal"})},processPersonalAccounts:function(e,a,t){var n={};if(crmSocialInteg.streamsOnly=!0,crmSocialInteg.allAccounts={},crmSocialInteg.brandParent={},crmSocialInteg.personalAcc={},crmSocialInteg.brandPages={},crmSocialInteg.personalReauthAcc={},crmSocialUtil.perm={},$.each(a.accounts,(function(e,a){var t=null;0===a.status&&(a.status=1),"Brand_Parent"===a.type&&(a.type="brand"),"Personal"===a.type?t=1===a.status?crmSocialInteg.personalAcc:crmSocialInteg.personalReauthAcc:"brand"===a.type&&void 0===a.parent_id&&1===a.status?(t=crmSocialInteg.brandParent,"twitter"===a.network&&(crmSocialInteg.streamsOnly=!1,crmSocialInteg.pingsEnabled=!0)):1===a.status&&(t=crmSocialInteg.brandPages,crmSocialInteg.pingsEnabled=!0,crmSocialInteg.streamsOnly=!1),null!==t&&(void 0===t[a.network]&&(t[a.network]=[]),t[a.network].push(a.id),1===a.status&&void 0===a.parent_id&&(n[a.network]=!0)),crmSocialInteg.accIdVsPerm[a.id]=a.perm_type,crmSocialInteg.allAccounts[a.id]=a,a.info.id_str=a.info.id,a.info.displayName=a.info.name,"googleplus"===a.network&&void 0===a.info.data&&(a.info.data=JSON.parse(JSON.stringify(a.info))),crmSocialUtil.perm[a.brid]={info:a.info,perm:a.perm_type,id:a.id}})),crmSocialInteg.integPermission=-1!==a.info.permissions.indexOf("Crm_Implied_Social_Integration"),crmSocialInteg.socialAdmin=-1!==a.info.permissions.indexOf("Crm_Implied_Social_Admin"),a.new_social){crmSocialInteg.new_social=!0;var l=crmSocialInteg.canvas,i=crmSocialInteg.accounts?crmSocialInteg.accounts:void 0,s=void 0!==crmSocialInteraction&&void 0!==crmSocialInteg&&void 0!==Handlebars.templates.SocialIntegOuterTemplate&&"undefined"!=typeof zsoTab;networkUtils.loadFeatureScripts(["zcrm_zsoInteg.js",networkUtils.getI18nJSUrl("social")],(function(){void 0!==i&&(crmSocialInteg.accounts=i,crmSocialInteg.canvas=l),zsoTab.processAccounts(a.accounts),void 0!==a.accounts&&zsoTab.processAccounts(a.accounts),void 0!==a.brands&&$.each(a.brands,(function(e,a){void 0!==zsoTab.brandsWithAccounts[a.id]&&(zsoTab.brands[a.id]=a)})),n.recordtwitterAssociated=a.SOCIALPROFILES?a.SOCIALPROFILES.twitter:void 0,t||(n.new_social=a.new_social,a.SOCIALPROFILES&&void 0!==a.SOCIALPROFILES.facebook&&(n.fbAssociated=!0),crmSocialInteg.renderPersonalAccounts(n))}),s)}else t||(n.new_social=a.new_social,a.SOCIALPROFILES&&void 0!==a.SOCIALPROFILES.facebook&&(n.fbAssociated=!0),crmSocialInteg.renderPersonalAccounts(n))},renderPersonalAccounts:function(e){1===objectUtils.getLength(e)&&(e.login=!0,crmSocialInteg.integPermission?e.permitted=!0:e.permitted=!1),e.showStreams=!crmSocialInteg.pingsEnabled,e.new_social&&(e.brands=zsoTab.brands),$("#interactions_loading").hide(),$("#socInContain").remove(),Handlebars.registerPartial("SocialPostLoading",Handlebars.templates.SocialPostLoading);var a=e.SOCIALPROFILES?e.SOCIALPROFILES.twitter:void 0;$("[ddname=SOCIALPERSONALITY]").append(Handlebars.templates.SocialIntegOuterTemplate(e)),(a||e.recordtwitterAssociated)&&$("#social_streams_button").removeClass("dN"),$(".socTwSearch, .socFbSearch, .socGpSearch").on("scroll",$L.debounce((function(){crmSocialInteg.scrollBoxShadow(this)}),300)),$("#socFbSearchOpt").select2({minimumResultsForSearch:-1}),crmSocialInteg.getAllNetworkInfos()},getAllNetworkInfos:function(){var e=$("#entityName").val(),a=null;"undefined"!=typeof returnJson&&void 0!==returnJson.entMetaData&&(a=returnJson.entMetaData.saltName),void 0!==a&&""!==a&&(e=e.replace(a,"")),e=e.trim();var t=!1,n=$("#twProfile").val(),l=$("#subvalue_TWITTER").text();"null"!==n&&null!==crmSocialInteg.getFirstAccountIdByNetwork("twitter")?(crmSocialInteg.dontHighlightSearch=!0,crmSocialInteg.getProfileInfo("twitter",n),crmSocialInteg.twAdded=n,crmSocialInteg.fetchSocialInteractions("all"),t=!0):void 0!==l&&""!==l&&null!==crmSocialInteg.getFirstAccountIdByNetwork("twitter")?crmSocialInteg.getProfileInfo("twitter",void 0,l):(crmSocialInteg.twAdded=!1,crmSocialInteg.getSearchInfo("twitter",e),$("#twitter_searchbox").val(e)),"null"!==(n=$("#fbProfile").val())&&null!==crmSocialInteg.getFirstAccountIdByNetwork("facebook")?(crmSocialInteg.dontHighlightSearch=!0,crmSocialInteg.getProfileInfo("facebook",n),crmSocialInteg.fbAdded=n,t||(crmSocialInteg.fetchSocialInteractions("all"),t=!0)):(crmSocialInteg.fbAdded=!1,crmSocialInteg.getSearchInfo("facebook",e,"user"),$("#facebook_searchbox").val(e)),"null"===n&&null!==this.getFirstAccountIdByNetwork("facebook")&&$(".socAssociatedFb").removeClass(),"null"!==(n=$("#gpProfile").val())&&null!==crmSocialInteg.getFirstAccountIdByNetwork("googleplus")?(crmSocialInteg.dontHighlightSearch=!0,crmSocialInteg.getProfileInfo("googleplus",n),crmSocialInteg.gpAdded=n,t||(crmSocialInteg.fetchSocialInteractions("all"),t=!0)):(crmSocialInteg.gpAdded=!1,crmSocialInteg.getSearchInfo("googleplus",e),$("#googleplus_searchbox").val(e))},addRemoveTwitterHandle:function(e,a){var t,n=$("#subvalue_TWITTER");n.length>0&&(a?(n.html(e),n.attr("href",RebrandLinkUtil.getProperty("TW_URL")+"/"+e),delete(t=JSON.parse($("#value_TWITTER").parent().attr("data-params"))).dataObj,t.defaultvalue=e,$("#mouseArea__TWITTER").attr("data-params",JSON.stringify(t)),returnJson.entMetaData.TWHandle=e):(n.html(""),n.attr("href",""),delete(t=JSON.parse($("#value_TWITTER").parent().attr("data-params"))).dataObj,t.defaultvalue="",$("#mouseArea__TWITTER").attr("data-params",JSON.stringify(t)),returnJson.entMetaData.TWHandle=""))},getFirstAccountIdByNetwork:function(e,a,t){var n=null;return 1!==a&&void 0!==a||void 0!==crmSocialInteg.brandParent[e]&&(n=crmSocialInteg.brandParent[e][0],void 0!==t&&crmSocialInteg.accIdVsPerm[n]>t&&(n=null)),2!==a&&void 0!==a||void 0!==crmSocialInteg.personalAcc[e]&&(n=crmSocialInteg.personalAcc[e][0]),n},getAllAccountsByCriteria:function(e,a,t,n){var l=crmSocialInteg.allAccounts,i=[];return $.each(l,(function(l,s){void 0!==e&&e!==s.network||void 0!==a&&a!==s.type||!(void 0===t||t>=s.perm_type)||void 0!==n&&n!==s.status||i.push(s)})),i},getProfileInfo:function(e,a,t){var n=crmSocialInteg.getFirstAccountIdByNetwork(e);if(null!==n||void 0===crmSocialInteg.personalReauthAcc[e]){if(null!==n){var l={network:e,account_id:n,profile_id:a,screenName:t},i="/crm/v2/Social/"+e+"/"+n+"/profiles";if(void 0!==a)i=i+"/"+a;else{if(void 0===t)return;var s="Crm_Implied_Edit_"+$("#module").val();if(!Crm.userDetails.permissions[s]||businessCardJson.sharedType&&"Read Only"===businessCardJson.sharedType){var o,r=$("#entityName").val();return"undefined"!=typeof returnJson&&void 0!==returnJson.entMetaData&&(o=returnJson.entMetaData.saltName),void 0!==o&&""!==o&&(r=r.replace(o,"")),r=r.trim(),void crmSocialInteg.getSearchInfo("twitter",r)}i=i+"/"+(t=(t=t.replace(/[^0-9a-z_]/gi,"").trim()).substring(0,15))}crmSocialInteg.makeApiCall("GET",i,void 0,"crmSocialInteg.processProfileInfo",l)}}else n=crmSocialInteg.personalReauthAcc[e][0]},getEntityName:function(){var e,a=$("#entityName").val();return"undefined"!=typeof returnJson&&void 0!==returnJson.entMetaData&&(e=returnJson.entMetaData.saltName),void 0!==e&&""!==e&&(a=a.replace(e,"")),a.trim()},processProfileInfo:function(e,a){if(void 0!==a){a.info=a.profiles[0],$("#"+e.network+"_integ_filter").show(),$(".socNwSuggList").css({display:"none"}),$(".socIntMessage").css({display:"block"}),a.account_id=e.account_id,"twitter"===e.network&&void 0===e.profile_id?(a.profile_id=a.info.id,crmSocialInteg.saveProfile("twitter",a.profile_id,!0,!0)):a.profile_id=e.profile_id;var t=crmSocialInteg.getAllAccountsByCriteria(e.network,void 0,3,1);objectUtils.getLength(t)>1&&(a.moreAccounts=!0),a.perm=crmSocialInteg.allAccounts[a.account_id].perm_type,a.brid=crmSocialInteg.allAccounts[a.account_id].brid,$("#"+e.network+"_leftpanel").html(Handlebars.templates.SocialProfileInfo(a)),thirdPartyUtils.titleForEllipsis(".socNwName"),"twitter"===e.network?$("#socStreamTw").removeClass("dN").addClass("dIB").find("span:eq(1)").text("@"+a.info.screen_name):"facebook"===e.network?$("#socStreamFb").removeClass("dN").addClass("dIB").find("span:eq(1)").text(a.info.name):"googleplus"===e.network&&$("#socStreamGp").removeClass("dN").addClass("dIB").find("span:eq(1)").text(a.info.name)}else crmSocialInteg.getSearchInfo("twitter",crmSocialInteg.getEntityName())},searchProfiles:function(e,a,t){if("facebook"!==a){var n=$(e).val(),l=void 0;if(void 0!==t&&void 0!==t.keyCode){if(13!==t.keyCode)return;crmSocialInteg.getSearchInfo(a,n,l,void 0)}else void 0!==t&&crmSocialInteg.getSearchInfo(a,n,l,t)}},getSearchInfo:function(e,a,t,n){var l=$("#"+e+"_searchbox"),i=crmSocialInteg.getFirstAccountIdByNetwork(e);if("facebook"!==e){if(null!==i)if(void 0===a&&(a=l.val()),a||"twitter"!==e||(a=crmSocialInteg.getEntityName()),""!==(a=a.trim())){r={network:e,query:a,type:t,cursor:n};var s="/crm/v2/Social/"+e+"/"+i+"/profiles/search?query="+encodeURIComponent(a);if(t&&(s=s+"&type="+t),void 0!==n){var o=$("#"+e+"_search_more");o.find(".showmoreIcon").hide(),o.find(".showmoreLoadIcon").removeClass("dN"),s=s+"&offset="+n}null!==i&&(void 0===n&&($("#"+e+"_leftpanel").html(Handlebars.templates.SocialPostLoading({index:[1]})),$("#"+e+"_rightpanel").html(Handlebars.templates.SocialPostLoading({index:[1,2,3,4,5],post:!0}))),crmSocialInteg.makeApiCall("GET",s,void 0,"crmSocialInteg.processSearchInfo",r))}else l.focus()}else{var r={network:e};crmSocialInteg.processSearchInfo(r,{profiles:[],displayNetwork:"Facebook"})}},processSearchInfo:function(e,a){void 0===e.cursor&&crmSocialInteg.changeSuggestionLeftPanel(e.network,objectUtils.getLength(a.profiles)),a.network=e.network,a.query=e.query,a.type=e.type,$("#"+e.network+"_searchbox").val(a.query),void 0===e.cursor?(a.showEmpty=!0,$("#"+e.network+"_rightpanel").html(Handlebars.templates.SocialSearchInfo(a))):($("#"+e.network+"_search_more").remove(),$("#"+e.network+"_rightpanel").append(Handlebars.templates.SocialSearchInfo(a))),crmSocialInteg.dontHighlightSearch||void 0!==e.cursor||("facebook"!==e.network?$("#"+e.network+"_leftpanel").find("button").trigger("click"):crmSocialInteg.changeLeftPanel(void 0,e.network))},changeSuggestionLeftPanel:function(e,a){if(null!==crmSocialInteg.getFirstAccountIdByNetwork(e)){var t={};switch(t.display_network=e,e){case"twitter":t.class="socAssoTw",t.icon="socAssoTwIcon";break;case"facebook":t.class="socAssoFb",t.icon="socAssoFbIcon";break;case"googleplus":t.class="socAssoGp",t.icon="socAssoGpIcon",t.display_network="Google+"}t.network=e,t.count=a,$("#"+e+"_leftpanel").html(Handlebars.templates.SocialNetworkSuggestLeft(t))}},changeLeftPanel:function(e,a){$(".socTwSearch, .socFbSearch, .socGpSearch").scrollTop(0),$(".socialActiveInfo").addClass("dN").removeClass("socialActiveInfo");var t=$("#"+a+"_infobox");t.parent().show(),t.removeClass("dN").addClass("socialActiveInfo"),thirdPartyUtils.titleForEllipsis(".socSearchName"),$("#socIntMessage").css("display","none")},reloadTwitter:function(e){if(e.includes("#")||""===e){var a=$("#twProfile").val();crmSocialInteg.addRemoveTwitterHandle("",!1),"null"!==a&&""!==a&&void 0!==a?crmSocialInteg.getProfileInfo("twitter",a,void 0):crmSocialInteg.getSearchInfo("twitter")}else crmSocialInteg.addRemoveTwitterHandle(e,!0),crmSocialInteg.getProfileInfo("twitter",void 0,e)},processSaveProfile:function(e,a){if(void 0!==a.data&&a.data.length>0){var t=a.data[0],n=t.details;if(n.profile_id=e.profiles.id,e.profile_id=e.profiles.id,e.account_id=e.id,"SUCCESS"===t.code)crmSocialInteg.processProfileInfo(e,{profiles:[t.details.profiles]}),crmSocialInteg.changeAfterSaveProfile(e.network,e.profiles.id,n.profiles.screen_name),"twitter"===network&&!0===isSave&&$("#social_streams_button").removeClass("dN");else if("DUPLICATE_DATA"===t.code)if(e.automate){var l=$("#socFbSearchOpt option:selected").val();crmSocialInteg.getSearchInfo(e.network,crmSocialInteg.getEntityName(),l)}else{"twitter"===e.network&&crmSocialInteg.addRemoveTwitterHandle(void 0,!1),crmui.showMsgBand("error",I18n.getMsg("crm.social.integ.profile.save.error1",Crm.getCrmBasePath()+"/EntityInfo.do?id="+t.details.entityid+"&module="+t.details.module),1e4),$("#"+n.profile_id+"_searchResp").find("button").text(I18n.getMsg("crm.social.integ.profile.associate")).addClass("outlineprimary newbutton").removeClass("primarybtn"),crmSocialInteg.socContainMsgBandTop()}}},changeAfterSaveProfile:function(e,a,t){switch($("#"+e+"_integ_filter").show(),e){case"twitter":$("#twProfile").val(a),crmSocialInteg.twAdded=a,crmSocialInteg.addRemoveTwitterHandle(t,!0),$("#socStreamTw").removeClass("dN").addClass("dIB").find("span:eq(1)").text(t);var n=crmSocialInteg.getAllAccountsByCriteria("twitter",void 0,3,1),l=[];$.each(n,(function(e,a){1===a.status&&l.push(a.id)})),l.length>0&&(crmSocialInteg.showDMSection(l),crmSocialInteg.showTweetSection());break;case"facebook":$("#fbProfile").val(a),crmSocialInteg.fbAdded=a,$("#socStreamFb").removeClass("dN").addClass("dIB").find("span:eq(1)").text($("#facebook_name").text());break;case"googleplus":$("#gpProfile").val(a),crmSocialInteg.gpAdded=a,$("#socStreamGp").removeClass("dN").addClass("dIB").find("span:eq(1)").text($("#googleplus_name").text())}$("#social_streams_button").show(),crmSocialInteg.updateSocialObj(),crmSocialInteg.fetchSocialInteractions("all")},saveProfile:function(e,a,t,n,l){var i=$("#module").val(),s="Crm_Implied_Edit_"+i;if(n||!(!Crm.userDetails.permissions[s]||businessCardJson&&businessCardJson.sharedType&&"Read Only"===businessCardJson.sharedType)){if(void 0!==l){var o=$(l).outerWidth();$(l).html('<span class="socAddLoading w100per dIB"><span></span><span></span><span></span></span>').removeClass("outlineprimary newbutton").addClass("primarybtn").css("width",o)}var r={network:e,profile_id:a},c={id:crmSocialInteg.getFirstAccountIdByNetwork(e),network:e,profiles:{id:a},automate:n},d={data:[]};d.data.push(c);var m="/crm/v2/"+i+"/"+$("#entityID").val()+"/Social";t?crmSocialInteg.makeApiCall("POST",m,JSON.stringify(d),"crmSocialInteg.processSaveProfile",c):crmSocialInteg.makeApiCall("DELETE",m,JSON.stringify(d),"crmSocialInteg.processDeleteProfile",r)}else renderingUtils.showCustomAlert(I18n.getMsg("crm.zti.error.notauthendication"))},processDeleteProfile:function(e,a){var t;if(void 0!==a.data&&a.data.length>0&&"SUCCESS"===a.data[0].code){var n=$("#entityName").val();"undefined"!=typeof returnJson&&void 0!==returnJson.entMetaData&&(t=returnJson.entMetaData.saltName),void 0!==t&&""!==t&&(n=n.replace(t,"")),n=n.trim();var l="user";"facebook"===e.network&&(l=$("#socFbSearchOpt option:selected").val(),$(".socAssociatedFb").remove()),crmSocialInteg.changeAfterDeleteProfile(e.network),crmSocialInteg.getSearchInfo(e.network,n,l,void 0)}},changeAfterDeleteProfile:function(e){switch($("#"+e+"_integ_filter").hide(),e){case"twitter":$("#twProfile").val("null"),crmSocialInteg.twAdded=!1,crmSocialInteg.addRemoveTwitterHandle(void 0,!1),$("#socStreamTw").addClass("dN").removeClass("dIB").find("span:eq(1)").text(""),$(".socStreamTwFeeds").html(""),$("#social_sendDM").remove(),$(".sendmailgroupbtn").removeClass("sendDMadded"),$(".sendmaildropdown").hide(),$("#social_sendTweet").remove();break;case"facebook":$("#fbProfile").val("null"),crmSocialInteg.fbAdded=!1,$("#socStreamFb").addClass("dN").removeClass("dIB").find("span:eq(1)").text(""),$(".socStreamFbFeeds").html(""),$(".socAssociatedFb").removeClass();break;case"googleplus":$("#gpProfile").val("null"),crmSocialInteg.gpAdded=!1,$("#socStreamGp").addClass("dN").removeClass("dIB").find("span:eq(1)").text(""),$(".socStreamGpFeeds").html("")}var a=crmSocialInteg.updateSocialObj();0===objectUtils.getLength(a)&&($("#social_streams_button").hide(),$(".socialBackToInter").addClass("dN").removeClass("dIB")),crmSocialInteg.dontHighlightSearch=!1,crmSocialInteg.fetchSocialInteractions("all")},getLoadingDiv:function(){return renderingUtils.createHTML({name:"div",attr:{class:"dB clearFix"},child:[{name:"span",attr:{class:"socCirImgLoad fL"}},{name:"div",attr:{class:"socTxtLd fL mL8 mT2"},child:[{name:"span",attr:{class:"socImgTextLoading dB mB3"}},{name:"span",attr:{class:"socImgTextLoading w65per"}}]}]})},getPosts:function(e,a,t,n,l,i){void 0!==e&&(e=$(e)).html('<img src="'+networkUtils.getImageUrl("loading_599c9b1_.gif",ResourceConstants.CRM)+'">');if(void 0!==l&&""!==l&&null!==l||(l=crmSocialInteg.getFirstAccountIdByNetwork(a)),null!==l)if("facebook"!==a){var s="/crm/v2/Social/"+a+"/"+l+"/posts?profile_id="+t;if(void 0!==n&&""!==n&&null!==n){var o=$("#"+a+"posts_cursor");s=s+"&offset="+n,o.find(".showmoreIcon").hide(),o.find(".showmoreLoadIcon").removeClass("dN")}var r={network:a,account_id:l,profileId:t,cursor:n,place_type:i};crmSocialInteg.makeApiCall("GET",s,void 0,"crmSocialInteg.processPosts",r)}else{var c={showEmpty:!0,posts:{}};$(".socStreamFbFeeds").html(Handlebars.templates.FacebookPosts(c)).removeClass("dN")}},processPosts:function(e,a){var t={posts:{data:a.posts,offset:a.offset}};if("twitter"===e.network){var n=crmSocialInteg.getAllAccountsByCriteria("twitter",void 0,3,1);$.each(t.posts.data,(function(e,a){crmSocialInteg.processTwitterEntities(a)})),objectUtils.getLength(n)>1&&(t.moreTw=!0)}else if("facebook"===e.network){n=crmSocialInteg.getAllAccountsByCriteria("facebook",void 0,3,1);$.each(t.posts.data,(function(e,a){a.self=!0,crmSocialUtil.processFacebookStreams(a)})),objectUtils.getLength(n)>1&&(t.moreTw=!0)}t.account_id=e.account_id,t.profileId=e.profileId,t.place_type=e.place_type,t.info=crmSocialInteg.allAccounts[t.account_id],crmSocialInteg.renderPosts(e,t)},renderPosts:function(e,a){switch(Handlebars.registerPartial("SocialImageTemplate",Handlebars.templates.SocialImageTemplate),Handlebars.registerPartial("SocialLinkTemplate",Handlebars.templates.SocialLinkTemplate),e.network){case"twitter":void 0===e.cursor?(a.showEmpty=!0,$(".socStreamTwFeeds").html(Handlebars.templates.TwitterPosts(a)).removeClass("dN")):($("#twitterposts_cursor").remove(),$(".socStreamTwFeeds").append(Handlebars.templates.TwitterPosts(a)).removeClass("dN"));break;case"facebook":Handlebars.registerPartial("FacebookContentsRender",Handlebars.templates.FacebookContentsRender),Handlebars.registerPartial("FacebookComments",Handlebars.templates.FacebookComments),void 0===e.cursor?(a.showEmpty=!0,$(".socStreamFbFeeds").html(Handlebars.templates.FacebookPosts(a)).removeClass("dN")):($("#facebookposts_cursor").remove(),$(".socStreamFbFeeds").append(Handlebars.templates.FacebookPosts(a)).removeClass("dN"));break;case"googleplus":void 0===e.cursor?(a.showEmpty=!0,$(".socStreamGpFeeds").html(Handlebars.templates.GoogleplusPosts(a)).removeClass("dN")):($("#googleplusposts_cursor").remove(),$(".socStreamGpFeeds").append(Handlebars.templates.GoogleplusPosts(a)).removeClass("dN"))}thirdPartyUtils.titleForEllipsis(".socStreamName")},processTwitterEntities:function(e){if(void 0!==e.retweeted_status){var a=e.user.name;(e=e.retweeted_status).retweetname=a}return e=crmSocialUtil.processTwitter(e)},getComments:function(e,a,t,n,l){void 0!==n&&""!==n&&null!==n||(n=crmSocialInteg.getFirstAccountIdByNetwork(e));var i="/crm/v2/Social/"+e+"/"+n+"/posts/"+a+"/comments";void 0!==t&&""!==t&&null!==t&&(i=i+"?offset="+t);var s={network:e,account_id:n,postId:a,cursor:t,place_type:l};crmSocialInteg.makeApiCall("GET",i,void 0,"crmSocialInteg.processComments",s)},processComments:function(e,a){var t={comments:{data:a.comments,offset:a.offset}};if("twitter"===e.network){z;var n=crmSocialInteg.getAllAccountsByCriteria("twitter",void 0,3,1);$.each(t.comments,(function(e,a){crmSocialInteg.processTwitterEntities(a)})),objectUtils.getLength(n)>1&&(t.moreTw=!0)}else if("facebook"===e.network){n=crmSocialInteg.getAllAccountsByCriteria("facebook",void 0,3,1);var l={comments:{data:t.comments}};l.id=e.postId,l=crmSocialUtil.processFacebookComments(l),t.comments=l.comments.data,objectUtils.getLength(n)>1&&(t.moreTw=!0)}t.account_id=e.account_id,t.profileId=e.profileId,t.place_type=e.place_type,t.post_id=e.postId,t.info=crmSocialInteg.allAccounts[t.account_id],crmSocialInteg.renderComments(e,t)},renderComments:function(e,a){Handlebars.registerPartial("SocialImageTemplate",Handlebars.templates.SocialImageTemplate),Handlebars.registerPartial("SocialLinkTemplate",Handlebars.templates.SocialLinkTemplate),"twitter"===e.network?(void 0===e.cursor?$("#comments_"+e.postId+"_"+a.place_type).html(Handlebars.templates.TwitterPosts(a)).removeClass("dN"):($("#more_"+e.postId+"_comments").remove(),$("#comments_"+e.postId+"_"+a.place_type).append(Handlebars.templates.TwitterPosts(a)).removeClass("dN")),thirdPartyUtils.titleForEllipsis(".socStreamName")):"facebook"===e.network?(Handlebars.registerPartial("FacebookContentsRender",Handlebars.templates.FacebookContentsRender),void 0===e.cursor?$("#comments_"+e.postId+"_"+a.place_type).html(Handlebars.templates.FacebookComments(a)).removeClass("dN"):($("#more_"+e.postId+"_comments").remove(),$("#comments_"+e.postId+"_"+a.place_type).append(Handlebars.templates.FacebookComments(a)).removeClass("dN"))):"googleplus"===e.network&&(void 0===e.cursor?$("#comments_"+e.postId+"_"+a.place_type).html(Handlebars.templates.GoogleplusComments(a)).removeClass("dN"):($("#more_"+e.postId+"_comments").remove(),$("#comments_"+e.postId+"_"+a.place_type).append(Handlebars.templates.GoogleplusComments(a)).removeClass("dN")))},showComments:function(e){$("#"+e).show()},getStreams:function(){freezeBackground();var e=$("#BodyContent"),a=$("#socStreams");e.addClass("pR"),$(".zc-scrollTop").css("z-index","20");var t=crmSocialInteg.getNetworkDetailsForStreams();0===a.length&&(t.new_social=crmSocialInteg.new_social,e.append(Handlebars.templates.SocialStreamsOuter(t)),thirdPartyUtils.titleForEllipsis(".socStreamTitleName, .socStreamFilterName"),a=$("#socStreams")),a.removeClass("dN"),Crm.userDetails.RTL_ENABLED?setTimeout((function(){a.css({top:"0px",left:"0px"})}),50):setTimeout((function(){a.css({top:"0px",right:"0px"})}),50);var n=$(".socStreamFilter"),l=n.outerHeight(),i=$(".socStreamTitle").outerHeight();n.css("top",i),$(".socStreamFeeds").css("top",i+l),crmSocialInteg.getNetworkStreams("all")},getNetworkStreams:function(e){$(".socStreamFeeds").scrollTop(0);var a=null,t=null;!crmSocialInteg.twAdded||"all"!==e&&"twitter"!==e||null===crmSocialInteg.getFirstAccountIdByNetwork("twitter")?!crmSocialInteg.fbAdded||"all"!==e&&"facebook"!==e||null===crmSocialInteg.getFirstAccountIdByNetwork("facebook")?!crmSocialInteg.gpAdded||"all"!==e&&"googleplus"!==e||null===crmSocialInteg.getFirstAccountIdByNetwork("googleplus")||(a=$(".socStreamGpFeeds"),t=$("#socStreamGp"),0===a.children().length&&crmSocialInteg.getPosts(void 0,"googleplus",crmSocialInteg.gpAdded,void 0,null,"streams")):(a=$(".socStreamFbFeeds"),t=$("#socStreamFb"),0===a.children().length&&(crmSocialInteg.getPosts(void 0,"facebook",crmSocialInteg.fbAdded,void 0,null,"streams"),a.html(Handlebars.templates.SocialPostLoading({index:[1,2,3,4,5],post:!0})))):(a=$(".socStreamTwFeeds"),t=$("#socStreamTw"),0===a.children().length&&(crmSocialInteg.getPosts(void 0,"twitter",crmSocialInteg.twAdded,void 0,null,"streams"),a.html(Handlebars.templates.SocialPostLoading({index:[1,2,3,4,5],post:!0})))),thirdPartyUtils.titleForEllipsis(".socStreamUname"),$(".socStreamTwFeeds, .socStreamFbFeeds, .socStreamGpFeeds").fadeOut(),$(".socStreamFilter").find(".sel").removeClass("sel"),null!==a&&(a.fadeIn(),t.addClass("sel")),thirdPartyUtils.titleForEllipsis(".socStreamName")},getNetworkDetailsForStreams:function(){var e={};return crmSocialInteg.twAdded&&crmSocialInteg.getFirstAccountIdByNetwork("twitter")&&(e.twitter=!0,e.twitter_name=$("#twitter_screen_name").text()),crmSocialInteg.fbAdded&&crmSocialInteg.getFirstAccountIdByNetwork("facebook")&&(e.facebook=!0,e.facebook_name=$("#facebook_name").text()),crmSocialInteg.gpAdded&&crmSocialInteg.getFirstAccountIdByNetwork("googleplus")&&(e.googleplus=!0,e.googleplus_name=$("#googleplus_name").text()),e.entityName=$("#entityName").val(),e.entityName=e.entityName.trim(),e},socStreamSecClose:function(){var e=$("#socStreams");Crm.userDetails.RTL_ENABLED?e.css({left:"-600px"}):e.css({right:"-600px"}),setTimeout((function(){removeFreezeLayer(),$("#BodyContent").removeClass("pR"),e.addClass("dN"),$(".zc-scrollTop").css("z-index","")}),200)},socIntMsgSection:function(e){e=$(e);$(".socFilterSection").find(".sel").removeClass("sel"),e.addClass("sel")},toggleResponse:function(e){var a=$(e);if(void 0!==crmSocialInteg.currentElem){var t=(n=$(crmSocialInteg.currentElem).closest(".parentPost")).attr("id");crmSocialInteg.removeImage(n.find(".socRepImgClose"),t),n.find("#response").toggle()}if(crmSocialInteg.currentElem!==e){crmSocialInteg.currentElem=e,a.closest(".feeds_li").addClass("socRepBg");var n,l=(n=a.closest(".parentPost")).find("#response");l.toggle();t=n.attr("id");crmSocialInteg.removeImage(n.find(".socRepImgClose"),t);var i=l.find("#resp_box"),s=void 0!==i.attr("reply")?i.attr("reply"):"";i.val(s+" "),i.focus(),void 0!==i[0]&&i[0].setSelectionRange(i.val().length,i.val().length);var o=i.siblings("#twitter_limit");o.length>0&&o.html(280-i.val().length)}else crmSocialInteg.currentElem===e&&(crmSocialInteg.currentElem=void 0,a.closest(".feeds_li").removeClass("socRepBg"))},favorite:function(e,a){var t="/crm/v2/Social/twitter/"+a+"/posts/"+e+"/actions/like",n={tweetId:e,account_id:a,favorite:!0};crmSocialInteg.makeApiCall("POST",t,void 0,"crmSocialInteg.processFavorite",n)},undoFavorite:function(e,a,t){var n="/crm/v2/Social/twitter/"+a+"/posts/"+e+"/actions/like",l={tweetId:e,account_id:a,favorite:!1,place_type:t};crmSocialInteg.makeApiCall("DELETE",n,void 0,"crmSocialInteg.processFavorite",l)},processFavorite:function(e){crmSocialInteg.handleFavorite(e.tweetId,e.account_id,e.place_type,e.favorite)},handleFavorite:function(e,a,t,n){var l=$("[id="+e+"_fav_btn]");$.each(l,(function(e,a){var t=$(a).find(".socialImgsvg").next("span"),l=t.html();n?""===l||void 0===l?t.html("1"):t.html(parseInt(l)+1):"1"===l?t.html(""):t.html(parseInt(l)-1)}));for(var i=$("[id="+e+'_fav_btn][account_id="'+a+'"]'),s=i.length,o=0;o<s;o++){var r=i.eq(o),c=r.find(".socialImgsvg");n?(r.attr("onclick","sE(event);crmSocialInteg.undoFavorite('"+e+"','"+a+"','"+t+"');"),c.addClass("socFavIconActive")):(r.attr("onclick","sE(event);crmSocialInteg.favorite('"+e+"','"+a+"','"+t+"');"),c.removeClass("socFavIconActive"))}},retweet:function(e,a){var t="/crm/v2/Social/twitter/"+a+"/posts/"+e+"/actions/retweet",n={tweetId:e,account_id:a,retweet:!0};crmSocialInteg.makeApiCall("POST",t,void 0,"crmSocialInteg.processRetweet",n)},undoRetweet:function(e,a,t){var n="/crm/v2/Social/twitter/"+a+"/posts/"+e+"/actions/retweet",l={tweetId:t,account_id:a,retweet:!1,postId:e};crmSocialInteg.makeApiCall("DELETE",n,void 0,"crmSocialInteg.processRetweet",l)},processRetweet:function(e){crmSocialInteg.handleRetweets(e.tweetId,e.account_id,e.place_type,e.retweet,e.postId)},handleRetweets:function(e,a,t,n,l){var i=$("[id="+e+"_ret_btn]");$.each(i,(function(e,a){var t=$(a).find(".socialImgsvg").next("span"),l=t.html();n?""===l||void 0===l?t.html("1"):t.html(parseInt(l)+1):"1"===l?t.html(""):t.html(parseInt(l)-1)}));for(var s=$("[id="+e+'_ret_btn][account_id="'+a+'"]'),o=s.length,r=0;r<o;r++){var c=s.eq(r).find(".socialImgsvg");c.attr("onclick","sE(event);crmSocialInteg.showQuoteTweet('"+e+"','"+a+"');"),n?c.addClass("socReTwtIconActive"):c.removeClass("socReTwtIconActive")}n||crmSocialInteg.new_social||$("[post_id="+l+"]").remove()},updateSocialObj:function(){var e={},a=$("#fbProfile").val();"null"!==a&&""!==a&&(e.facebook=a);var t=$("#twProfile").val();"null"!==t&&""!==t&&(e.twitter=t);var n=$("#gpProfile").val();return"null"!==n&&""!==n&&(e.googleplus=n),$("[name='socialobj']").val(JSON.stringify(e)),e},showDMSection:function(e){var a=crmSocialInteg.getAllAccountsByCriteria("twitter",void 0,2,1),t=[];if($.each(a,(function(e,a){t.push(a.id)})),t.length>0){var n=$("#entityID").val(),l="/crm/v2/"+$("#module").val()+"/"+n+"/Social/twitter/relations?ids="+t.toString()+"&per_page=1",i={first:!0,accounts:e,entity_id:n};crmSocialInteg.twitterIds=e;var s=$("#twProfile").val();crmSocialInteg.TWDMInfo[s]={},i.profileId=s,crmSocialInteg.TWFollowInfo[s]={},crmSocialInteg.makeApiCall("GET",l,void 0,"crmSocialInteg.processDMSection",i)}},processDMSection:function(e,a){var t=[],n=[],l={},i=null;if($.each(a.relations,(function(a,s){void 0===s.code&&(s.account_id=s.id,s.info=crmSocialInteg.allAccounts[s.account_id],void 0===crmSocialInteg.TWFollowInfo[e.profileId]&&(crmSocialInteg.TWFollowInfo[e.profileId]={}),crmSocialInteg.TWFollowInfo[e.profileId][s.account_id]=s,s.source&&s.source.can_dm?(t.push(s.account_id),s.info.perm_type<3&&(i=s.info.id,l[s.account_id]=s,crmSocialInteg.TWDMInfo[e.profileId][s.account_id]=s)):s.account_id?n.push(s.account_id):s.details&&s.details.account_id&&n.push(s.details.account_id))})),!0===e.first){if(t.length>0&&null!==i){$("#social_sendDM").remove();var s='<span id="social_sendDM" name="SendDM"  data-zcqa="sendDM" onclick="crmSocialInteg.sendDm(\''+i+"','"+e.profileId+'\');"  class="newbutton mT5   mR0 w100per dIB mB5 social_sendDMlistitem alignleft readOnlyMode">'+I18n.getMsg("crm.social.integ.send.dm")+"</span>";$("#social_dmm_group input[type=button]").length>0?($("#social_dmm_popup").append(s).addClass("socDMPopDD"),$(".sendmaildropdown").show(),$(".sendmailgroupbtn").addClass("sendDMadded")):($("#social_dmm_group").append(s),$(".sendmailgroupbtn").css("border-right","none"))}}else t.length>0&&$("#twitterDmDrop").show()},showTweetSection:function(){var e=crmSocialInteg.getAllAccountsByCriteria("twitter",void 0,1,1);if(objectUtils.getLength(e)>0){$("#social_sendTweet").remove();var a={name:"input",attr:{id:"social_sendTweet",name:"SendTweet",type:"button","data-zcqa":"SendTweet",onclick:"crmSocialInteg.addPostDiv('twitter');",value:I18n.getMsg("crm.social.integ.send.tweet"),class:"dN newbutton outlinegreenlight readOnlyMode"}};$("#fixedBtn").append(renderingUtils.createHTML(a))}},getFollowInformation:function(e,a){if(void 0!==crmSocialInteg.TWFollowInfo[a])if(objectUtils.getLength(crmSocialInteg.TWFollowInfo[a])!==objectUtils.getLength(crmSocialInteg.twitterIds))crmSocialInteg.getAllAccountDmStatus(a,"crmSocialInteg.processFollowInformation");else{var t={profileId:a};crmSocialInteg.processFollowInformation(t)}else crmSocialInteg.getAllAccountDmStatus(a,"crmSocialInteg.processFollowInformation")},processFollowInformation:function(e,a){void 0!==a&&crmSocialInteg.processDMSection(e,a),$("#folwHandle").remove(),Handlebars.registerPartial("followList",Handlebars.templates.followList),$("#follow_"+e.profileId).append(Handlebars.templates.followList(crmSocialInteg.TWFollowInfo[e.profileId])),$("#folwHandle").show()},getAllAccountDmStatus:function(e,a){if(crmSocialInteg.twitterIds.length>0&&void 0!==crmSocialInteg.allAccounts){var t=[];if($.each(crmSocialInteg.twitterIds,(function(a,n){void 0!==crmSocialInteg.TWFollowInfo[e]&&void 0!==crmSocialInteg.TWFollowInfo[e][n]||t.push(n)})),t.length>0){void 0===a&&(a="crmSocialInteg.processDMSection");var n=$("#module").val(),l=$("#entityID").val(),i="/crm/v2/"+n+"/"+l+"/Social/twitter/relations?ids="+t.toString(),s={accounts:t,entity_id:l,profileId:e};crmSocialInteg.makeApiCall("GET",i,void 0,a,s)}}},sendDm:function(e,a){if(void 0===a&&(a=$("#twProfile").val()),void 0!==crmSocialInteg.TWDMInfo[a]){crmSocialInteg.getAllAccountDmStatus(a),freezeBackground(),$("#directMessage").remove();var t=crmSocialInteg.TWDMInfo[a][e];t.thread_id=t.target.id_str+"_"+t.source.id_str,t.type="global",t.id=a,crmSocialInteg.new_social?(t.place_type="rightpanel_popup",$("#showSignalPop").after(Handlebars.templates.SocialDirectMessageNew(t))):$("#showSignalPop").after(Handlebars.templates.SocialDirectMessage(t)),crmui.showPopup({id:"directMessage",headerBg:!0}),$("#directMessage").find("input").eq(0).focus();var n=crmSocialInteg.allAccounts[e];if(2===n.type||"Personal"===n.type)return void $(".socMsgDetailView").html(Handlebars.templates.SocialConvoInner({message:!0,personal:!0}));if(crmSocialInteg.new_social){var l=crmSocialInteg.allAccounts[e].brand.id;return void zsoTab.getMessageDetail(void 0,l,"twitter",t.target.id_str+"_"+t.source.id_str+"_twitter",void 0,t.target.id_str,"rightpanel_popup")}var i={action:"get_feed"};i.brid=crmSocialInteg.allAccounts[e].brid,i.feedid=t.target.id_str+"_"+t.source.id_str,i.network="twitter",i.message=!0,(new crmRequestPool).initiate({action:Crm.getCrmBasePath()+"/SocialTab.do",data:i,dataType:"json",success:function(e){e.data&&(e=crmSocialUtil.processPostForDetailView(e)),e.thread_id=i.feedid,e.place_type="popup",e.twDetail=!0,Handlebars.registerPartial("SocialImageTemplate",Handlebars.templates.SocialImageTemplate),0===$("#comment_list").children().length&&$(".socMsgDetailView").html(Handlebars.templates.SocialConvoInner(e))}})}},twCancel:function(e){"dm"===e&&($("#FreezeLayer").hide(),crmui.hidePopup("directMessage"))},processTextPaste:function(e,a){window.setTimeout((function(){crmSocialInteg.processText(e,a)}),1)},processText:function(e,a){var t=$(t),n=$('[button_id="'+e+'"]'),l=$('[limit_id="'+e+'"]'),i=$('[text_id="'+e+'"]').val();void 0===i&&(i="");var s=crmSocialInteg.urlregex,o=0,r=0,c=$("#socPostPopup").find("textarea");for(c.is(":visible")&&c.outerHeight(40).outerHeight(c[0].scrollHeight);;){var d=s.exec(i);if(null===d)break;o++,r+=d[0].length}var m=280;o>0?m=m-23*o-(i.length-r):m-=i.length;return l.html(m),m<0&&a?(n.removeClass("cP").prop("disabled",!0).css("opacity","0.5").css("pointer-events","none"),l.attr("style","color:red")):"280"===m&&void 0===crmSocialInteg[e]?(n.removeClass("cP").prop("disabled",!0).css("opacity","0.5").css("pointer-events","none"),l.attr("style","color:black")):(n.addClass("cP").prop("disabled",!1).css("opacity","1").css("pointer-events","auto"),l.attr("style","color:black")),!0},preventDefaultChar:function(e){$("#folwSuggestOuter").is(":visible")&&13===e.which&&e.preventDefault()},preventCursor:function(e){$("#folwSuggestOuter").is(":visible")&&(38!==e.which&&40!==e.which||e.preventDefault())},processTwitterSuggestion:function(e,a,t,n){void 0!==crmSocial&&crmSocial.processTwitterSuggestion(e,a,t,n)},addQuoteDiv:function(){if(!$("#socRetweetPopup").length){var e={name:"div",attr:{id:"socRetweetPopup",class:"w500 p0 dN",onclick:"sE(event);"},child:[{name:"h2",attr:{class:"pp-header bld"},child:[{name:"text",content:I18n.getMsg("crm.social.integ.retweet.this")}]}]};$("#showSignalPop").after(renderingUtils.createHTML(e))}},addPostDiv:function(e){if("twitter"===e){var a=crmSocialInteg.getAllAccountsByCriteria("twitter",void 0,1,1);if(a.length>0){var t=a[0];a.length>0&&(t.moreaccount=!0);var n=$("#subvalue_TWITTER").text();if(void 0===n||""===n){var l=$("#twitter_screen_name");n=l.length>0?l.html().replace("@","").trim():""}t.replyText=n,t.place_type="post_twitter_integ",delete crmSocialInteg["post_twitter_integ_"+t.id],$("#showSignalPop").after(Handlebars.templates.TwitterPostCreate(t)),crmui.showPopup({id:"socPostPopup",headerBg:!0});var i=$("#socPostPopup").find("textarea").eq(0);i.focus(),void 0!==i[0]&&i[0].setSelectionRange(i.val().length,i.val().length)}}},socRetweetCancel:function(){crmui.hidePopup("socRetweetPopup",!0),$("#socRetweetPopup").remove();var e=$("#socStreams");Crm.userDetails.RTL_ENABLED?e.css({left:"0px"}):e.css({right:"0px"}),e.is(":visible")||removeFreezeLayer(),0===$("#socIntMsgDiv").length&&removeFreezeLayer()},socRemovePopup:function(e,a){crmui.hidePopup(e);var t=$("#"+e);crmSocialInteg.removeImage(t.find(".socRepImgClose"),a),t.remove()},profileChange:function(e,a){var t=(e=$(e)).outerHeight()+e.offset().top;if($("#socProfileChange").remove(),"popup"===e.attr("data-attr")){e.closest(".postResponse").after(Handlebars.templates.SocialChangeAccount(a));var n=Crm.userDetails.RTL_ENABLED?"right":"left";$("#socProfileChange").attr("style","top:"+t+"px;"+n+":5px").removeClass("dN")}else e.closest(".socialCommonImage").append(Handlebars.templates.SocialChangeAccount(a)),$("#socProfileChange").removeClass("dN");thirdPartyUtils.titleForEllipsis(".socProfName")},showTwitterDmProfiles:function(e,a,t,n){var l={accounts:crmSocialInteg.getAllDmAccounts(a)};l.callbackfn=t,l.param1=n,l.currAccount=$("#"+n).find(".postResponse").attr("account_id"),crmSocialInteg.profileChange(e,l)},getAllDmAccounts:function(e){var a=[];return void 0!==crmSocialInteg.TWDMInfo[e]&&$.each(crmSocialInteg.TWDMInfo[e],(function(e,t){a.push(crmSocialInteg.allAccounts[t.account_id])})),a},showTwitterProfiles:function(e,a,t,n){var l={accounts:crmSocialInteg.getAllAccountsByCriteria("twitter",void 0,a,1)};l.callbackfn=t,l.param1=n,l.currAccount=$("#"+n).find(".postResponse").attr("account_id"),crmSocialInteg.profileChange(e,l)},changeReplyId:function(e,a){var t=$("#"+e).find(".postResponse"),n=crmSocialInteg.allAccounts[a];void 0!==n&&(t.attr("account_id",a),t.attr("screen_name",n.info.screen_name),t.find(".socialCommonImage").find("img").eq(0).attr({src:n.info.image,title:n.info.screen_name})),$("#socProfileChange").remove(),"directMessage"===e&&crmSocialInteg.sendDm(a,void 0)},onImageSelected:function(e,a,t,n){e=e||window.event;var l=$(a),i=e.target.files[0];if(i.size<3145728&&"twitter"===n||i.size<26214400&&"facebook"===n){crmSocialInteg[t]=i;var s=l.parents(".postResponse").find(".socialCommonPreview");s.closest(".socialCommonPreviewDiv").removeClass("dN"),s.attr("title",i.name);var o=new FileReader;o.onload=function(e){s.attr("src",e.target.result)},o.readAsDataURL(i),crmSocialInteg.processText(t)}else renderingUtils.showCustomAlert(I18n.getMsg("crm.nsocial.tab.image.maximum"),void 0,!0)},removeImage:function(e,a){var t=$(e),n=t.parents(".socialCommonPreviewDiv");n.addClass("dN"),n.find("img").removeAttr("src").removeAttr("title"),t.parents(".postResponse").find(".socialCommonAttach").val(""),delete crmSocialInteg[a],crmSocialInteg.processText(a)},socTwReplyCancel:function(e,a){var t=(e=$(e)).closest(".postResponse"),n=t.find(".socialCommonText");n.val(n.attr("reply")),crmSocialInteg.removeImage(t.find(".socRepImgClose"),a),crmSocialInteg.closeProfileChangeDropDown(),t.toggle()},socTwReplyBtn:function(e,a){$(e).prop("disabled",!0).css("opacity","0.5").css("pointer-events","none");var t=$(e).closest(".postResponse"),n=t.attr("account_id"),l=t.attr("post_id"),i=t.attr("screen_name"),s=t.find(".socialCommonText").val();crmSocialInteg.replyTweet(n,l,i,s,a)},replyTweet:function(e,a,t,n,l){var i="/crm/v2/Social/twitter/"+e+"/posts/"+a+"/comments",s=new FormData,o={screen_name:t,content:n};s.append("content",JSON.stringify({comments:[o]})),void 0!==crmSocialInteg[l]&&s.append("file",crmSocialInteg[l],crmSocialInteg[l].name),crmSocialInteg.makeApiCallForFile("POST",i,s,"crmSocialInteg.processReply",l)},processReply:function(e,a){a=a.comments[0],Handlebars.registerPartial("SocialImageTemplate",Handlebars.templates.SocialImageTemplate),$("#"+e+"_replies").append(Handlebars.templates.TwitterReplyList(crmSocialInteg.processTwitterEntities(a))),crmSocialInteg.toggleResponse();var t=$("[text_id="+e+"]"),n=t.closest(".postResponse").find(".socRepImgClose");t.val(""),crmSocialInteg.removeImage(n,e)},showQuoteTweet:function(e,a){crmSocialInteg.addQuoteDiv();var t=$("#"+e+"_"+a+"_quote");if(t.length)return $(".currentActiveQuote").addClass("dN").attr("style","").removeClass("currentActiveQuote"),void t.show().addClass("currentActiveQuote");crmSocialInteg.getTweetInfo(e,a,"crmSocialInteg.renderQuoteTweet")},getTweetInfo:function(e,a,t){var n="/crm/v2/Social/twitter/"+a+"/posts/"+e,l={account_id:a,tweetId:e};void 0===t&&(t="crmSocialInteg.processTweetInfo"),crmSocialInteg.makeApiCall("GET",n,void 0,t,l)},renderQuoteTweet:function(e,a){(a=a.posts[0]).network="twitter",a.account_id=e.account_id,a.brid=crmSocialInteg.allAccounts[e.account_id].brid,a.account_info=crmSocialInteg.allAccounts[e.account_id];var t=crmSocialInteg.getAllAccountsByCriteria("twitter",void 0,2,1);objectUtils.getLength(t)>1&&(a.moreTw=!0),a=crmSocialInteg.processTwitterEntities(a),$(".currentActiveQuote").addClass("dN").removeClass("currentActiveQuote").hide(),$("#socRetweetPopup").append(Handlebars.templates.SocialIntegQuoteTweet(a)),crmui.showPopup({id:"socRetweetPopup",headerBg:!0,escToClose:!1});var n=$("#socStreams");Crm.userDetails.RTL_ENABLED?n.css({left:"-600px"}):n.css({right:"-600px"})},changeQuoteTweetId:function(e,a){var t=$("#"+e).attr("post_id");crmSocialInteg.showQuoteTweet(t,a)},submitQuoteTweet:function(e,a,t,n){var l=$(e).closest(".parentPost");if(n){var i=l.find("#tweet_div").attr("screen-name"),s=l.find(".socialCommonText").val().trim();if(s){var o="https://twitter.com/"+i+"/status/"+a;crmSocialInteg.postTweet(t,s,void 0,o)}else crmSocialInteg.retweet(a,t)}else{var r=l.find("#tweet_div").attr("retweet-id");""!==r&&void 0!==r||(r=a),crmSocialInteg.undoRetweet(r,t,a)}crmSocialInteg.socRetweetCancel()},submitPostTweet:function(e,a){$(e).prop("disabled",!0).css("opacity","0.5").css("pointer-events","none");var t=$(e).closest(".postResponse"),n=t.attr("account_id"),l=t.find(".socialCommonText").val().trim();""===l&&void 0===crmSocialInteg[a]||crmSocialInteg.postTweet(n,l,a)},postTweet:function(e,a,t,n){var l="/crm/v2/Social/twitter/"+e+"/posts",i=new FormData,s={content:a};void 0!==crmSocialInteg[t]&&i.append("file",crmSocialInteg[t],crmSocialInteg[t].name),void 0!==n&&(s.tweet_url=n),i.append("content",JSON.stringify({posts:[s]})),crmSocialInteg.makeApiCallForFile("POST",l,i,"crmSocialInteg.processPost",t),crmui.hidePopup("socPostPopup"),$("#socPostPopup").remove(),crmui.hidePopup("socRetweetPopup"),$("#socRetweetPopup").remove()},processPost:function(e,a){a.posts[0].id&&(crmui.showMsgBand("success",I18n.getMsg("crm.tw.tweet.success"),3e3),crmSocialInteg.socContainMsgBandTop()),delete crmSocialInteg[e]},setImageWidthHeight:function(e){var a=(e=$(e)).width();e.height("auto"),200<a&&e.width(200)},showVideoInFrame:function(e,a,t){var n=$(e),l=n.closest(".kso_sharedlink");0===l.length&&(l=n.closest(".socIntFbSmallLinkVideo").parent()),l.find(".socFbSmallLinkVideo, .socIntFbSmallLinkVideo, #imagesvg, #videoimage").hide(),l.find("#videoframe").attr("src",a).show(),"commentDetail"===t&&l.css({width:"315px",padding:"10px"})},followBtnEventBinding:function(e,a,t){for(var n=$('[id="'+e+'_follow_btn"][account_id="'+a+'"][bind="true"]'),l=$('[id="'+e+'_follow_btn"][account_id="'+a+'"][bind="false"]'),i=n.length,s=0;s<i;s++){var o=n.eq(s),r=null,c=null;if("follow"===t)r=I18n.getMsg("crm.tw.label.following"),c=I18n.getMsg("crm.tw.label.unfollow"),o.closest(".socTwFollow").addClass("socTwFollowing").removeClass("socTwFollow"),o.attr("onclick","crmSocialInteg.unfollow('"+e+"',\""+a+'");sE(event);');else{if("unfollow"!==t)return;c=r=I18n.getMsg("crm.tw.label.follow"),o.attr("onclick","crmSocialInteg.follow('"+e+"',\""+a+'");sE(event);'),o.closest(".socTwFollowing").addClass("socTwFollow").removeClass("socTwFollowing")}o.html(r),l.html(r),crmSocialInteg.htmlOverChange(o,c),crmSocialInteg.htmlOutChange(o,r)}void 0!==crmSocialInteg.TWFollowInfo[e]&&void 0!==crmSocialInteg.TWFollowInfo[e][a]&&(crmSocialInteg.TWFollowInfo[e][a].source.following="follow"===t)},htmlOverChange:function(e,a){e.mouseover((function(){e.html(a)}))},htmlOutChange:function(e,a){e.mouseout((function(){e.html(a)}))},follow:function(e,a){var t={profileId:e,account_id:a,follow:!0},n="/crm/v2/Social/twitter/"+a+"/profiles/"+e+"/actions/follow";crmSocialInteg.makeApiCallForFile("POST",n,void 0,"crmSocialInteg.processFollow",t)},unfollow:function(e,a){var t={profileId:e,account_id:a,follow:!1},n="/crm/v2/Social/twitter/"+a+"/profiles/"+e+"/actions/follow";crmSocialInteg.makeApiCallForFile("DELETE",n,void 0,"crmSocialInteg.processFollow",t)},processFollow:function(e,a){if(a.profiles[0].id){var t=e.follow?"follow":"unfollow";crmSocialInteg.followBtnEventBinding(e.profileId,e.account_id,t)}},showText:function(e,a){$(e).html(a)},hoverFromArrow:function(e,a){e=$(e).parent("div");"hover"===a&&e.hasClass("socTwFollowing")?e.addClass("socNoHoverBg"):e.removeClass("socNoHoverBg")},menuAnimate:function(e){var a=(e=$(e)).outerWidth(),t=e.position().left;e.siblings().removeClass("sel"),e.addClass("sel"),e.siblings(".tabborder").css({width:a,left:t})},socMorePhotos:function(e,a,t){(e=$(e)).closest(".socFbMultipleImg").addClass("dN");var n=e.closest(".socStreamList").find(".socMultipleImgSlide");if(n.removeClass("dN"),"video"===t){var l=n.find(".socSlideImgs").eq(a).addClass("socSlideImgActive").show().find("iframe");l.attr("src",l.attr("url"))}else n.find(".socSlideImgs").eq(a).addClass("socSlideImgActive").show()},socImgArrow:function(e,a){var t=(e=$(e)).closest(".socMultipleImgSlide"),n=t.find(".socSlideImgActive"),l=n.find("iframe");l.length>0&&(r=l).attr("src","");n.removeClass("socSlideImgActive").addClass("socSlideImgOldActive");var i=!1,s=t.find(".socSlideImgOldActive");i=a?s.is(":last-child"):s.is(":first-child");var o=t.find(".socSlideImgs");if(i){var r;if((d=(c=a?o.first():o.last()).find("iframe")).length>0)(r=d).attr("src",r.attr("url"));c.addClass("socSlideImgActive")}else{var c,d;(d=(c=a?s.next():s.prev()).find("iframe")).length>0&&r.attr("src",r.attr("url")),c.addClass("socSlideImgActive")}s.removeClass("socSlideImgOldActive"),o.hide(),n.show()},socImgSlideClose:function(e){var a=(e=$(e)).closest(".socMultipleImgSlide");a.find(".socSlideImgActive").removeClass("socSlideImgActive"),a.find(".socSlideImgs").hide(),a.addClass("dN"),e.closest(".socStreamList").find(".socFbMultipleImg").removeClass("dN"),e.parent().find("iframe").attr("src","")},makeServerCall:function(e,a,t,n,l){networkUtils.setCsrfParam(t),(new crmRequestPool).initiate({action:a,type:e,data:t,success:function(e){Lyte.registeredMixins["crm-utilities"].executeFunctionByName(n,window,l,e)},error:function(t){crmSocialInteg.handleErrorCase(e,a,t)}})},socFilNwLists:function(e){var a=(e=$(e)).outerWidth(),t=e.position();$("#socFilterByBrands").addClass("dN"),$("#socFilNwLists").css({top:t.top+37,left:t.left-a}).removeClass("dN")},socNwFilter:function(e,a){e=$(e);$(".selectedNetwork").removeClass("selectedNetwork"),e.addClass("selectedNetwork");var t=e.attr("data-attr"),n=$("#socFilNwLists"),l=n.find("li span"),i=$(".socIntSection .socIntList");if($(".socFilTwSel > span").addClass("dN").removeClass("dIB"),crmSocialInteg.new_social){var s=$("#socFilterByBrands input:checked").val(),o=n.find(".selectedNetwork").attr("network"),r=crmSocialInteg.getProfileIdsForNetwork(o,s);$(".profileIds").attr("ids",r),null!==r?$(".socInteractionDetAll").is(":visible")?($(".socMessagesDetAll").empty(),zsoTab.getInteractions(void 0,s,null,void 0,r,"related_list","socInteractionDetAll")):($(".socInteractionDetAll").empty(),zsoTab.getMessagesByProfile(void 0,s,null,r,"related_list")):$(".socInteractionDetAll").html(Handlebars.templates.SocialPostsNew()),$(".socialBackToInter").removeClass("dN").addClass("dIB")}else crmSocialInteg.fetchSocialInteractions(a);"All"===e.attr("data-attr")?(l.removeClass("op5"),i.show(),$(".socFilAll").addClass("dIB").removeClass("dN")):($(".socFilTwSel").find(".socAsso"+t+"Icon").addClass("dIB").removeClass("dN"),l.addClass("op5"),n.find("li .socAsso"+t+"Icon").removeClass("op5"),i.hide(),$(".socIntSection").find(".socInt"+t+"List").show()),n.addClass("dN")},getProfileIdsForNetwork:function(e,a){var t=null;if(crmSocialInteg.brand_vs_connection_obj&&crmSocialInteg.brand_vs_connection_obj[a]){$("#socialobj").val(JSON.stringify(crmSocialInteg.brand_vs_connection_obj[a]));var n=$("#socialobj").val()}else n=$("#socialobj").val();if(void 0!==n&&""!==n){var l=JSON.parse(n);void 0===l.facebook||"All"!==e&&"facebook"!==e||(t=l.facebook),void 0===l.twitter||"All"!==e&&"twitter"!==e||(t=null!==t?t+","+l.twitter:l.twitter),void 0===l.googleplus||"All"!==e&&"gplus"!==e||(t=null!==t?t+","+l.googleplus:l.googleplus)}return t},fetchSocialInteractions:function(e,a,t){var n=$(".socialBackToInter");if(!crmSocialInteg.pingsEnabled){return $(".socIntSection").html(Handlebars.templates.SocialPings({showEmpty:!0})),void(crmSocialInteg.streamsOnly&&(crmSocialInteg.getNetworkStreams("all"),n.removeClass("dN").addClass("dIB")))}var l="action=get_interactions";crmSocialInteg.updateSocialObj();var i=$("[name='socialobj']").val();if(void 0!==i&&""!==i){var s={},o=JSON.parse(i);if(void 0===o.facebook||"all"!==e&&"facebook"!==e||(s[o.facebook]="0"),void 0===o.twitter||"all"!==e&&"twitter"!==e||(s[o.twitter]="0"),void 0===o.googleplus||"all"!==e&&"gplus"!==e||(s[o.googleplus]="0"),0===objectUtils.getLength(s))return;if(l+="&social_info="+JSON.stringify(s),"all"===e){var r=$("#socFilNwLists").find("li span"),c=$(".socIntSection .socIntList");$(".socFilTwSel > span").addClass("dN").removeClass("dIB"),r.removeClass("op5"),c.show(),$(".socFilAll").addClass("dIB").removeClass("dN")}}else l+="&entityId="+a;var d=$("#social_int_cursor");if(void 0!==t){l+="&cursor="+t,$("#social_int_more").remove(),$("#social_int_more_loading").css("display","inline-block");var m={name:"div",attr:{class:"h20 mT10 mB10"},child:[{name:"img",attr:{src:networkUtils.getImageUrl("social_loading_599c9b1_.gif",ResourceConstants.CRM)}}]};$(d.children().eq(0)).html(renderingUtils.createHTML(m))}else{$("#intract_pings").html(renderingUtils.createHTML({name:"div",attr:{id:"ks_loading_new",class:"aligncenter socialImg socLoadingIcon",style:"cursor: default;top: 40%;left: 40%;position: absolute;"}}))}void 0===crmSocialUtil.perm||objectUtils.getLength(crmSocialUtil.perm)<1?l+="&perm=false":l+="&perm=true",(new crmRequestPool).initiate({action:Crm.getCrmBasePath()+"/SocialTab.do",data:l,success:function(e){var l=JSON.parse(e);if(l.new_social&&"undefined"!=typeof zsoTab)return zsoTab.processRightPanel(l,"related_list"),void n.removeClass("dN").addClass("dIB");void 0!==l.permissions&&crmSocialUtil.processPermissions(l),void 0!==l.interactions&&(l.interactions=crmSocialUtil.processPostForKanbanView(l.interactions)),l.list_rel_id=a,Handlebars.registerPartial("SocialImageTemplate",Handlebars.templates.SocialImageTemplate),Handlebars.registerPartial("FacebookContentsRender",Handlebars.templates.FacebookContentsRender),void 0!==t?(d.remove(),void 0!==crmSocialInteg&&(l.isReadOnly=crmSocialInteg.isReadOnly),$("#interactions_loading").hide(),$(".socIntSection").append(Handlebars.templates.SocialPings(l))):void 0!==i&&(void 0!==crmSocialInteg&&(l.isReadOnly=crmSocialInteg.isReadOnly),l.showEmpty=!0,$(".socIntSection").html(Handlebars.templates.SocialPings(l)),n.removeClass("dN").addClass("dIB"))}})},like:function(e,a){var t="/crm/v2/Social/facebook/"+a+"/posts/"+e+"/actions/like",n={postId:e,account_id:a,like:!0};crmSocialInteg.makeApiCall("POST",t,void 0,"crmSocialInteg.processLike",n)},unLike:function(e,a,t){var n="/crm/v2/Social/facebook/"+a+"/posts/"+e+"/actions/like",l={postId:e,account_id:a,like:!1,place_type:t};crmSocialInteg.makeApiCall("DELETE",n,void 0,"crmSocialInteg.processLike",l)},processLike:function(e){crmSocialInteg.handleLike(e.postId,e.account_id,e.place_type,e.like)},handleLike:function(e,a,t,n){var l=$("[id="+e+"_like_btn]");$.each(l,(function(e,a){var t=$(a).find(".socialImgsvg").next("span"),l=t.html();n?""===l||void 0===l?t.html("1"):t.html(parseInt(l)+1):"1"===l?t.html(""):t.html(parseInt(l)-1)}));for(var i=$("[id="+e+'_like_btn][account_id="'+a+'"]'),s=i.length,o=0;o<s;o++){var r=i.eq(o),c=r.find(".socialImgsvg");n?(r.attr("onclick","sE(event);crmSocialInteg.unLike('"+e+"','"+a+"','"+t+"');"),c.addClass("socFbLikeIconActive")):(r.attr("onclick","sE(event);crmSocialInteg.like('"+e+"','"+a+"','"+t+"');"),c.removeClass("socFbLikeIconActive"))}},handleComment:function(e,a,t){var n=$("[id="+e+"_comment_btn]");$.each(n,(function(e,a){var n=$(a).find(".socialImgsvg").next("span"),l=n.html();t?""===l||void 0===l?n.html("1"):n.html(parseInt(l)+1):"1"===l?n.html(""):n.html(parseInt(l)-1)}))},socReplyToConvo:function(e,a,t){var n=$(e);n.prop("disabled",!0).css("opacity","0.5").css("pointer-events","none");var l=n.attr("button_id"),i=$("#"+l),s=$("[text_id="+l+"]"),o=i.attr("b_id"),r={action:"reply",network:t,brid:o,convo:!0};r[csrfParamName]=csrfToken;var c=s.val().trim();if("facebook"===t){var d=i.attr("p_id"),m=i.attr("t_id");if(r.feedid=d,r.convo_id=m,""===c||c.length>2e4)return}else if("twitter"===t){d=i.attr("t_id");var u=i.attr("u_name"),p=i.attr("u_id");if(r.feedid=d,r.handle_name=u,r.handle_id=p,""===c||c.length>1e4)return}r.reply=c;var f=JSON.parse(JSON.stringify(r));f.place_type=a,f.uniqueId=l;var g=crmSocialInteg.getAccountIdForBrid(o);if(2===crmSocialInteg.allAccounts[g].type||"Personal"===crmSocialInteg.allAccounts[g].type){var v="/crm/v2/Social/twitter/"+g+"/messages?profile_id="+$("#twProfile").val().trim(),h=new FormData,_={content:c};return h.append("content",JSON.stringify({messages:[_]})),void crmSocialInteg.makeApiCallForFile("POST",v,h,"crmSocialInteg.processReplyToconvo",f)}if(crmSocialInteg.new_social){var b=crmSocialInteg.allAccounts[g].brand.id,w=i.attr("entity_id");zsoTab.postMessage(n,b,t,w,w,"rightpanel_popup")}else crmSocialInteg.makeServerCall("POST",Crm.getCrmBasePath()+"/SocialTab.do",r,"crmSocialInteg.processReplyToconvo",f)},processReplyToconvo:function(e,a){"object"==typeof a&&(a=a.messages[0],a=JSON.stringify(a));var t=JSON.parse(a),n=!1;if((t.data&&!t.data.errors||t.dataObj&&!t.dataObj.errors||t.post&&!t.post.erros)&&(n=!0),n){var l=t.data;if(l.brid=e.brid,l.type||(l.type="message"),l.network||(l.network=e.network),t.data=new Array(l),crmSocialUtil.processPostForKanbanView(t),$("[text_id="+e.uniqueId+"]").val(""),$("#"+e.uniqueId).append(Handlebars.templates.SocialConvoInner(t)),void 0!==t.data[0]&&(void 0!==t.data[0].id_str||void 0!==t.data[0].id)){var i=void 0!==t.data[0].id_str?t.data[0].id_str:t.data[0].id.replace(/[^a-zA-Z0-9]/g,"_"),s=$("[c_id="+i+"]");$("#socMsgDetView .socMsgDetailView").scrollTo(s,{duration:"fast"}),s.addClass("socMsgTextHighlight"),setTimeout((function(){s.removeClass("socMsgTextHighlight")}),5e3)}$("#dmNoContent").hide()}},getPostDetail:function(e,a,t){var n=(e=$(e)).attr("b_id"),l=null,i=null;t&&"facebook"!==a?l=e.attr("t_id"):(l=e.attr("p_id"),t&&(i=e.attr("t_id")));var s=e.attr("pro_id"),o={action:"get_feed"};o.brid=n,o.feedid=l,o.network=a,o.profile_id=s,"twitter"===a?(o.favorite_count=e.attr("f_cnt")&&""!==e.attr("f_cnt")?e.attr("f_cnt"):"0",o.retweet_count=e.attr("re_cnt")&&""!==e.attr("re_cnt")?e.attr("re_cnt"):"0",o.reply_count=e.attr("c_cnt")&&""!==e.attr("c_cnt")?e.attr("c_cnt"):"0"):(o.like_count=e.attr("l_cnt")&&""!==e.attr("l_cnt")?e.attr("l_cnt"):"0",o.comment_count=e.attr("c_cnt")&&""!==e.attr("c_cnt")?e.attr("c_cnt"):"0");var r=e.attr("e_id");""!==r&&(o.entity_id=r),"true"===t&&(o.message=!0);var c=JSON.parse(JSON.stringify(o));t?"twitter"===a?c.comment_id=e.attr("p_id"):"facebook"===a&&(c.comment_id=e.attr("c_id"),void 0!==c.comment_id&&(c.comment_id=c.comment_id.replace(/[^a-zA-Z0-9]/g,"_")),c.thread_id=i):c.comment_id=e.attr("c_id"),crmSocialInteg.makeServerCall("POST",Crm.getCrmBasePath()+"/SocialTab.do",o,"crmSocialInteg.processPostDetail",c)},processPostDetail:function(e,a){(!(a=JSON.parse(a)).data||a.data&&a.data.length>0)&&(a=crmSocialUtil.processPostForDetailView(a)),e.place_type?a.place_type=e.place_type.split("_")[0]:a.place_type="detail",a.thread_id||(a.thread_id=e.thread_id);var t="Tw";switch(a.network){case"twitter":t="Tw";break;case"facebook":t="Fb";break;case"googleplus":t="Gp"}var n=$("#socIntDetView");if("detail"===a.place_type){$("#socIntMsgDiv").fadeOut(),n.fadeIn();var l=n.find(".socReplyImg");l.removeClass("socReplyTw socReplyFb socReplyGp").addClass("socReply"+t),$(".socAssociatedTw, .socAssociatedFb, .socAssociatedGp").addClass("op3 eventNone"),$(".socAssociated"+t).removeClass("op3 eventNone"),l.addClass("socReply"+t)}var i=e.comment_id;if(e.message?e.cursor?($(".socCurrentActiveConvo").remove(),$("#"+e.place_type).prepend(Handlebars.templates.SocialConvoInner(a))):(Handlebars.registerPartial("SocialConvoInner",Handlebars.templates.SocialConvoInner),n.html(Handlebars.templates.SocialConvoOuter(a))):(Handlebars.registerPartial("SocialImageTemplate",Handlebars.templates.SocialImageTemplate),Handlebars.registerPartial("SocialLinkTemplate",Handlebars.templates.SocialLinkTemplate),"facebook"===a.network?(Handlebars.registerPartial("FacebookContentsRender",Handlebars.templates.FacebookContentsRender),Handlebars.registerPartial("FacebookCommentDetail",Handlebars.templates.FacebookCommentDetail),n.html(Handlebars.templates.FacebookPostDetail(a))):"twitter"===a.network?n.html(Handlebars.templates.TwitterPostDetail(a)):"googleplus"===a.network&&(Handlebars.registerPartial("GplusCommentDetail",Handlebars.templates.GplusCommentDetail),n.html(Handlebars.templates.GplusPostDetail(a)))),i&&"googleplus"!==a.network){var s=$("[c_id="+i+"]");e.message?$("#socMsgDetView .socMsgDetailView").scrollTo(s,{duration:"fast"}):$("#socIntDetView .socIntLists").scrollTo(s,{duration:"fast"}),s.addClass("socMsgTextHighlight"),setTimeout((function(){s.removeClass("socMsgTextHighlight")}),5e3)}if(!e.cursor){var o=n.find("#resp_box").focus();"twitter"===a.network&&o.length>0&&(o[0].setSelectionRange(o.val().length,o.val().length),o.eq(0).siblings("#twitter_limit").eq(0).html(280-o.eq(0).val().length))}},getMoreConvo:function(e,a,t){var n=$(e);n.html('<img src="'+networkUtils.getImageUrl("social_loading_599c9b1_.gif",ResourceConstants.CRM)+'">'),n.addClass("socCurrentActiveConvo");var l={action:"get_feed"};l.brid=n.attr("brid"),l.feedid=n.attr("feedid"),l.network=n.attr("network"),l.cursor=a,l.message=!0;var i=JSON.parse(JSON.stringify(l));i.place_type=t,crmSocialInteg.makeServerCall("POST",Crm.getCrmBasePath()+"/SocialTab.do",l,"crmSocialInteg.processPostDetail",i)},getReplies:function(e,a,t,n){var l={action:"get_replies"};l.feedid=a,t&&(l.reply_limit=t),n&&""!==n&&(l.reply_cursor=n),crmSocialInteg.makeServerCall("POST",Crm.getCrmBasePath()+"/SocialTab.do",l,"crmSocialInteg.processReplyDetail",returnParams)},processReplyDetail:function(e,a){var t=JSON.parse(a);t=crmSocialUtil.processTweetReplies(t);var n=$("#reply_list_"+e.feedid);0!==n.length&&($("#more_replies_"+e.feedid).remove(),Handlebars.registerPartial("SocialImageTemplate",Handlebars.templates.SocialImageTemplate),n.prepend(Handlebars.templates.TwitterReplyList(t)))},getCommentsDetail:function(e,a,t,n,l){var i={action:"get_comments"};i.feedid=a,i.network=t,n&&(i.comment_limit=n),l&&""!==l&&(i.comment_cursor=l);var s=$(e),o={name:"img",attr:{src:networkUtils.getImageUrl("social_loading_599c9b1_.gif",ResourceConstants.CRM)}};s.html(renderingUtils.createHTML(o)).removeAttr("onclick").addClass("socCurrentActiveConvo");var r=s.closest(".parentPost"),c=r.attr("b_id"),d=JSON.parse(JSON.stringify(i)),m=crmSocialUtil.perm[c].perm;d.brid=c,d.account_id=r.attr("account_id"),d.interact=m<3,d.place_type=s.attr("place_type"),d.fb_type=s.attr("fb_type"),crmSocialInteg.makeServerCall("POST",Crm.getCrmBasePath()+"/SocialTab.do",i,"crmSocialInteg.processGetComments",d)},processGetComments:function(e,a){$(".socCurrentActiveConvo").remove();var t=JSON.parse(a),n=$("#comments_"+e.feedid+"_detail");"replies"===e.fb_type&&(n=$("#replies_"+e.feedid+"_detail"),t={replies:t.comments,id:t.id}),t.interact=e.interact,t.brid=e.brid,t.account_id=e.account_id,e.place_type&&(t.place_type=e.place_type),"facebook"===e.network?t.comments?(t=crmSocialUtil.processFacebookComments(t),n.prepend(Handlebars.templates.SocialCommentList(t))):"replies"===e.fb_type&&(t=crmSocialUtil.processFacebookReplies(t),n.prepend(Handlebars.templates.SocialCommentList(t))):"googleplus"===e.network&&t.object&&t.object.replies&&t.object.replies.data&&(t=crmSocialUtil.processGooglePlusComments(t),n.prepend(Handlebars.templates.SocialCommentList(t)))},comment:function(e,a,t){var n=$(e);n.prop("disabled",!0).css("opacity","0.5").css("pointer-events","none");var l=n.attr("button_id"),i=new FormData,s=$("#"+l),o=$("[text_id="+l+"]");void 0!==crmSocialInteg[l]&&i.append("upload_photo",crmSocialInteg[l],crmSocialInteg[l].name);var r=s.attr("p_id"),c=s.attr("b_id");i.append("feedid",r),i.append("brid",c),i.append("network",a);var d=o.val().trim();""===d&&crmSocialInteg[l]||(i.append("comment",d),i.append(csrfParamName,csrfToken),jQuery.ajax({type:"POST",url:Crm.getCrmBasePath()+"/SocialTab.do?action=comment",data:i,processData:!1,contentType:!1,success:function(e){var n=JSON.parse(e),i=!1;if((n.data&&!n.data.errors||n.post&&!n.post.errors||n.object&&!n.object.errors)&&(i=!0),i){if(crmSocialInteg.toggleResponse(),"facebook"===a)n.post=crmSocialUtil.processInteractability(n.post),n.post=crmSocialUtil.processFacebookComments(n.post),(d=(s=n.post.comments.data)[s.length-1]).message=crmSocialUtil.processLinks(d.message);else if("googleplus"===a){var s,d;n.post=crmSocialUtil.processGooglePlusComments(n),(d=(s=n.object.replies.data)[s.length-1]).url=n.object.url,d.object.content=crmSocialUtil.processLinks(d.object.content)}crmSocialInteg.handleComment(r,void 0,!0),o.val("");var m=o.closest(".postResponse").find(".socRepImgClose");crmSocialInteg.removeImage(m,l),d.account_id=crmSocialInteg.getAccountIdForBrid(c),d.place_type=t,Handlebars.registerPartial("FacebookContentsRender",Handlebars.templates.FacebookContentsRender),Handlebars.registerPartial("FacebookCommentDetail",Handlebars.templates.FacebookCommentDetail),"detail"!==t&&"pings"!==t||("pings"===t&&(d.showinteract=!0,d.can_remove=!1),"facebook"===a?(d.post_id=r,$("#comments_"+r+"_"+t).append(Handlebars.templates.FacebookCommentDetail(d))):"googleplus"===a&&$("#comments_"+r+"_"+t).append(Handlebars.templates.GplusCommentDetail(d)),o.closest(".parentPost").find(".socIntLists").animate({scrollTop:$(".socIntLists").prop("scrollHeight")},400))}}}))},replyToComment:function(e,a,t){var n=$(e);n.prop("disabled",!0).css("opacity","0.5").css("pointer-events","none");var l=n.attr("button_id"),i=n.closest(".parentComment").attr("c_id"),s={action:"comment",network:"facebook"};s.commentId=i,s[csrfParamName]=csrfToken;var o=$("[text_id="+l+"]"),r=o.val().trim();s.comment=r;var c=n.closest(".parentPost"),d=c.attr("p_id"),m=c.attr("b_id");s.feedid=d,s.brid=m,(new crmRequestPool).initiate({action:Crm.getCrmBasePath()+"/SocialTab.do",data:s,success:function(e){var n=JSON.parse(e),l=(n=crmSocialUtil.processTime(n)).id,s=n.parent.id;crmSocialInteg.handleComment(i,void 0,!0),n.permalink=RebrandLinkUtil.getProperty("FB_URL")+"/permalink.php?story_fbid="+s.split("_")[0]+"&id="+d.split("_")[0]+"&comment_id="+s.split("_")[1]+"&reply_comment_id="+l.split("_")[1],o.val(""),n.account_id=crmSocialInteg.getAccountIdForBrid(m),n.reply=!0,Handlebars.registerPartial("FacebookContentsRender",Handlebars.templates.FacebookContentsRender),Handlebars.registerPartial("FacebookCommentDetail",Handlebars.templates.FacebookCommentDetail),"detail"!==t&&"pings"!==t||("pings"===t&&(n.showinteract=!0),"facebook"===a?$("#replies_"+i+"_"+t).append(Handlebars.templates.FacebookCommentDetail(n)):"googleplus"===a&&$("#replies_"+i+"_"+t).append(Handlebars.templates.GplusCommentDetail(n))),crmSocialInteg.toggleResponse()}})},getReplyToCommentTemplate:function(e){var a=$(e).closest(".parentComment"),t=a.closest(".parentPost"),n=t.attr("b_id"),l=t.attr("account_id"),i=a.find("#response");if(i.length>0)i.remove();else{var s=a.attr("c_id"),o=crmSocialUtil.perm[n];if(void 0!==o){var r={account_id:l,id:s,place_type:"detail",br_img:RebrandLinkUtil.getProperty("FB_GRAPH_URL")+"/"+o.info.id+"/picture"};a.find("#replies_"+r.id+"_"+r.place_type).after(Handlebars.templates.FacebookReplyTemplate(r)),$("[text_id="+r.place_type+"_"+r.id+"]").focus()}}},getAccountIdForBrid:function(e){if(void 0!==crmSocialUtil.perm[e]&&crmSocialUtil.perm[e].id)return crmSocialUtil.perm[e].id},socCloseDetView:function(e){$(".socAssociatedTw, .socAssociatedFb, .socAssociatedGp").removeClass("op3 eventNone"),$("#socIntMsgDiv").fadeIn(),"interaction"===e?$("#socIntDetView").fadeOut():"message"===e&&$("#socMsgDetView").fadeOut()},viewInteractions:function(e){e=$(e);$("#socAssociateNws .socNwSuggList").hide(),$("#socIntMessage").show()},focusToInput:function(e){$("[text_id="+e+"]").focus()},fbImgSlide:function(e,a){var t=(e=$(e)).closest(".socFbMultipleLink"),n=t.find("ul"),l=t.find(".socFbMultiLinkInner"),i=parseInt(n.attr("data-attr")),s=t.find(".socFbMulLink").outerWidth(!0),o=t.find(".socFbMultiLinkInner li").length-2;e.removeClass("socFbInitArrowWidth");var r=a?"socFbLeft":"socFbRight",c=a?i:i-1;t.find("."+r).removeClass("vh eventNone");var d=Crm.userDetails.RTL_ENABLED?"right":"left",m=parseInt(l.css(d));a?(0===c?l.css(d,"-222px"):c===o?(l.css(d,m-s+92),t.find(".socFbRight").addClass("vh eventNone"),t.find(".socFbLeft").addClass("socFbInitArrowWidth")):l.css(d,m-s),i++):0===c?(l.css(d,"0px"),t.find(".socFbLeft").addClass("vh eventNone"),t.find(".socFbRight").addClass("socFbInitArrowWidth"),i=0):c===o?(l.css(d,m+222),i--):(l.css(d,m+s),i--),n.attr("data-attr",i)},deleteComment:function(e,a,t){var n={action:"remove_comment"};n[csrfParamName]=csrfToken,n.feedid=e,void 0!==a&&""!==a&&(n.commentId=a),n.brid=t,n.network="facebook",(new crmRequestPool).initiate({action:Crm.getCrmBasePath()+"/SocialTab.do",data:n,success:function(a){var t=JSON.parse(a);if(t.comment_id){var l="#"+t.comment_id+"_detail";$(l).slideUp("slow",(function(){$("[c_id="+t.comment_id+"]").remove()})),crmSocialInteg.handleComment(n.feedid,crmSocialInteg.getAccountIdForBrid(n.brid),!1)}else crmSocialInteg.socCloseDetView("interaction"),l="[p_id="+e+"]",$(l).slideUp("slow",(function(){$("[p_id="+e+"]").remove()}));crmSocialInteg.removeDiv("socDeleteNwPosts")}})},fbKeywordSearch:function(e){e=$(e);$("#facebook_keyword_searchbox").val(""),e.hasClass("socSwapSearch")?(e.text(I18n.getMsg("crm.social.integ.add.search")).removeClass("socSwapSearch"),$(".socFbSearchKey .socFbWithKeyword").addClass("dN"),$(".socFbSearchKey .socFbWithoutKeyword").addClass("w100per").removeClass("w45per")):(e.text(I18n.getMsg("crm.social.integ.remove.search")).addClass("socSwapSearch"),$(".socFbSearchKey .socFbWithoutKeyword").removeClass("w100per").addClass("w45per"),setTimeout((function(){$(".socFbSearchKey .socFbWithKeyword").removeClass("dN")}),300))},removeDiv:function(e){var a=$("#"+e);a.removeClass("scalePopOne").hide(),a.remove()},scrollBoxShadow:function(e){(e=$(e)).scrollTop()>20?e.prev().addClass("scrollShadow"):e.prev().removeClass("scrollShadow")},saveSocialImage:function(e,a,t){var n="Crm_Implied_Edit_"+$("#module").val();if(!Crm.userDetails.permissions[n]||businessCardJson.sharedType&&"Read Only"===businessCardJson.sharedType||businessCardJson.isProfileImageReadOnly||!businessCardJson.isProfileImageAccessible)return crmui.showMsgBand("error",I18n.getMsg("crm.recordImage.socialInteg.warning"),5e3),void crmSocialInteg.socContainMsgBandTop();$("#showSignalPop").after(Handlebars.templates.SocialSaveImageConfirm({network:e,brid:a,account_id:t})),crmui.showPopup({id:"socialConfirm",headerBg:!0})},cancelConfirm:function(e){crmui.hidePopup(e)},saveImage:function(e,a,t,n){var l={mode:"saveSocialImage"};switch(l.entityId=$("#entityID").val(),l.module=$("#module").val(),a){case"facebook":l.profileId=$("#fbProfile").val();break;case"twitter":l.profileId=$("#twProfile").val();break;case"googleplus":l.profileId=$("#gpProfile").val()}l.brid=t,l.account_id=n,l.networkType=a,networkUtils.setCsrfParam(l),$(e).removeClass("cP").prop("disabled",!0).css("opacity","0.5").css("pointer-events","none"),(new crmRequestPool).initiate({action:Crm.getCrmBasePath()+"/socialIntegration.do",data:l,dataType:"json",success:function(e){if(crmSocialInteg.cancelConfirm("socialConfirm"),e.success){var a=e.photoId,t=$("#"+l.module+"_"+l.entityId+"_photo"),n=$("#imgContainer");t.length>0?($.each(t,(function(e,t){$(t).attr("src",Crm.getCrmBasePath()+"/EntityImageAttach.do?action_module="+l.module+"&entityId="+l.entityId+"&actionName=readImage&fileId="+a).addClass("mt5")})),$("#detailViewButtonLayerMainTableRow").find("#"+l.module+"_"+l.entityId+"_photo").attr("src",Crm.getCrmBasePath()+"/EntityImageAttach.do?action_module="+l.module+"&entityId="+l.entityId+"&actionName=readImage&fileId="+a).addClass("mt5")):1===n.length&&n.html('<img src="'+Crm.getCrmBasePath()+"/EntityImageAttach.do?action_module="+l.module+"&entityId="+l.entityId+"&actionName=readImage&fileId="+$ESAPI.encoder().encodeForHTMLAttribute(a)+'">').addClass("mt5"),$("#photoID").val(a),$("#isNewUpload").val("false"),crmui.showMsgBand("success",I18n.getMsg("crm.socialinteg.save.image"),5e3)}else crmui.showMsgBand("error",I18n.getMsg("crm.label.saveimage.error"),5e3);crmSocialInteg.socContainMsgBandTop()}})},socContainMsgBandTop:function(){var e=$("[ddname=SOCIALPERSONALITY]").offset().top-$("#crm-msg").outerHeight()-30;$(".socContainMsgBand").css("transform","translate(-50%, "+e+"px)")},socFilDropDownList:function(e){e=$(e);var a=$("#socFilterByBrands"),t=e.position().left+e.outerWidth(),n=a.outerWidth()/2;$("#socFilNwLists").addClass("dN"),a.css({top:"59px",left:t-(n+22)}).removeClass("dN")},closeProfileChangeDropDown:function(){var e=$("#socProfileChange");e.is(":visible")&&e.addClass("dN")}};!function(){var e=/(&#x60;)+|(&#x21;)+|(&#x40;)+|(&#x23;)+|(&#x24;)+|(&#x25;)+|(&#x5e;)+|(&amp;)+|(&#x2a;)+|(&#x28;)+|(&#x29;)+|(&#x2b;)+|(&#x7b;)+|(&#x7d;)+|(&#x3a;)+|(&quot;)+|(&lt;)+|(&gt;)+|(&#x3f;)+|(&#x2f;)+|(&#x3b;)+|(&#x27;)+|(&#x5b;)+|(&#x5d;)+|(&#x3d;)+/gim,a=null,t=1e3,n=1e6,l=!1;function i(e){var a=T.perm[e.brid];return"1"===a.perm||1===a.perm?(e.create=!0,e.interact=!0):"2"!==a.perm&&2!==a.perm||(e.interact=!0),e.account_id=a.id,e}function s(e){var a=null,t="",n=!1,l=!1,i=!1,s=e.watching_profile_id,o=Crm.userDetails.permissions;return e.user?a=e.user:e.from?a=e.from:e.actor?a=e.actor:e.sender&&(a=e.sender),a&&(a.crm_lead?n=a.crm_lead:a.crm_contact?l=a.crm_contact:a.crm_potential_contact?i=a.crm_potential_contact:a.crm_closed_potential_contact&&(i=a.crm_closed_potential_contact),!a.entityid&&e.entityid&&(a.entityid=e.entityid),n?a.module="Leads":(l||i)&&(a.module="Contacts"),a.id_str?t=a.id_str:a.id&&(t=a.id),s!==t&&(!o.Crm_Implied_Create_Leads||n||l||i||(a.mark_lead=!0),!o.Crm_Implied_Create_Contacts||n||l||i||(a.mark_contact=!0)),o.Crm_Implied_View_Contacts&&(a.view_contact=!0),o.Crm_Implied_View_Leads&&(a.view_lead=!0),e.user?e.user=a:e.from?e.from=a:e.actor&&(e.actor=a)),e}function o(e){if(e.shares){var a=e.shares.data[0];e.picture=a.link,e.isPic=!0}if(e.attachments){for(var t=e.id.split("_")[1],n=e.attachments.data,l=n.length,i=0;i<l;i++){var s=n[i],o="ajax/messaging/attachment.php?attach_id="+s.id+"&mid="+encodeURIComponent(t);if(s.mime_type){var r=s.mime_type;-1!==r.indexOf("image")?s.image=s.image_data.preview_url:-1===r.indexOf("video")&&-1===r.indexOf("audio")||(s.video=!0)}s.link=o,n[i]=s}e.attachments.data=n}return e}function r(e){var a=e.network,t=null,n=null;if(n=e.history?(t=e.history).type:e.type,"twitter"===a){var l=[];"mention"===n?(l.push($ESAPI.encoder().encodeForHTML(e.user.name)),e.action=I18n.getMsg("crm.nsocial.tab.action.mentioned",l)):"reply"===n?(l.push($ESAPI.encoder().encodeForHTML(e.user.name),e.br_name),e.action=I18n.getMsg("crm.nsocial.tab.action.replied.tweet",l),e.entities=t.entities,e.text=t.synopsis,e.comment_id=t.id):"message"===n&&(l.push(e.br_name),e.action=I18n.getMsg("crm.nsocial.tab.action.convo.replied",l)),e.entity_info?e.user=e.entity_info:null!==t&&t.entity_info&&(e.user=t.entity_info)}else if("facebook"===a){l=[];if("status"===n)l.push(e.br_name),e.actionable=!0,e.action=I18n.getMsg("crm.nsocial.tab.action.page.posted",l),e.post_likes_count=e.likes_count,e.post_comments_count=e.comments_count;else if("comment"===n)l.push($ESAPI.encoder().encodeForHTML(e.from.name),e.br_name),e.action=I18n.getMsg("crm.nsocial.tab.action.page.commented",l),e.comment_id=t.comment_id,e.message=t.synopsis,t.user_likes&&(e.liked=t.user_likes),e.actionable=!1,t.picture?(e.picture=t.picture,e.type="photo"):(delete e.picture,e.type=n),e.post_likes_count=e.likes_count,e.post_comments_count=e.comments_count,e.likes_count=e.history.like_count,e.comments_count=e.history.comment_count;else if("message"===n){(l=[]).push(e.br_name),e.action=I18n.getMsg("crm.nsocial.tab.action.convo.replied",l),e.convo=!0,e.comment_id=e.id,e=o(e)}e.entity_info?e.from=e.entity_info:null!==t&&t.entity_info&&(e.from=t.entity_info)}else if("googleplus"===a){l=[];"reply"===n&&(l.push($ESAPI.encoder().encodeForHTML(e.actor.displayName),e.br_name),e.action=I18n.getMsg("crm.nsocial.tab.action.page.gplus.commented",l),e.comment_id=t.comment_id,e.actionable=!1),e.entity_info?e.actor=e.entity_info:null!==t&&t.entity_info&&(e.actor=t.entity_info)}return e}function c(e,a){var t=null;if(void 0===(t=a&&e.activity_time?e.activity_time:e.formatted_time))return e;var n=[],l="title_time";return a&&(l="act_"+l),e[l]=t.disp_time,t.key&&t.diff?(n.push(t.diff),e.disp_time=I18n.getMsg(t.key,n)):t.diff?t.key||(e.disp_time=t.diff):e.disp_time=I18n.getMsg(t.key),e}function d(e){var t=e.text;if(e.entities=e.extended_tweet?e.extended_tweet.entities:e.entities,t.indexOf("<a onclick='sE(event);' href='")<0){var n=e.entities;if(void 0===n)return e;var l=0;if(n.media){var i=n.media;for(l=i.length-1;l>=0;l--){var s=i[l];if(!e.convo){var o=s.url,r=$ESAPI.encoder().encodeForHTML(o),c='<a onclick="sE(event);" href="'+$ESAPI.encoder().encodeForHTMLAttribute(o)+'" target="_blank">'+$ESAPI.encoder().encodeForHTML(s.display_url)+"</a>";t=null===a?t.replace(r,c):t.replace(o,c)}"photo"===s.type&&(e.isPic=!0,e.picture=s.media_url_https)}e.text=t}if(n.urls){var d=n.urls;for(l=d.length-1;l>=0;l--){var m=d[l];o=m.url,r=$ESAPI.encoder().encodeForHTML(o),c='<a onclick="sE(event);" href="'+$ESAPI.encoder().encodeForHTMLAttribute(o)+'" target="_blank">'+$ESAPI.encoder().encodeForHTML(m.display_url)+"</a>";t=null===a?t.replace(r,c):t.replace(o,c)}e.text=t}if(e.convo||void 0===e.user||(e.replytext="@"+e.user.screen_name),n.user_mentions){var u=n.user_mentions;for(l=u.length-1;l>=0;l--){var p=u[l],f=p.screen_name,g="@"+f,v=$ESAPI.encoder().encodeForHTML(g),h=$ESAPI.encoder().encodeForHTMLAttribute(f),_='<a onclick="sE(event);" href="'+RebrandLinkUtil.getProperty("TW_URL")+"/"+h+'" target="_blank">'+v+"</a>";null===a?(v=new RegExp(v,"i"),t=t.replace(v,_)):(g=new RegExp(g,"i"),t=t.replace(g,_)),e.convo||void 0===e.user||p.screen_name===e.user.screen_name||(e.replytext=e.replytext+" @"+p.screen_name)}e.text=t}if(n.hashtags){var b=n.hashtags;for(l=b.length-1;l>=0;l--){var w="#"+b[l].text,k=$ESAPI.encoder().encodeForHTML(w),S=$ESAPI.encoder().encodeForHTMLAttribute(w),y='<a onclick="sE(event);" href="'+RebrandLinkUtil.getProperty("TW_URL")+"/search?q="+S+'&src=hash" target="_blank">'+k+"</a>";t=null===a?t.replace(k,y):t.replace(w,y)}e.text=t}if(n.symbols){var I=n.symbols;for(l=I.length-1;l>=0;l--){var $="$"+I[l].text,C=$ESAPI.encoder().encodeForHTML($),x=$ESAPI.encoder().encodeForHTMLAttribute($),E='<a onclick="sE(event);" href="'+RebrandLinkUtil.getProperty("TW_URL")+"/search?q="+x+'&src=ctag" target="_blank">'+C+"</a>";t=null===a?t.replace(C,E):t.replace($,E)}e.text=t}}return e}function m(e){if(e.replies&&e.replies.data){for(var a=e.replies.data,t=a.length,n=0;n<t;n++){var l=a[n];l.text=$ESAPI.encoder().encodeForHTML(l.text),l=c(l=d(l)),e.detail_view&&(l.detail_view=e.detail_view),a[n]=l}if(a.cursor){var i=[];i.push(l.id_str,30,a.cursor),e.replyDiv=I18n.getMsg("crm.nsocial.view.more.replies",i)}e.replies.data=a}return e}function u(e){var a=e.watching_profile_id;if(e.retweeted_status){var t=[],n=e.retweeted_status;t.push($ESAPI.encoder().encodeForHTML(e.user.name)),e.action=I18n.getMsg("crm.nsocial.tab.retweeted.by",t),e.user=n.user,e.text=$ESAPI.encoder().encodeForHTML(n.text),e.entities=n.entities,e.retweet_id=n.id_str,e.favorited=n.favorited,e.retweeted=n.retweeted,e.favorite_count=n.favorite_count,e.retweet_count=n.retweet_count}return e.retweeted||(e.retweet_id=e.id_str),e.user.id_str!==a?e.retweet_allowed=!0:e.retweet_allowed=!1,e}function p(t){t.text=t.full_text?t.full_text:t.text;var n=t.type;if(null===(a=t.text.match(e))&&(t.text=$ESAPI.encoder().encodeForHTML(t.text)),"message"===n)t.convo=!0;else{if((t=u(t)).create){var l=t.watching_profile_id,i=t.user.id_str;t.retweet_allowed=i!==l}t.self&&(t=m(t))}return t=d(t)}function f(e){if(-1!==e.indexOf("<a")){var a=e.split("<a"),t=a.length;if(t>1){e=a[0];for(var n=1;n<t;n++)e+='<a onclick="sE(event);" target="_blank"'+a[n]}}else for(var l=!0,i=0,s=0;l;){var o;if(0===i)i=-1!==(o=e.indexOf("http",0))?o:e.indexOf("www.",0);else i=-1!==(o=e.indexOf("http",i))?o:e.indexOf("www.",i);var r=e.indexOf(" ",i),c=e.indexOf("\n",i);if(-1!==r&&-1!==c?c<r?s=c:r<c&&(s=r):s=-1!==r?r:-1!==c?c:e.length,-1!==i){var d=e.substring(i,s);if(0===d.indexOf("www."))var m="<a onclick='sE(event);' href='//"+d+"' target = '_blank'>"+d+"</a>";else m="<a onclick='sE(event);' href='"+d+"' target = '_blank'>"+d+"</a>";e=e.replace(d,m),i+=m.length}-1!==i&&s!==e.length||(l=!1)}return e}function g(e){if(e.message_tags&&e.message&&"object"==typeof e.message_tags){var a=$ESAPI.encoder().encodeForHTML(e.message),t=e.message_tags;if(Array.isArray(t)){for(var n=t.length,l=0;l<n;l++){var i=t[l];if(""!==(m=$ESAPI.encoder().encodeForHTML(i.name))){var s=i.id,o='<a href="'+RebrandLinkUtil.getProperty("FB_URL")+"/"+s+'" target="_blank">'+m+"</a>";a=a.replace(m,o)}}e.message=a}else{if((n=Object.keys(t).length)>0){for(var r in t){var c=t[r],d=c.length;for(l=0;l<d;l++){var m;i=c[l];if(""!==(m=$ESAPI.encoder().encodeForHTML(i.name))){s=i.id,o='<a href="'+RebrandLinkUtil.getProperty("FB_URL")+"/"+s+'" target="_blank">'+m+"</a>";a=a.replace(m,o)}}}e.message=a}}}return e}function v(e){if(e.story_tags&&e.story&&"object"==typeof e.story_tags){var a=$ESAPI.encoder().encodeForHTML(e.story),t=e.story_tags;if(Array.isArray(t)){for(var n=t.length,l=0;l<n;l++){var i=t[l],s=$ESAPI.encoder().encodeForHTML(i.name),o=i.id,r='<a href="'+RebrandLinkUtil.getProperty("FB_URL")+"/"+o+'" target="_blank">'+s+"</a>";a=a.replace(s,r)}e.story=a}else{if((n=Object.keys(t).length)>0){for(var c in t){var d=t[c],m=d.length;for(l=0;l<m;l++){s=(i=d[l]).name,o=i.id,r='<a href="'+RebrandLinkUtil.getProperty("FB_URL")+"/"+o+'" target="_blank">'+s+"</a>";a=a.replace(s,r)}}e.story=a}}}return e}function h(e,a){var t=e.type;if(void 0!==a&&a&&(t=e.item),"link"===t){if(e.isLink=!0,e.event_details){var n=e.event_details;if(n.pic&&(e.picture=n.pic),n.name&&(e.name=n.name),n.location){var l=n.location,i="",s="";if(n.venue){var o=n.venue;o.city&&(i=o.city),o.country&&(s=o.country)}i.trim().isEmpty()||(l=l+", "+i),s.trim().isEmpty()||(l=l+", "+s),e.caption=l}}}else if("photo"===t){e.isPic=!0;var r=e.picture;r=r.replace("_s.jpg","_n.jpg"),e.picture=r}else"video"===t&&(e.isVid=!0);return e}function _(e){if(e.likes&&e.likes.data){var a=e.id,t=e.watching_profile_id,n=e.likes.data,l=n.length,i=[];i.push(RebrandLinkUtil.getProperty("FB_URL"));for(var s=-1,o=0;o<l;o++){if((r=n[o]).id===t){e.liked=!0,i.push(r.id,r.name),!0,s=o;break}}if(l>0){if(l>3){for(o=0;o<l&&o!==s;o++)if(i.length<5){var r=n[o];i.push(r.id,r.name)}i.push(a,l-2)}else for(o=0;o<l&&o!==s;o++){r=n[o];i.push(r.id,r.name)}1===l?e.likeDiv=I18n.getMsg("crm.nsocial.like.one",i):2===l?e.likeDiv=I18n.getMsg("crm.nsocial.like.two",i):3===l?e.likeDiv=I18n.getMsg("crm.nsocial.like.three",i):l>3&&(e.likeDiv=I18n.getMsg("crm.nsocial.likes",i))}}return e}function b(e){var a=e.interact,t=e.create;if(e.comments&&e.comments.data){for(var n=e.comments.data,l=n.length,i=0;i<l;i++){var s=n[i];s.interact=a,s.create=t;var o=s.id.split("_");if(s.message&&(s.message=$ESAPI.encoder().encodeForHTML(s.message),s.message=f(s.message)),s.permalink=RebrandLinkUtil.getProperty("FB_URL")+"/permalink.php?story_fbid="+o[0]+"&id="+e.id.split("_")[0]+"&comment_id="+o[1],s.attachment&&s.attachment.media){var r=s.attachment.media;r.image&&(s.picture=r.image.src,s.isPic=!0)}if(e.detail_view&&(s.detail_view=e.detail_view),(s=c(s)).replies){var d=s.replies;if(d.data){for(var m=d.data,u=m.length,p=0;p<u;p++){var g=m[p];g.message&&(g.message=$ESAPI.encoder().encodeForHTML(g.message),g.message=f(g.message));var v=(g=c(g)).id,h=g.parent?g.parent.id:s.id;g.permalink=RebrandLinkUtil.getProperty("FB_URL")+"/permalink.php?story_fbid="+h.split("_")[0]+"&id="+e.id.split("_")[0]+"&comment_id="+h.split("_")[1]+"&reply_comment_id="+v.split("_")[1],g.interact=a,g.create=t,m[p]=g}d.data=m}s.replies=d}}if(e.comments.cursor){var _=e.id,b=[];b.push(_,"facebook",30,e.comments.cursor),e.commentDiv=I18n.getMsg("crm.nsocial.view.more.comments",b)}}return e}function w(e){var a=e.type;if(e.message&&!e.message_tags&&(e.message=$ESAPI.encoder().encodeForHTML(e.message),e.message=f(e.message)),"message"===a)e.id=e.fb_conversation_id,e.convo=!0;else{if(e.from.profile_pic=RebrandLinkUtil.getProperty("FB_GRAPH_URL")+"/"+e.from.id+"/picture",e.comment_id){var t=e.comment_id.split("_");e.permalink=RebrandLinkUtil.getProperty("FB_URL")+"/permalink.php?story_fbid="+t[0]+"&id="+e.id.split("_")[0]+"&comment_id="+t[1]}else{t=e.id.split("_");e.permalink=RebrandLinkUtil.getProperty("FB_URL")+"/permalink.php?story_fbid="+t[1]+"&id="+t[0]}(e=v(e=g(e=h(e)))).self&&(e=b(e=_(e)))}return e}function k(a){if(a.object&&a.object.replies&&a.object.replies.data){for(var t=a.object.replies.data,n=t.length,l=0;l<n;l++){var i=t[l];(i=c(i)).inReplyTo&&(i.url=i.inReplyTo[0].url),i.object&&null===i.object.content.match(e)&&(i.object.content=$ESAPI.encoder().encodeForHTML(i.object.content)),t[l]=i}if(a.object.replies.data=t,a.object.replies.cursor){var s=a.id,o=[];o.push(s,"googleplus",30,a.object.replies.cursor),a.commentDiv=I18n.getMsg("crm.nsocial.view.more.comments",o)}}return a}function S(e){if(e.object){var a=e.object;if(a.attachments){var t=a.attachments,n=t.length;n>1&&(e.attachment_length=n);var l=t[0],i=null;l.objectType&&(i=l.objectType),null!==i&&(e[i]=l)}}return e}function y(a){return a.self&&(a=S(a=k(a))),a.title&&null===a.title.match(e)&&(a.title=$ESAPI.encoder().encodeForHTML(a.title)),a}function I(l){if(void 0!==l.followInformation)if(l.followInformation.length<1){if((g=l.followInformation[0])&&g.brid)(f=T.perm[g.brid])&&f.info&&g.source&&(g.source.profile_image_url_https=f.info.profile_image_url_https);l.singleBrand=!0}else{var i=0;l.singleUserFollowing=!1;var s=l.currentBrand;if(s&&s.brid){var o=T.perm[s.brid];o&&o.info&&s.source&&(s.source.profile_image_url_https=o.info.profile_image_url_https)}if(!0===l.currentBrand.source.following&&(l.singleUserFollowing=!0),!0===l.currentBrand.source.can_dm&&(i+=1),l.followInformation.length>0)for(var r=l.followInformation.length,p=0;p<r;p++){var f,g=l.followInformation[p];(f=T.perm[g.brid])&&f.info&&g.source&&(g.source.profile_image_url_https=f.info.profile_image_url_https),!0===g.source.following&&(l.singleUserFollowing=!0),!0===g.source.can_dm&&(l.dmHandle=g,i+=1)}i>1&&(l.mulitpleHanldeDm=!0)}if(l.convo&&l.data){var v=l.data,h=v.length,_=l.watching_profile_id,b=!1;for(p=0;p<h;p++){var w=v[p];null===(a=w.text.match(e))&&(w.text=$ESAPI.encoder().encodeForHTML(w.text)),w.convo=!0,w=c(w=d(w)),l.detail_view&&(w.detail_view=l.detail_view),w.sender_id_str!==_?(b||(l.user=w.sender,b=!0),w.left=!0):(b||(l.user=w.recipient,b=!0),w.right=!0),v[p]=w}l.data=v}else{if(null===(a=l.text.match(e))&&(l.text=$ESAPI.encoder().encodeForHTML(l.text)),(l=u(l)).create){_=l.watching_profile_id;var k=l.user.id_str;l.retweet_allowed=k!==_}if((l=d(l=m(l))).user.statuses_count)if((i=l.user.statuses_count)/t>=1){if(i/t<1e3)S=(S=i/t).toFixed(2),S+=I18n.getMsg("crm.social.thousands");else if(i/n>=1){S=(S=i/n).toFixed(2),S+=I18n.getMsg("crm.social.millions")}l.user.statuses_count=S}if(l.user.friends_count)if((i=l.user.friends_count)/t>=1){if(i/t<1e3)S=(S=i/t).toFixed(2),S+=I18n.getMsg("crm.social.thousands");else if(i/n>=1){S=(S=i/n).toFixed(2),S+=I18n.getMsg("crm.social.millions")}l.user.friends_count=S}if(l.user.followers_count)if((i=l.user.followers_count)/t>=1){if(i/t<1e3)S=(S=i/t).toFixed(2),S+=I18n.getMsg("crm.social.thousands");else if(i/n>=1){var S;S=(S=i/n).toFixed(2),S+=I18n.getMsg("crm.social.millions")}l.user.followers_count=S}}return l}function C(e){var a=e.network,t=T.perm[e.brid];switch((e=i(e)).formatted_time&&(e=c(e)),a){case"twitter":e.br_name=$ESAPI.encoder().encodeForHTML(t.info.name),e.br_img=t.info.profile_image_url_https?t.info.profile_image_url_https:t.info.image,e.watching_profile_id=t.info.id_str,e=I(e);break;case"facebook":e.br_name=$ESAPI.encoder().encodeForHTML(t.info.name),e.br_img=RebrandLinkUtil.getProperty("FB_GRAPH_URL")+"/"+t.info.id+"/picture",e.watching_profile_id=t.info.id,e=function(e){if(e.convo&&e.data){var a=e.data,t=a.length,n=e.watching_profile_id,l=!1;e.id=e.fb_conversation_id,e.convo=!0;for(var i=0;i<t;i++){var s=a[i];if(s.message&&(s.message=$ESAPI.encoder().encodeForHTML(s.message),s.message=f(s.message)),s=c(s=o(s)),e.detail_view&&(s.detail_view=e.detail_view),s.from.id!==n)l||(e.from=s.from,l=!0),s.left=!0;else for(var r=s.to.data,d=r.length,m=0;m<d;m++){var u=r[m];u.id!==n&&(l||(e.from=u,l=!0),s.right=!0)}a[i]=s}e.data=a}else{e.from.profile_pic=RebrandLinkUtil.getProperty("FB_GRAPH_URL")+"/"+e.from.id+"/picture";var p=e.id.split("_");e.permalink=RebrandLinkUtil.getProperty("FB_URL")+"/permalink.php?story_fbid="+p[1]+"&id="+p[0],e.message&&!e.message_tags&&(e.message=$ESAPI.encoder().encodeForHTML(e.message),e.message=f(e.message)),e=_(e=b(e=v(e=g(e=h(e)))))}return e}(e);break;case"googleplus":e.br_img=t.info.data.image.url,e.br_name=$ESAPI.encoder().encodeForHTML(t.info.data.displayName),e.watching_profile_id=t.info.data.id,e=function(e){return e.network="googleplus",e.title&&(e.title=f(e.title)),k(e=S(e))}(e);break;default:e.network="twitter",e.br_name=$ESAPI.encoder().encodeForHTML(t.info.name),e.br_img=t.info.profile_image_url_https?t.info.profile_image_url_https:t.info.image,e.watching_profile_id=t.info.id_str,e=I(e)}return e=s(e)}function x(e){!function(){for(var e=crmSocial.layout,a=e.length,t=0;t<a;t++){var n=e[t];if(n.socialVal){for(var l=n.socialVal,i=[],s=l.length,o=0;o<s;o++){var r=l[o];"crm"===r.network&&i.push(r)}i.length>0?n.socialVal=i:delete n.socialVal}e[t]=n}crmSocial.layout=e}();for(var a=crmSocial.layout,t=a.length,n=crmSocial.selectedProfiles,l=n.length,i=[],s=0;s<t;s++){"Formula"!==(d=a[s]).type&&i.push(d)}i.length>0&&(t=(a=i).length);for(var o=0;o<l;o++){var r=n[o],c=null;r.id_str?c="twitter":r.displayName?c="googleplus":r.crm||(c="facebook");for(s=0;s<t;s++){var d,m={};switch(m.network=c,(d=a[s]).colname){case"FIRSTNAME":var u=null;if("twitter"===c||"facebook"===c?u=r.name:"googleplus"===c&&(u=r.name?r.name.givenName:r.displayName),m.title="Name","googleplus"===c&&r.name)m.value=u;else if(null!==u){1!==(p=u.split(" ")).length&&(m.value=p[0].trim())}break;case"LASTNAME":u=null;if("twitter"===c||"facebook"===c?u=r.name:"googleplus"===c&&(u=r.name?r.name.familyName:r.displayName),"googleplus"===c&&r.name)m.value=u;else if(null!==u){var p,f=null;if(1===(p=u.split(" ")).length)f=p[0];else for(var g=p.length,v=1;v<g;v++)f=null===f?p[v]:f+" "+p[v];m.value=f.trim()}m.title="Name";break;case"TWITTER":"twitter"===c&&(m.value=r.screen_name.trim()),m.title="Twitter Handle";break;case"DESCRIPTION":"twitter"===c&&r.descrpiton&&null!==r.description?m.value=r.description.trim():"googleplus"===c&&r.tagline&&null!==r.tagline&&(m.value=r.tagline.trim()),m.title="Description";break;case"MAILINGCOUNTRY":var h=null;if("twitter"===c&&r.location&&null!==r.location&&""!==r.location)(w=r.location.split(", ")).length>0&&(h=w[w.length-1]);else if("googleplus"===c&&r.placesLived){var _=(y=r.placesLived).length;for(v=0;v<_;v++){if((S=y[v]).primary&&S.primary)(y=(S=S.value).split(",")).length>0&&(h=y[y.length-1])}}null!==h&&(m.value=h.trim()),m.title="Location";break;case"MAILINGSTATE":var b=null;if("twitter"===c&&r.location&&null!==r.location)(w=r.location.split(", ")).length>1&&(b=w[w.length-2]);else if("googleplus"===c&&r.placesLived)for(_=(y=r.placesLived).length,v=0;v<_;v++){if((S=y[v]).primary&&S.primary)(y=(S=S.value).split(",")).length>1&&(b=y[y.length-2])}null!==b&&(m.value=b.trim()),m.title="Location";break;case"MAILINGCITY":var w,k=null;if("twitter"===c&&r.location&&null!==r.location)3===(w=r.location.split(", ")).length&&(k=w[0]);else if("googleplus"===c&&r.placesLived)for(_=(y=r.placesLived).length,v=0;v<_;v++){var S,y;if((S=y[v]).primary&&S.primary)3===(y=(S=S.value).split(",")).length&&(k=y[0])}null!==k&&(m.value=k.trim()),m.title="Location";break;case"TITLE":if("googleplus"===c&&r.organizations){var I=(C=r.organizations).length;for(v=0;v<I;v++){(x=C[v]).primary&&(m.value=x.title)}}m.title="Work";break;case"ACCOUNTID":if("googleplus"===c&&r.organizations&&"googleplus"===c)for(I=(C=r.organizations).length,v=0;v<I;v++){(x=C[v]).primary&&(m.value=x.name)}m.title="Work";break;case"COMPANY":if("googleplus"===c&&r.organizations){var C;for(I=(C=r.organizations).length,v=0;v<I;v++){var x;(x=C[v]).primary&&(m.value=x.name)}}m.title="Work";break;case"BIRTHDAY":if("googleplus"===c&&r.birthday){var E=Crm.userDetails.DATE_PATTERN,T=r.birthday.split("-"),L=T[0],P=T[1],R=T[2],A=null;switch(E){case"dd/MM/yyyy":default:A=R+"/"+P+"/"+L;break;case"dd/yyyy/MM":A=R+"/"+L+"/"+P;break;case"MM/dd/yyyy":A=P+"/"+R+"/"+L;break;case"MM/yyyy/dd":A=P+"/"+L+"/"+R;break;case"yyyy/dd/MM":A=L+"/"+R+"/"+P;break;case"yyyy/MM/dd":A=L+"/"+P+"/"+R}m.value=A}m.title="Birthday"}if(m.value){var B=d.fieldid,N=$("#"+B+"_field_row");if(d.isUsed=!0,d.socialVal){for(var F=d.socialVal,H=F.length,M=0,D=0;D<H;D++){F[D].network===c&&M++}0===M&&d.socialVal.push(m),a[s]=d,N.length>0&&(N.next().remove(),N.remove())}else d.socialVal=[],m.isActive=!0,d.socialVal.push(m),a[s]=d,N.length>0&&(N.next().remove(),N.remove())}else"true"===d.mandate&&(d.isUsed=!0,a[s]=d)}}crmSocial.layout=a,function(){for(var e=crmSocial.layout,a=e.length,t=[],n=0;n<a;n++){var l=e[n];l.socialVal||"true"===l.mandate||t.push(l)}crmSocial.currentFields=t}()}function E(e){$(e).keyup((function(){T.checkSocialDataChanges(event)}))}var T={processPermissions:function(e){return function(e){e.permissions&&(T.perm=e.permissions)}(e)},processInteractability:function(e){return i(e)},processPostForKanbanView:function(e){return function(e){if(e.data){for(var a=e.data,t=a.length,n=0;n<t;n++){var l=a[n];if(!l.cursor){l=i(l);var o=T.perm[l.brid],d=l.network;l.br_name="googleplus"!==d?$ESAPI.encoder().encodeForHTML(o.info.name):$ESAPI.encoder().encodeForHTML(o.info.data.displayName),void 0===l.br_name&&(l.br_name=$ESAPI.encoder().encodeForHTML(o.info.name)),l.self?l.self&&(l.actionable=!0):l=r(l),l.formatted_time&&(l=c(l)),"twitter"===d?(l.br_img=o.info.profile_image_url_https?o.info.profile_image_url_https:o.info.image,l=p(l)):"facebook"===d?(l.br_img=RebrandLinkUtil.getProperty("FB_GRAPH_URL")+"/"+o.info.id+"/picture",(l=w(l)).user=l.from):"googleplus"===d?(l.br_img=o.info.data.image.url,(l=y(l)).user=l.actor):l.user&&(l.br_img=o.info.profile_image_url_https?o.info.profile_image_url_https:o.info.image,l.network="twitter",l=p(l)),void 0===l.br_img&&(l.br_img=o.info.image),l=s(l),a[n]=l}}e.data=a}return e}(e)},processPostForDetailView:function(e){return C(e)},processPostForNotification:function(e){return function(e){var a=T.perm[e.brid],t=e.network,n=e.type;if(e.entitytype||(e.entitytype=function(e){if(e.filterId)for(var a=e.filterId,t=a.length,n=0;n<t;n++){var l=a[n];if("crm_closed_potential_contact"===l||"crm_potential_contact"===l||"crm_contact"===l||"crm_lead"===l)return l}}(e)),"twitter"===t){e.br_name=$ESAPI.encoder().encodeForHTML(a.info.name),e.br_img=a.info.profile_image_url_https,e.user[e.entitytype]=!0;var l=[];"mention"===n?(l.push($ESAPI.encoder().encodeForHTML(e.user.name)),e.action=I18n.getMsg("crm.nsocial.tab.action.mentioned",l)):"reply"===n?(l.push($ESAPI.encoder().encodeForHTML(e.user.name),e.br_name),e.action=I18n.getMsg("crm.nsocial.tab.action.replied.tweet",l)):"message"===n&&(l.push(e.br_name),e.action=I18n.getMsg("crm.nsocial.tab.action.convo.replied",l))}else"facebook"===t?(e.br_name=$ESAPI.encoder().encodeForHTML(a.info.name),e.br_img=RebrandLinkUtil.getProperty("FB_GRAPH_URL")+"/"+a.info.id+"/picture",e.from[e.entitytype]=!0,l=[],"status"===n?(l.push(e.br_name),e.action=I18n.getMsg("crm.nsocial.tab.action.page.posted",l)):"comment"===n?(l.push($ESAPI.encoder().encodeForHTML(e.from.name),e.br_name),e.action=I18n.getMsg("crm.nsocial.tab.action.page.commented",l)):"message"===n&&(l.push($ESAPI.encoder().encodeForHTML(e.br_name)),e.action=I18n.getMsg("crm.nsocial.tab.action.convo.replied",l))):"googleplus"===t&&(e.br_name=$ESAPI.encoder().encodeForHTML(a.info.data.displayName),e.br_img=a.info.data.image.url,e.actor[e.entitytype]=!0,l=[],"reply"===n&&(l.push($ESAPI.encoder().encodeForHTML(e.actor.displayName),e.br_name),e.action=I18n.getMsg("crm.nsocial.tab.action.page.gplus.commented",l)));return e=s(e=c(e=i(e))),"message"===n&&(e=function(e,a){return"twitter"===e.network&&(e.sender_id_str!==a?e.user=e.sender:e.user=e.recipient),e}(e,e.watching_profile_id)),"twitter"===t?(e.text=e.full_text?e.full_text:e.text,e=p(e)):"facebook"===t?e=w(e):"googleplus"===t&&(e.title&&""!==e.title||(e.title=e.object.content),e=y(e)),e}(e)},processPostForSalesSignals:function(t){return function(t){var n=t.metadata,l=n.network;if("twitter"===l){var i=n.type;void 0!==n.text?null===(a=n.text.match(e))&&(n.text=$ESAPI.encoder().encodeForHTML(n.text)):n.text="",void 0!==i&&"message"===i&&(n.convo=!0),n=d(n)}else"facebook"===l&&(void 0!==n.message&&(n.message=$ESAPI.encoder().encodeForHTML(n.message),n.message=n.message.replace("\n","<br>")),n=o(n=h(n,!0)));return n}(t)},formatFacebookNotificationJSON:function(e){return function(e){var a={},t={};for(var n in t.id=e.sender_id,t.name=e.sender_name,e)"sender_id"===n&&"sender_name"===n||("parent_id"===n||"post_id"===n?a.id=e[n]:a[n]=e[n]);return a.from=t,a}(e)},processSearchPosts:function(e,t){return function(e,t){if(e.data){for(var n=e.data,l=n.length,i=0;i<l;i++){var s=n[i];if("twitter"===s.network){var o=null;if(s.entities){var r=s.entities;if(r.user_mentions)for(var c=r.user_mentions,d=c.length-1;d>=0;d--){var m=c[d];if(m.screen_name.indexOf(t.toLowerCase())>-1){var u="@"+m.screen_name,p=$ESAPI.encoder().encodeForHTML(u);o=null===a?new RegExp("("+p+")","gim"):new RegExp("("+u+")","gim"),s.text=s.text.replace(o,'<span class="kso_highlight">$1</span>')}}if(r.hashtags){var f=r.hashtags;for(d=f.length-1;d>=0;d--){var g=f[d];if(g.text.toLowerCase().indexOf(t.toLowerCase())>-1){var v="#"+g.text,h=$ESAPI.encoder().encodeForHTML(v);o=null===a?new RegExp("(>"+h+"<)","gim"):new RegExp("(>"+v+"<)","gim"),s.text=s.text.replace(o,'><span class="kso_highlight"$1/span><')}}}if(r.symbols){var _=r.symbols;for(d=_.length-1;d>=0;d--){var b=_[d];if(b.text.toLowerCase().indexOf(t.toLowerCase())>-1){var w="$"+b.text,k=$ESAPI.encoder().encodeForHTML(w);o=null===a?new RegExp("(>"+k+"<)","gim"):new RegExp("(>"+w+"<)","gim"),s.text=s.text.replace(o,'><span class="kso_highlight"$1/span><')}}}null===o&&(o=new RegExp("("+t+")","gim"),s.text=s.text.replace(o,'<span class="kso_highlight">$1</span>'))}}n[i]=s}return e.data=n,e}return e}(e,t)},processFacebookLikes:function(e){return _(e)},processFacebookComments:function(e){return b(e)},processFacebookReplies:function(e){return function(e){var a=e.interact,t=e.create;if(e.replies){var n=e.replies;if(n.data){for(var l=n.data,i=l.length,s=0;s<i;s++){var o=l[s];o.message&&(o.message=$ESAPI.encoder().encodeForHTML(o.message),o.message=f(o.message));var r=(o=c(o)).id,d=o.parent?o.parent.id:e.id;o.permalink=RebrandLinkUtil.getProperty("FB_URL")+"/permalink.php?story_fbid="+d.split("_")[0]+"&id="+e.id.split("_")[0]+"&comment_id="+d.split("_")[1]+"&reply_comment_id="+r.split("_")[1],o.interact=a,o.create=t,o.reply=!0,l[s]=o}n.data=l}e.replies=n}if(e.replies.cursor){var m=json.id,u=[];u.push(m,"facebook",30,json.replies.cursor),e.commentDiv=I18n.getMsg("crm.nsocial.view.more.comments",u)}return e}(e)},processLinks:function(e){return f(e)},processActivityLogPosts:function(e){return function(e){if(e.actList){for(var a=e.actList,t=a.length,n=0;n<t;n++){var l=a[n];l.no_content||((l=c(l,!0)).formatted_time?l=c(l):l.tweet&&l.reply?(l.tweet=c(l.tweet),l.reply=c(l.reply)):l.post&&l.comment&&(l.post=c(l.post),l.comment=c(l.comment)),a[n]=l)}e.actList=a}return e}(e)},checkImageValidity:function(e){return function(e){var a=e.size;if(a>37748736)return!1;for(var t=$("#target_network .twicon-small"),n=t.length,l=0,i=0;i<n;i++)$(t.eq(i)).parent().hasClass("profile-disabled")&&l++;if(n!==l&&a>3145728)return!1;for(n=(t=$("#target_network .fbicon-small")).length,l=0,i=0;i<n;i++)$(t.eq(i)).parent().hasClass("profile-disabled")&&l++;if(n!==l&&a>26214400)return!1;for(n=(t=$("#target_network .gpicon-small")).length,l=0,i=0;i<n;i++)$(t.eq(i)).parent().hasClass("profile-disabled")&&l++;return!(n!==l&&a>37748736)}(e)},processBrandInfo:function(e){return function(e){if(e.twitter)for(var a=e.twitter,t=a.length,n=0;n<t;n++){var l=a[n],i=(p=l.info).entities;if(i){if((d=i.url)&&d.urls.length>0)for(var s=d.urls,o=s.length,r=0;r<o;r++){var c=s[r],d='<span class="lh18 greyText" onclick="window.open(\''+c.expanded_url+"', '_blank');\">"+c.display_url+"</span>";p.url=d}l.info=p,a[n]=l}}else if(e.facebook){var m=e.facebook,u=m.length;for(n=0;n<u;n++)var p=m[n].info}return e}(e)},processGooglePlusComments:function(e){return k(e)},processEntityData:function(e){return x()},processAssociationEntity:function(e){return function(e){for(var a=crmSocial.layout,t=a.length,n=[],l=0;l<t;l++){var i=a[l],s={};if(s.currentField=i,s.module=crmSocial.addEntityModule,s.loadingFrom="crmSocialTab",i.defaultvalue&&""!==i.defaultvalue&&"false"!==i.defaultvalue){if("SMOWNERID"!==i.colname&&"LAYOUTID"!==i.colname){if(e&&"TWITTER"===i.colname)continue;void 0!==window[s.module]&&(window[s.module].formulaObj=new crmFormulaInit,window[s.module].formulaObj.resetProps()),crmTemplate.createFieldLabel(s),crmTemplate.createFieldContent(s);var o={network:"crm"};"Date"===i.type?o.value=i.attrObj.value:o.value=i.defaultvalue,o.title=i.displaylabel,o.isActive=!0,i.socialVal=[],i.socialVal.push(o),i.isUsed=!0}"LAYOUTID"===i.colname&&(crmSocial.selectedLayout=i.defaultid)}"SMOWNERID"!==i.colname&&"LAYOUTID"!==i.colname&&n.push(i)}crmSocial.layout=a,x()}(e)},renderEntityCreateForm:function(){return function(){for(var e=crmSocial.layout,a=e.length,t=0;t<a;t++){var n=e[t],l={};if(n.changeOwnerPermission&&(l.changeOwnerPermission=n.changeOwnerPermission),"66"!==n.uitype&&"555"!==n.uitype&&"556"!==n.uitype){if("LEADSOURCE"===n.colname&&"true"!==n.readonly){var i=crmSocial.addEntityNetwork;i=i.charAt(0).toUpperCase()+i.substring(1),n.defaultvalue=i}l.currentField=n,l.module=crmSocial.addEntityModule,l.loadingFrom="crmSocialTab";var s=n.fieldid;if(n.socialVal||"true"===n.mandate){$("#custom_"+s).length>0&&$("#"+s+"_field_row").remove(),void 0!==window[l.module]&&(window[l.module].formulaObj=new crmFormulaInit,window[l.module].formulaObj.resetProps());var o=crmTemplate.createFieldLabel(l),r=crmTemplate.createFieldContent(l),c=$(Handlebars.templates.SocialEntityRow(n)),d=$(r).find("input"),m=$(r).find("textarea");n.socialVal&&("Text"===n.type||"Date"===n.type||"Lookup"===n.type?d.val(n.socialVal[0].value):"TextArea"===n.type?m.val(n.socialVal[0].value):"Double"===n.type&&$(r).find("span").html($ESAPI.encoder().encodeForHTML(n.socialVal[0].value)),n.socialVal.length>1&&$(r).append('<span class="socialImg textfield_arrow" onclick="sE(event); crmSocialEntity.showValues(this);"></span>'),"Text"!==n.type&&"TextArea"!==n.type||E(r)),"FIRSTNAME"===n.colname&&$(r).find(".firstSal").remove(),"Twitter"===d.attr("data-zcqa")?d.css("width","87%"):"Currency"===d.attr("data-content-type")?d.css("width","86%"):d.css("width","90%");var u=$(c.eq(0));if(u.find("#"+n.fieldid+"_label").append(o)[0],u.find("#"+n.fieldid+"_input #val_prefix").after(r)[0],$("#new_entityfield").append(c),$(r).find('input[data-cid="showLookup"]').attr("onclick","sE(event);"),$(r).find('img[data-cid="showLookup"]').removeClass("mR5"),$(r).find('img[data-cid="clearLookup"]').removeClass("mR10"),"TextArea"===n.type||"Medium Text"===n.type?m.css({width:"94%",border:"none","background-color":"transparent",height:"30px"}):"Lookup"===n.type&&d.css("width","81%"),"SMOWNERID"===n.colname){var p=$("#ownerNameLookupSpan"),f=$('[name="searchUserLookup"]').attr("title");renderingUtils.setTooltip(p[0],f)}$(o).hasClass("newmandatory")&&$(o).parent().eq(0).addClass("entity_mandate");var g=$(r).find("select");g.length>0&&thirdPartyUtils.bindSelect2(g)}}}}()},checkSocialDataChanges:function(e){return function(e){if(e){for(var a=$(e.target),t=(a=a[0]).val(),n=a.closest(".labelValCreate"),l=n.parent().attr("id").split("_")[0],i=$($("#"+l+"_select").eq(0)).find("li"),s=!1,o=i.length,r=0;r<o;r++){var c=i[r];$(c).attr("data-value").toLowerCase()===t.toLowerCase()&&(s=!0)}if(!s){var d=n.siblings(".twicon-small"),m=n.siblings(".fbicon-small"),u=n.siblings(".gpicon-small");d.length>0&&d.addClass("socialImgsvg").addClass("twsmallgray").removeClass("twicon-small"),m.length>0&&m.addClass("socialImgsvg").addClass("fbsmallgray").removeClass("fbicon-small"),u.length>0&&u.addClass("socialImgsvg").addClass("gpsmallgray").removeClass("gpicon-small")}}}(e)},procsesSearchedEntities:function(e){return function(e){return e.items&&(e.data=e.items,delete e.items),e}(e)},processTwitter:function(e){return p(e)},processGooglePlus:function(e){return y(e)},getImageFromTwitter:function(e,a){return function(e,a){if(l)setTimeout((function(){T.getImageFromTwitter(e,a)}),500);else{l=!0;var t={action:"get_updated_screen_name"};t.twitter_user_id=a,(new crmRequestPool).initiate({action:crmSocial.url,data:t,success:function(a){if(l=!1,(a=JSON.parse(a)).screen_name){(e=$(e)).removeAttr("onerror"),e.attr("src",a.profile_image_url_https),e.attr("onclick",'sE(event); window.open("'+RebrandLinkUtil.getProperty("TW_URL")+'"/""'+a.screen_name+'", "_blank");');var t=$(e.parent()).next(),n=t.find(".when");t.find(".whois").attr("href",RebrandLinkUtil.getProperty("TW_URL")+"/"+a.screen_name).html(a.name);var i=n.attr("href"),s=i.substring(i.indexOf("status/")+"status/".length);n.attr("href",RebrandLinkUtil.getProperty("TW_URL")+"/"+a.screen_name+"/status/"+s)}}})}}(e,a)},openPopup:function(e){return openPopup(e)},processTime:function(e,a){return c(e,a)},processFacebookStreams:function(e){return function(e){return e.message&&!e.message_tags&&(e.message=$ESAPI.encoder().encodeForHTML(e.message)),(e=v(e=g(e=h(e)))).self&&(e=b(e=_(e))),e.message&&(e.message=f(e.message)),e}(e)}};window.crmSocialUtil=T}(),function(){function e(e,t,n,l,i){var s=$("#association_search").val();if(""!==s){var o={action:"get_association"};if(o.searchvalue=s,l&&""!==l&&(o.crmModule=l),i)$("#more_associations").remove(),o.sindex=i;else{var r=$("#association_results");r.html('<img src="'+networkUtils.getImageUrl("social_loading_599c9b1_.gif",ResourceConstants.CRM)+'" class="mL100 mT50" style="display:block" />')}(new crmRequestPool).initiate({action:crmSocial.url,data:o,success:function(l){var s=JSON.parse(l);setTimeout((function(){var e,a,t,n,l;$("#feed_detail_container").is(":visible")||(e="social_create",a=renderingUtils.windowHeight,t=$("#"+e),n=parseInt(t.css("top")),l=t.outerHeight(),a<n+l+20&&t.animate("top",crmSocial.topBandHeight))}),300),s.none?(Crm.userDetails.permissions.Crm_Implied_Create_Leads&&(s.lead=moduleRecordMapping.Leads.singular_label),Crm.userDetails.permissions.Crm_Implied_Create_Contacts&&(s.contact=moduleRecordMapping.Contacts.singular_label)):(s.profileid=e,s.brid=n,s.network=t),i?r.append(Handlebars.templates.AssociationList(s)):r.html(Handlebars.templates.AssociationList(s)),a(),s.none&&(crmSocial.keySearch?delete crmSocial.keySearch:renderingUtils.triggerEvent("click",$("#add_entity")))}})}}function a(){var e=$("#association_results"),a=$("#social_create"),t=a.css("height"),n=e.children().length;if(n>5)e.css({height:275,"overflow-y":"scroll"}),a.css("height",t+220);else{var l=$("#entitySection").outerHeight(),i=$("#association_div").children().eq(0).outerHeight();e.css("height",55*n),a.css("height",l+i+55*n+20)}}function t(){if("none"===$("#feed_detail_container").css("display")){var e=$("#ks_unknown_ul").find("li");e.hasClass("selected_feed")&&e.removeClass("selected_feed"),$("#social_create").html("").css({display:"none",height:"",left:"602px"})}else{var a=$("#add_entity");a.length>0&&renderingUtils.triggerEvent("click",a),$("#entity_save").addClass("dN"),$("#kso_rightPanel_Card").removeAttr("style"),$("#module_option .entitySelected").removeClass("entitySelected");var t=$("#entity_create_outer");t.scrollTop(0),t.perfectScrollbar("destroy")}$("#social_container").css("overflow-x","auto"),delete crmSocial.selectedProfile,delete crmSocial.addEntityModule,delete crmSocial.addEntityNetwork,n()}function n(){delete crmSocial.selectedProfileIds,delete crmSocial.selectedProfiles,delete crmSocial.layout,delete crmSocial.selectedLayout,delete crmSocial.associateEntityId,delete crmSocial.associateModule,delete crmSocial.twAssociated,delete crmSocial.fbAssociated,delete crmSocial.gpAssociated,delete crmSocial.keySearch}function l(){$("#WarningDiv").css("top","-500px"),removeFreezeLayer()}function i(e,a,t,n,i,s){var r={action:"get_association_entity"};r.profile_id=t,r.module=a,r.entity_id=n,r.network=i,crmSocial.addEntityModule=a,crmSocial.addEntityNetwork=i,$("#entity_overwrite").html('<div class="newgraybtn dIB"><img src="'+networkUtils.getImageUrl("social_loading_599c9b1_.gif",ResourceConstants.CRM)+'"></div>'),$("#module_option").closest("#kso_rightPanel_Card").length>0&&$("#kso_rightPanel_Card").animate({width:"490px"}).css({"border-left":"1px solid #b2b2b2","box-shadow":"0px 0px 20px 0px #bcbcbc"}),(new crmRequestPool).initiate({action:crmSocial.url,data:r,success:function(e){if(e=JSON.parse(e),s){l(),e.overwrite=s;for(var t=e.profiles,r=t.length,d=crmSocial.currentProfile,m=[],u=0;u<r;u++){var p=t[u];(d.twitter&&!p.twitter||d.facebook&&!p.facebook||d.googleplus&&!p.googleplus)&&m.push(p)}e.profiles=m}e.profiles.push(crmSocial.currentProfile),e.accounts.twitter&&(crmSocial.twConfigured=!0,crmSocial.currentProfile.twitter&&(e.warning=!0)),e.accounts.facebook&&(crmSocial.fbConfigured=!0,crmSocial.currentProfile.facebook&&(e.warning=!0)),e.accounts.gplus&&(crmSocial.gpConfigured=!0,crmSocial.currentProfile.googleplus&&(e.warning=!0));var f=e.profiles.length;crmSocial.selectedProfileIds||(crmSocial.selectedProfileIds={}),crmSocial.selectedProfiles||(crmSocial.selectedProfiles=[]);for(u=0;u<f;u++){var v=e.profiles[u];v.id_str?(crmSocial.twAssociated=!0,crmSocial.selectedProfileIds.twitter=v.id_str):v.displayName?(crmSocial.gpAssociated=!0,crmSocial.selectedProfileIds.googleplus=v.id):v.crm||(crmSocial.fbAssociated=!0,crmSocial.selectedProfileIds.facebook=v.id)}crmSocial.selectedProfiles=e.profiles,e.entityId=n,g.processEntityLayouts(e),crmSocial.associateEntityId=n,crmSocial.associateModule=a,crmSocialUtil.processAssociationEntity(s),e.network=i,c(),Handlebars.registerPartial("SocialEntityLayout",Handlebars.templates.SocialEntityLayout),$("#entity_form_container").html(Handlebars.templates.SocialEntityDataMapping(e)),crmSocialUtil.renderEntityCreateForm(),thirdPartyUtils.bindSelect2($("#layoutChosen").find("select")),$("#entity_create_parent").removeClass("dN"),$("#association_div").css("display","none"),$("#entity_save").removeClass("dN"),$("#add_options").addClass("dN"),o()}})}function s(e){1===$("#feed_detail_container:visible").length?(crmSocial.shouldReloadContactsAndUnknown||(crmSocial.markedEntityJsonResponse=[],crmSocial.shouldReloadContactsAndUnknown=!0),crmSocial.markedEntityJsonResponse.push(e),crmSocial.showEntityLinkForUnknownFeedOrPost($(".selected_feed")),t()):(t(),crmSocial.refresh("contacts_and_leads",$("#contacts_and_leads_refresh")),crmSocial.refresh("others",$("#others_refresh")))}function o(){$("#social_create").css({height:crmSocial.windowHeight,top:$("#tabLayer").height()});var e=$("#entity_create_outer"),a=$("#entitySection").outerHeight()+$("#entity_save").outerHeight();1===e.length&&(e.perfectScrollbar("destroy"),e.css({height:crmSocial.windowHeight-a,overflow:"hidden"}),$("#entity_create_inner").css("height","auto"),e.perfectScrollbar({wheelSpeed:1,wheelPropagation:!0,suppressScrollX:!1}))}function r(e,a,t){Crm.userDetails.isPhoneNoNewView&&Crm.loadPhoneFieldComponentJSFiles();var n={},l=crmSocial.windowHeight-$("#entitySection").outerHeight()-29;n.action="get_social_create",n.module=e,crmSocial.selectedProfiles||(crmSocial.selectedProfiles=[],crmSocial.selectedProfile={},crmSocial.selectedProfile[t]=crmSocial.currentProfile,crmSocial.selectedProfiles.push(crmSocial.currentProfile),crmSocial.selectedProfileIds={},crmSocial.selectedProfileIds[t]||(crmSocial.selectedProfileIds[t]="twitter"===t?crmSocial.currentProfile.id_str:crmSocial.currentProfile.id)),crmSocial.addEntityModule=e,crmSocial.addEntityNetwork=t,$("#add_options").animate({padding:"18px 0px 15px 0"},250),"Leads"===e?($("#entityAddlead").addClass("entitySelected"),$("#entityAddcontact").removeClass("entitySelected")):"Contacts"===e&&($("#entityAddcontact").addClass("entitySelected"),$("#entityAddlead").removeClass("entitySelected"));var i=$("#addContact_loading");i.hasClass("dN")&&i.removeClass("dN"),$("#module_option").closest("#kso_rightPanel_Card").length>0&&$("#kso_rightPanel_Card").animate({width:"490px"}).css({"border-left":"1px solid #b2b2b2","box-shadow":"0px 0px 20px 0px #bcbcbc"}),(new crmRequestPool).initiate({action:crmSocial.url,data:n,success:function(e){e=JSON.parse(e),i.addClass("dN"),g.processEntityLayouts(e),crmSocial.selectedLayout=e.layout_id,crmSocialUtil.processEntityData(),e.network=t,e.profiles=crmSocial.selectedProfiles,c(),Handlebars.registerPartial("SocialEntityLayout",Handlebars.templates.SocialEntityLayout),$("#entity_form_container").html(Handlebars.templates.SocialEntityDataMapping(e)),crmSocialUtil.renderEntityCreateForm();var a=$("#social_data_mapping"),n=$("#layoutChosen").find("select");n.find('[value="'+crmSocial.selectedLayout+'"]').attr("selected","selected"),thirdPartyUtils.bindSelect2(n),$("#entity_create_parent").removeClass("dN"),$("#entity_save").removeClass("dN"),a.css("height",l),a.removeClass("dN"),o()}})}function c(){for(var e=crmSocial.selectedProfiles.length,a=0,t=0;t<e;t++){crmSocial.selectedProfiles[t].crm||a++}if(a<3){var n={},l=[],i=!1,s=!1,o=!1;for(t=0;t<e;t++){var r=crmSocial.selectedProfiles[t];r.id_str?i=!0:r.displayName?o=!0:r.crm||(s=!0)}if(!i){i={twitter:!0};l.push(i)}if(!s){s={facebook:!0};l.push(s)}if(!o){o={googleplus:!0};l.push(o)}l.length>0&&(n.networks=l,"twitter"===crmSocial.addEntityNetwork?n.name=crmSocial.selectedProfile.twitter.name:"facebook"===crmSocial.addEntityNetwork?n.name=crmSocial.selectedProfile.facebook.name:"googleplus"===crmSocial.addEntityNetwork&&(n.name=crmSocial.selectedProfile.googleplus.displayName)),n.networks&&$("#entity_search_container").html(Handlebars.templates.SocialEntitySuggestionSearch(n))}}function d(e){$("#"+e).perfectScrollbar({wheelSpeed:1,wheelPropagation:!0,suppressScrollX:!1})}function m(e){var a=0;if(""!==e){crmSocial.reloadForm=!0;var t=(e=$(e)).next(),n=t.attr("profile_id"),l=t.attr("network"),i=crmSocial.selectedProfileIds;if(i[l]=n,i.twitter&&a++,i.facebook&&a++,i.googleplus&&a++,a<3){var s={};"twitter"===crmSocial.currentProfile.network?i.facebook&&!crmSocial.gbAssociated?s.network="googleplus":i.googleplus&&!crmSocial.fbAssociated&&(s.network="facebook"):"facebook"===crmSocial.currentProfile.network?i.twitter&&!crmSocial.gpAssociated?s.network="googleplus":i.googleplus&&!crmSocial.twAssociated&&(s.network="twitter"):"googleplus"===crmSocial.currentProfile.network&&(i.twitter&&!crmSocial.fbAssociated?s.network="facebook":i.facebook&&!crmSocial.twAssociated&&(s.network="twitter")),s.profile_id=n,s.net=l,$("#entity_search_container").append(Handlebars.templates.SocialEntityFindOn(s)),$("#entity_search_freeze").css("display","block"),$("#confirm").animate({top:"30%"},500).css("display","block")}else crmSocial.selectedProfielIds=i}if(a>=3||""===e){""!==e&&(e.html('<img id="social_loading" src="'+networkUtils.getImageUrl("social_loading_599c9b1_.gif",ResourceConstants.CRM)+'">'),e.parent().eq(0).css("visibility","visible"));var o={action:"get_profiles"};crmSocial.associateEntityId&&(o.entity_id=crmSocial.associateEntityId,o.module=crmSocial.associateModule);for(var r=objectUtils.getKeys(crmSocial.selectedProfileIds),d=r.length,m=[],u=0;u<d;u++){var f=r[u],g={};g[f]=crmSocial.selectedProfileIds[f],m.push(g)}o.profile_info=JSON.stringify(m),""===e&&($("#addContact_loading").removeClass("dN"),$("#entity_save").addClass("dN"),$("#entity_create_parent").addClass("dN")),(new crmRequestPool).initiate({action:crmSocial.url,data:o,success:function(a){a=JSON.parse(a),crmSocial.selectedProfiles=a.profiles,$("#find_on").hasClass("dN")&&$(".nwAssociated").removeClass("mT20 fL").addClass("mT0 aligncenter"),crmSocialUtil.processEntityData(),$("#entity_form").html(Handlebars.templates.SocialEntityLayout(a)),c(),""!==e?p("true"):($("#addContact_loading").addClass("dN"),$("#entity_save").removeClass("dN"),$("#entity_create_parent").removeClass("dN")),crmSocialUtil.renderEntityCreateForm()}})}}function u(e,a,t){var n=$("#confirm");n.length>0&&($("#entity_search_freeze").css("display","none"),n.css("top","-192px").hide(),n.remove());var l={action:"search_profiles"};if(e){l.network=e;var i=$("#suggestion_search");l.name=a||i.val(),i.attr("network",e)}else{i=$("#suggestion_search");l.name=i.val().trim(),l.network=i.attr("network")}var s=$("#suggestion_list_outer"),o=$("#suggestion_list_inner");if(o.css("height","inherit"),t)$("#profile_search_cursor").html('<img src="'+networkUtils.getImageUrl("social_loading_599c9b1_.gif",ResourceConstants.CRM)+'">'),l.cursor=t;else{if(1===s.length){var r=crmSocial.windowHeight-$("#profile_search_div").outerHeight()-$("#entity_search_menu").outerHeight()-$("#entityBack").outerHeight()-20;s.perfectScrollbar("destroy"),s.css("height",r)}o.html('<div id="addContact_loading" class="aligncenter pB30 pR" style="top: 40%;"><div class="socialImg socLoadingIcon pR"></div></div>')}(new crmRequestPool).initiate({action:crmSocial.url,data:l,success:function(a){if((a=JSON.parse(a)).network=l.network,a.error)$("#entity_search_container").append(Handlebars.templates.SocialEntityFindOn(a)),$("#entity_search_freeze").css("display","block"),$("#confirm").animate({top:"30%"},500).css("display","block");else if((a=crmSocialUtil.procsesSearchedEntities(a)).name=l.name,a.data&&a.data.length>0?t?($("#profile_search_cursor").remove(),o.append(Handlebars.templates.SocialEntitySuggestion(a))):o.html(Handlebars.templates.SocialEntitySuggestion(a)):t?$("#profile_search_cursor").remove():o.html('<div class="lightgraytxt mT170 aligncenter" style="font-size: 20px">'+I18n.getMsg("crm.social.no.matching.profiles")+"</div>"),$("#suggestion_search").attr("network",e),1===s.length){var n=crmSocial.windowHeight-$("#profile_search_div").outerHeight()-$("#entity_search_menu").outerHeight()-$("#entityBack").outerHeight()-20;s.perfectScrollbar("destroy"),s.css("height",n),o.css({height:"auto",overflow:"hidden"}),s.perfectScrollbar({wheelSpeed:1,wheelPropagation:!0,suppressScrollX:!1})}}})}function p(e){!e&&crmSocial.reloadForm&&m("");var a=$("#confirm"),t=$("#entity_create_container"),n=$("#social_create").width();$(".socialClose").removeClass("vh"),a.css("top","-192px").hide(),t.css("left","0px"),$("#entity_search_container").css("left",n),$("#entity_search_freeze").css("display","none"),a.remove()}function f(){var e=Crm.validateEntityAndShowErrorMsg(Crm.fieldsObj[crmSocial.addEntityModule],crmSocial.addEntityModule,!0),a=$("#entity_create_form").attr("data-cid");if(e){(d=Crm.requestParam).module=crmSocial.addEntityModule,d["property(module)"]=crmSocial.addEntityModule,d.layoutId=crmSocial.selectedLayout,d.ActionType="Create",d.primmodule="Social",d[csrfParamName]=csrfToken;var t=$("#image_selection .socImgSelSpan");t.hasClass("twicon-small")?d.pic_network="twitter":t.hasClass("fbicon-small")?d.pic_network="facebook":t.hasClass("gpicon-small")?d.pic_network="googleplus":t.hasClass("zohoicon-small")&&(d.pic_network="zoho");for(var n=crmSocial.selectedProfiles.length,l={},i=0;i<n;i++){var o=crmSocial.selectedProfiles[i];o.id_str?l.twitter=o.id_str:o.displayName?l.googleplus=o.id:l.facebook=o.id}d.profiles=JSON.stringify(l);var r=Crm.getCrmBasePath()+"/CreateCommonModule.do";""!==a?(r=Crm.getCrmBasePath()+"/EditCommonModule.do",d.ActionType="Edit",d["property(id)"]=a):crmSocial.currentProfile.id_str?d.default_network="twitter":crmSocial.currentProfile.displayName?d.default_network="googleplus":d.default_network="facebook",function(){for(var e=Crm.requestParam,a=$(".entityfield_row"),t=a.length,n=0;n<t;n++){var l=a.eq(n).attr("id").split("_")[0];if(!$("#"+l+"_checkbox").is(":checked"))if("image"===l)delete e.pic_network;else{var i=$("#"+l+"_label").children().eq(0).attr("id").split("_label")[0];delete e["property("+$("#"+i).attr("data-name")+")"]}}Crm.requestParam=e}();var c=$("#entity_save");c.find("span").empty(),c.find(".socNewLoding").show();var d=Crm.requestParam;(new crmRequestPool).initiate({action:r,data:d,success:function(e){if(e=JSON.parse(e),commonUtils.checkErrorMsg(e,void 0,r)){var a=$("#entity_save_btn").children();a.eq(0).html(I18n.getMsg("crm.button.save")),a.eq(1).css("display","none")}else{var t=[];"Leads"===crmSocial.addEntityModule?t.push(moduleRecordMapping.Leads.singular_label):t.push(moduleRecordMapping.Contacts.singular_label),s(e),r===Crm.getCrmBasePath()+"/CreateCommonModule.do"?crmui.showMsgBand("success",I18n.getMsg("crm.social.entity.create.success",t),2e3):crmui.showMsgBand("success",I18n.getMsg("crm.social.entity.associate.success",t),2e3)}}})}}var g={getProfileInfo:function(a,n,l,i,s,o){!function(a,n,l,i,s,o){if(!crmSocial.hasBrandExpired(n,!1)){var r=$(a),c=$("#feed_detail_container").css("display");r.addClass("kso_addto_span_hover"),r.find(".socAddLabel").addClass("dN"),r.find(".socAddLoading").removeClass("dN"),r.css("visibility","visible"),"none"===c&&t();var d=$("#social_create"),m=$("#kso_rightPanel_Card");d.html("");var u=r.closest("ul").is("#my_timeline");if(a&&null!==a){var p=JSON.parse($($(r.eq(0)).next()).attr("value"));p.modules&&((p=p.modules).length>0&&(s=p[0]),p.length>1&&(o=p[1]))}var f={action:"get_profile_info"};f.brid=n,f.profile_id=l,f.network=i,(new crmRequestPool).initiate({action:crmSocial.url,data:f,success:function(t){if(void 0!==(t=JSON.parse(t)).module&&void 0!==t.entityid)return null===a?void m.html('<div class="pA socWarningMessageRightPanel aligncenter w100per"><span class="svgIconsImg socWarningMsgIcon dIB"></span><span class="dB color_6 fs f14 mT5 mB5" style="width:325px">'+I18n.getMsg("crm.social.integ.profile.save.error1",Crm.getCrmBasePath()+"/EntityInfo.do?id="+t.entityid+"&module="+t.module)+"</span></div>"):(r.remove(),void crmui.showMsgBand("error",I18n.getMsg("crm.social.integ.profile.save.error1",Crm.getCrmBasePath()+"/EntityInfo.do?id="+t.entityid+"&module="+t.module),1e4));if($("#social_container").css("overflow-x","hidden"),r.removeClass("kso_addto_span_hover"),crmSocial.currentProfile=t,s&&o?(t.show_lead=moduleRecordMapping.Leads.singular_label,t.show_contact=moduleRecordMapping.Contacts.singular_label,t.both=!0):s&&("Contacts"===s?t.show_contact=moduleRecordMapping.Contacts.singular_label:"Leads"===s&&(t.show_lead=moduleRecordMapping.Leads.singular_label),t.module=s),null!==a){r.closest(".kso_li").addClass("selected_feed"),r.find(".socAddLabel").removeClass("dN"),r.find(".socAddLoading").addClass("dN"),r.removeAttr("style"),d.html(Handlebars.templates.SocialEntityCreate(t));var c=r.offset();if(u)d.css({display:"inline-block",position:"fixed","border-right":"none","border-radius":"0"});else{var p=r.closest(".ksocialbox"),f=p.position().left+47,g=d.outerWidth(),v=$("#social_main").find("> div").eq(0).width(),h=p.offset().left;crmSocial.addColumnKso=p;var _=h-g;if(g<h)d.css({left:_,"box-shadow":"-5px 3px 20px 0px rgba(0, 0, 0, 0.3)"});else{var b=h+$("#others_parent").outerWidth()-1;d.css({left:b,"box-shadow":"5px 3px 20px 0px rgba(0, 0, 0, 0.3)"})}crmSocial.entityFormPositionRight=f+v,crmSocial.entityFormPositionLeft=f-g,d.css({display:"inline-block","border-radius":"0"})}var w=renderingUtils.windowHeight,k=$("#association_list").width();c.top<.25*w?d.css("top",crmSocial.topBandHeight):c.top>.25*w&&c.top<.5*w?d.css("top",.25*w):d.css("top",.5*w),$("#tabborder").css("width",k)}else t.fromDetailView="detailView",m.html(Handlebars.templates.SocialEntityCreate(t));s&&o?e(l,i,n):s&&e(l,i,n,s),crmSocial.selectedProfile={},crmSocial.currentProfile.twitter?crmSocial.selectedProfile.twitter=crmSocial.currentProfile:crmSocial.currentProfile.facebook?crmSocial.selectedProfile.facebook=crmSocial.currentProfile:crmSocial.currentProfile.googleplus&&(crmSocial.selectedProfile.googleplus=crmSocial.currentProfile)}})}}(a,n,l,i,s,o)},fetchAssociation:function(a,t,n,l,i,s){e(a,t,n,l,i)},fetchGivenAssociation:function(a,t,n,l,i){!function(a,t,n,l,i){13===(a=a||window.event).keyCode&&(crmSocial.keySearch=!0,e(t,n,l,i))}(a,t,n,l,i)},toggleAddAssociate:function(e){!function(e){if("add_entity"===e)$("#add_entity").addClass("active"),$("#association_list").removeClass("active"),$("#add_options").show().css("padding","54px 0px"),$("#association_div").hide(),$("#entity_create_parent").addClass("dN"),$("#social_create").css("height","");else if("association_list"===e){$("#add_entity").removeClass("active"),$("#association_div").show(),$("#add_options").hide(),$("#entity_create_parent").addClass("dN"),$("#module_option").find(".entitySelected").removeClass("entitySelected"),$("#association_list").addClass("active").attr("toggled","true"),$("#social_create").css("height",""),$("#entity_save").addClass("dN");var t=$("#entity_create_outer");t.scrollTop(0),t.perfectScrollbar("destroy"),a()}crmSocial.layout&&n()}(e)},chooseDifferentEntity:function(){l()},getEntityAssociation:function(e,a,t,n,l){!function(e,a,t,n,l){(e=$(e)).hide(),e.prev().css("display","block");var s={action:"get_association_profiles"};s.entity_id=n,(new crmRequestPool).initiate({action:crmSocial.url,data:s,success:function(e){if((e=JSON.parse(e))[l]){var s={};s.network=l,s.label_network=l.charAt(0).toUpperCase()+l.slice(1),s.module=a,s.profileId=t,s.entityId=n;var o=$("#WarningDiv");freezeBackground(),o.html(Handlebars.templates.SocialEntityNetworkAlert(s)),o.css({width:"800px",padding:"0px",display:"block"}),setTimeout((function(){o.css({top:$("#tabLayer").height()})}),200)}else i(0,a,t,n,l)}})}(e,a,t,n,l)},associateEntity:function(e,a,t,n,l,s){i(0,a,t,n,l,s)},postEntityCreateOrAssociate:function(e){s(e)},createEntity:function(e,a,t,n){!function(e,a,t,n){var l=$("#entity_create_parent");l.hasClass("dN")?r(e,0,t):($("#entity_save").addClass("dN"),l.addClass("dN"),$("#addContact_loading").removeClass("dN"),setTimeout((function(){r(e,0,t)}),500))}(e,0,t)},getLayout:function(e){!function(e){var a={action:"get_social_layout"};a.layoutid=$(e).val(),a.module=crmSocial.addEntityModule,(new crmRequestPool).initiate({action:crmSocial.url,data:a,success:function(e){e=JSON.parse(e),crmSocial.selectedLayout=a.layoutid,g.processEntityLayouts(e),crmSocialUtil.processEntityData(),e.network=crmSocial.addEntityNetwork,e.profiles=crmSocial.selectedProfiles,$("#entity_form").html(Handlebars.templates.SocialEntityLayout(e)),$("#addition_fields").addClass("dN"),$("#new_fields").find("tbody").html('<tr class="zso-spacer"></tr>'),crmSocialUtil.renderEntityCreateForm(),o()}})}(e)},showSearch:function(e){!function(e){var a=$("#entity_search_container"),t=$("#social_create").width();switch($(".socialClose").addClass("vh"),0===a.children().length&&c(),e){case"twitter":renderingUtils.triggerEvent("click",$("#tw_suggestion"));break;case"facebook":renderingUtils.triggerEvent("click",$("#fb_suggestion"));break;case"googleplus":renderingUtils.triggerEvent("click",$("#gp_suggestion"))}$("#entity_create_container").css("left",-t),a.css("left",0)}(e)},getSearchedProfiles:function(e,a){!function(e,a){13===a.keyCode&&($("#suggestion_search").val($(e).val()),u())}(e,a)},showAllFields:function(e){!function(e){var a=[],t=(e=$(e)).find(".labelTabCreate");a.top=t.offset().top;var n=t.position().top,l=e.parent().attr("data-cid"),i={},s=[],o=crmSocial.layout.length;$("#entityFields_outer").remove();for(var r=0;r<o;r++){var c=crmSocial.layout[r];c.fieldid!==l&&"false"===c.mandate&&"SMOWNERID"!==c.colName&&"Formula"!==c.type&&s.push(c)}if(s.length>0){i.data=s,e.append(Handlebars.templates.SocialEntityFieldList(i));var d=$("#entityFields_outer");if(d.removeClass("dN"),1===d.length){var m=$("#entityFields_inner"),u=m.find("ul li"),p=u.length,f=p*u.outerHeight();d.perfectScrollbar("destroy"),p>4?d.css("height","170px"):p<=4&&d.css("height",f),m.css("height","auto"),d.css("overflow","hidden"),d.perfectScrollbar({wheelSpeed:1,wheelPropagation:!0,suppressScrollX:!1})}var g=$("#entity_create_outer").outerHeight(!0)-d.height();d.css("z-index","10"),e.closest("#new_entityfield").hasClass("entity_fields")&&(g>a.top?d.css("top",n+20):d.css("bottom","30px")),e.closest("#new_fields").hasClass("custom_rows")&&(g>a.top?d.css("top",n+20):d.css("bottom","30px"))}}(e)},createScrollBar:function(e){d(e)},destroyScrollBar:function(e){!function(e){$("#"+e).perfectScrollbar("destroy")}(e)},addField:function(){!function(){for(var e=crmSocial.layout,a=e.length,t={},n=0,l=0;l<a;l++){var i=e[l];if(!i.isUsed){if(i.isCustom=!0,i.isUsed=!0,i.changeOwnerPermission&&(t.changeOwnerPermission=i.changeOwnerPermission),"LEADSOURCE"===i.colname&&"true"!==i.readonly){var s=crmSocial.addEntityNetwork;s=s.charAt(0).toUpperCase()+s.substring(1),i.defaultvalue=s}t.currentField=i,t.module=crmSocial.addEntityModule,t.loadingFrom="crmSocialTab",e[l]=i,crmSocial.layout=e,n++;for(var o=l+1;o<a&&e[o].isUsed;o++)n++;break}n++}if(t.module){void 0!==window[t.module]&&(window[t.module].formulaObj=new crmFormulaInit,window[t.module].formulaObj.resetProps());var r=crmTemplate.createFieldLabel(t),c=crmTemplate.createFieldContent(t);"TextArea"===t.currentField.type&&$(c).find("textarea").css({width:"94%",overflow:"scroll",border:"none","background-color":"transparent",height:"30px"});var d=$(Handlebars.templates.SocialEntityRow(t.currentField)),m=$(d.eq(0));if(m.find("#"+t.currentField.fieldid+"_label").append(r)[0],m.find("#"+t.currentField.fieldid+"_input").prepend(c)[0],$("#new_fields").append(d),"SMOWNERID"===t.currentField.colname){var u=$("#ownerNameLookupSpan"),p=$('[name="searchUserLookup"]').attr("title");renderingUtils.setTooltip(u[0],p)}else"FIRSTNAME"===t.currentField.colname&&$(c).find(".firstSal").remove();$(c).find('input[data-cid="showLookup"]').click("sE(event);"),$(c).find('img[data-cid="showLookup"]').removeClass("mR5"),$(c).find('img[data-cid="clearLookup"]').removeClass("mR10");var f=$(c).find("select");f.length>0&&thirdPartyUtils.bindSelect2(f);var g=$("#entity_create_inner").innerHeight();$("#addition_fields").removeClass("dN"),$("#entity_create_outer").animate({scrollTop:g},500)}n===a&&$("#add_new_field").hide()}()},removeField:function(e){!function(e){for(var a=(e=$(e)).attr("id").split("_")[1],t=crmSocial.layout,n=t.length,l=0;l<n;l++){var i=t[l];if(i.fieldid===a){delete i.isUsed,t[l]=i,crmSocial.layout=t;break}}var s=e.closest(".entityfield_row"),o=$("#entity_create_outer .ps-scrollbar-y-rail"),r=$("#entity_create_inner").innerHeight()-o.height();s.prev().remove(),s.remove(),$("#add_new_field").show(),1===$("#new_fields").find("tr").length&&$("#addition_fields").addClass("dN"),o.animate({top:r},500)}(e)},changeField:function(e){!function(e){var a=(e=$(e)).closest(".entity_input"),t=a.attr("data-cid"),n=e.attr("data-cid");if(n!==t){for(var l=crmSocial.layout,i=l.length,s=null,o=null,r=!1,c=0;c<i;c++)(b=l[c]).fieldid===t?o=b:b.fieldid===n&&(s=b,b.isUsed&&(r=!0));var m=!1;if(s.isCustom&&(m=s.isCustom),o.isCustom?s.isCustom=o.isCustom:delete s.isCustom,m?o.isCustom=m:delete o.isCustom,o.type===s.type||"Text"===o.type&&"TextArea"===s.type||"TextArea"===o.type&&"Text"===s.type)if(o.socialVal)if(s.socialVal){var u,p;u=o.socialVal,p=s.socialVal,o.socialVal=p,s.socialVal=u}else s.socialVal=o.socialVal,delete curretnField.socialVal;else s.socialVal&&(o.socialVal=s.socialVal,delete s.socialVal);if(null!==s){if(r){(w={}).currentField=o,w.module=crmSocial.addEntityModule,w.loadingFrom="crmSocialTab",o.changeOwnerPermission&&(w.changeOwnerPermission=o.changeOwnerPermission),"LEADSOURCE"===o.colname&&"true"!==o.readonly&&(k=(k=crmSocial.addEntityNetwork).charAt(0).toUpperCase()+k.substring(1),w.currentField.defaultvalue=k),void 0!==window[w.module]&&(window[w.module].formulaObj=new crmFormulaInit,window[w.module].formulaObj.resetProps());var f=crmTemplate.createFieldLabel(w),g=crmTemplate.createFieldContent(w),v=$(Handlebars.templates.SocialEntityRow(o)),h=$("#Crm_"+crmSocial.addEntityModule+"_"+s.colname).closest(".entityfield_row"),_=$(g).find("input");"TWITTER"!==_.attr("data-colname")?o.isCustom||_.css("width","96%"):"ACCOUNTID"===_.attr("data-colname")&&(o.isCustom||_.css("width","72%")),"FIRSTNAME"===o.colname&&$(g).find(".firstSal").remove(),o.socialVal&&("Text"===o.type?_.val(o.socialVal[0].value):"TextArea"===o.type&&$(g).find("textarea").val(o.socialVal[0].value),"Text"!==o.type&&"TextArea"!==o.type||$(g).keyup((function(){crmSocialUtil.checkSocialDataChanges(event)}))),v.eq(0).find("#"+o.fieldid+"_label").append(f),v.eq(0).find("#"+o.fieldid+"_input").find("#val_prefix").after(g),h.next().remove(),h.after(v),h.remove(),$(g).find('input[data-cid="showLookup"]').click("sE(event);"),$(g).find('img[data-cid="showLookup"]').removeClass("mR5"),$(g).find('img[data-cid="clearLookup"]').removeClass("mR10").css("display","none"),(I=$(g).find("select")).length>0&&thirdPartyUtils.bindSelect2(I)}for(c=0;c<i;c++){var b;(b=l[c]).fieldid!==o.fieldid||r?b.fieldid===s.fieldid&&(b.isUsed=!0):delete b.isUsed,l[c]=b}var w,k;crmSocial.layout=l,(w={}).currentField=s,w.module=crmSocial.addEntityModule,w.loadingFrom="crmSocialTab",s.changeOwnerPermission&&(w.changeOwnerPermission=s.changeOwnerPermission),"LEADSOURCE"===s.colname&&"true"!==s.readonly&&(k=(k=crmSocial.addEntityNetwork).charAt(0).toUpperCase()+k.substring(1),w.currentField.defaultvalue=k),f=crmTemplate.createFieldLabel(w),g=crmTemplate.createFieldContent(w),v=$(Handlebars.templates.SocialEntityRow(s));var S=$(g).find("input"),y=$(g).find("textarea");S.length>0&&("TWITTER"!==S.attr("data-colname")?s.isCustom||S.css("width","96%"):"ACCOUNTID"===S.attr("data-colname")&&(s.isCustom||S.css("width","72%"))),"FIRSTNAME"===s.colname&&$(g).find(".firstSal").remove(),s.socialVal&&("Text"===s.type?S.val(s.socialVal[0].value):"TextArea"===s.type&&y.val(s.socialVal[0].value),"Text"!==s.type&&"TextArea"!==s.type||$(g).keyup((function(){crmSocialUtil.checkSocialDataChanges(event)}))),v.eq(0).find("#"+s.fieldid+"_label").append(f),v.eq(0).find("#"+s.fieldid+"_input").find("#val_prefix").after(g);var I,C=a.closest(".entityfield_row");if(C.next().remove(),C.after(v),C.remove(),$(g).find('input[data-cid="showLookup"]').click("sE(event);"),$(g).find('img[data-cid="showLookup"]').removeClass("mR5"),$(g).find('img[data-cid="clearLookup"]').removeClass("mR10").css("display","none"),(I=$(g).find("select")).length>0&&thirdPartyUtils.bindSelect2(I),"SMOWNERID"===o.colname&&r||"SMOWNERID"===s.colname){e=$("#ownerNameLookupSpan");var x=$('[name="searchUserLookup"]').attr("title");renderingUtils.setTooltip(e[0],x)}S.length>0?S.focus():y.length>0&&y.focus()}}$("#entityFields_outer").remove(),d("entity_create_outer")}(e)},associateProfile:function(e){m(e)},additionalNetworkSearch:function(e){!function(e){var a=$("#suggestion_search").attr("network"),t=$("#tw_suggestion"),n=$("#fb_suggestion"),l=$("#gp_suggestion");"twitter"===e?crmSocial.menuAnimate(t):"facebook"===e&&"googleplus"===a&&crmSocial.menuAnimate(n),"twitter"===a?(t.prev().remove(),t.remove(),"facebook"===e?g.tabMenuAnimate(n):"googleplus"===e&&g.tabMenuAnimate(l)):"facebook"===a?(n.prev().remove(),n.remove(),"googleplus"===e&&g.tabMenuAnimate(l)):"googleplus"===a&&(l.prev().remove(),l.remove());var i=$("#confirm"),s=i.find("#selectedprofile"),o=s.attr("network"),r=s.attr("profile_id");crmSocial.selectedProfileIds[o]=r,u(e),$("#entity_search_freeze").css("display","none"),i.css("top","-192px").hide(),i.remove()}(e)},searchOnNetwork:function(e,a,t){u(e,a,t)},goBack:function(){p()},showRemoveSelectedProfile:function(e){!function(e){var a=$(e).attr("network");$(e).siblings(".dp_small_circle").length>0&&a!==crmSocial.addEntityNetwork&&("twitter"===a&&!crmSocial.twAssociated||"facebook"===a&&!crmSocial.fbAssociated||"googleplus"===a&&!crmSocial.gpAssociated)&&$(e).find(".network_remove").removeClass("dN")}(e)},hideRemoveSelectedProfile:function(e){!function(e){$(e).find(".network_remove").addClass("dN")}(e)},removeAssociatedProfile:function(e){!function(e){for(var a=[],t={},n=crmSocial.selectedProfiles,l=n.length,i=0;i<l;i++){var s=n[i];s.id_str?"twitter"!==e&&(a.push(s),t.twitter=s.id_str):s.displayName?"googleplus"!==e&&(a.push(s),t.googleplus=s.id):"facebook"!==e&&(a.push(s),t.facebook=s.id)}var o={};"twitter"===crmSocial.addEntityNetwork?o.name=crmSocial.selectedProfile.twitter.name:"facebook"===crmSocial.addEntityNetwork?o.name=crmSocial.selectedProfile.facebook.name:"googleplus"===crmSocial.addEntityNetwork&&(o.name=crmSocial.selectedProfile.googleplus.displayName),1===a.length&&(o.network=crmSocial.addEntityNetwork),o.profiles=a,crmSocial.selectedProfiles=a,crmSocial.selectedProfileIds=t,crmSocialUtil.processEntityData(),$("#entity_form").html(Handlebars.templates.SocialEntityLayout(o)),crmSocialUtil.renderEntityCreateForm(),c()}(e)},selectEntityImage:function(e){$("#image_suggestion").css("display","block")},selectImage:function(e){!function(e){var a=(e=$(e)).find("img"),t=e.find("span"),n=$("#image_selection");n.find("img").attr("src",a.attr("src")),n.find(".smallIconPosi").attr("class",t.attr("class")),$("#image_suggestion").css("display","none")}(e)},showValues:function(e){!function(e){$(".entityField_drop").addClass("dN");var a=(e=$(e).closest("td")).attr("id").split("_")[0],t=$("#"+a+"_select");t.find("ul").children().length>1&&(t.css("height","auto"),t.removeClass("dN")),$("#entityFields_outer").remove()}(e)},selectValue:function(e,a){!function(e,a){if(e=$(e),a){var t=e.closest(".entity_input").attr("data-cid"),n=$("#"+t+"_select").find("ul").children('[data="'+a+'"]'),l=n.attr("data-value"),i=n.attr("data-title"),s=e.siblings(".labelValCreate");switch(e.siblings(".dIB").length>0&&(s.children("input").val(l),e.siblings(".ipLabel").html(i)),a){case"twitter":e.removeClass("twsmallgray").addClass("twicon-small"),e.siblings(".fbicon-small").addClass("fbsmallgray socialImgsvg").removeClass("fbicon-small"),e.siblings(".gpicon-small").addClass("gpsmallgray socialImgsvg").removeClass("gpicon-small"),e.siblings(".zohoicon-small").addClass("zohosmallgray socialImgsvg").removeClass("zohoicon-small");break;case"facebook":e.removeClass("fbsmallgray").addClass("fbicon-small"),e.siblings(".twicon-small").addClass("twsmallgray socialImgsvg").removeClass("twicon-small"),e.siblings(".gpicon-small").addClass("gpsmallgray socialImgsvg").removeClass("gpicon-small"),e.siblings(".zohoicon-small").addClass("zohosmallgray socialImgsvg").removeClass("zohoicon-small");break;case"googleplus":e.removeClass("gpsmallgray").addClass("gpicon-small"),e.siblings(".twicon-small").addClass("twsmallgray socialImgsvg").removeClass("twicon-small"),e.siblings(".fbicon-small").addClass("fbsmallgray socialImgsvg").removeClass("fbicon-small"),e.siblings(".zohoicon-small").addClass("zohosmallgray socialImgsvg").removeClass("zohoicon-small");break;case"crm":e.removeClass("zohosmallgray").addClass("zohoicon-small"),e.siblings(".twicon-small").addClass("twsmallgray socialImgsvg").removeClass("twicon-small"),e.siblings(".fbicon-small").addClass("fbsmallgray socialImgsvg").removeClass("fbicon-small"),e.siblings(".gpicon-small").addClass("gpsmallgray socialImgsvg").removeClass("gpicon-small")}}else{var o=e.closest(".entity_input").find(".labelValCreate");a=e.attr("data"),$(".entityField_drop").addClass("dN");var r=o.siblings('[network="'+a+'"]');renderingUtils.triggerEvent("click",r)}}(e,a)},submitEntityCreate:function(){f()},resetEntityForm:function(){t()},authenticateNetwork:function(e){!function(e){var a={mode:"get_integ_auth_url"};a.network=e,a.ReAuth=!1,(new crmRequestPool).initiate({action:Crm.getCrmBasePath()+"/socialIntegration.do",data:a,success:function(e){"limit"===e?crmui.showMsgBand("error",I18n.getMsg("crm.social.setup.limit"),5e3):crmSocialSetup.openAuthenticationPop(e)}})}(e)},postAuthenticationHandling:function(e){!function(e){"twitter"===e?renderingUtils.triggerEvent("click",$("#tw_suggestion")):"facebook"===e?renderingUtils.triggerEvent("click",$("#fb_suggestion")):"googleplus"===e&&renderingUtils.triggerEvent("click",$("#gp_suggestion"))}(e)},tabMenuAnimate:function(e){!function(e){var a=$(e),t=a.prev(),n=a.width()+t.width()+7,l=t.position().left,i=a.parents().width()-l-n-8;$(".tabborder").removeClass("left0"),Crm.userDetails.RTL_ENABLED?a.siblings(".tabborder").css({right:i-2,width:n}):a.siblings(".tabborder").css({left:l,width:n})}(e)},processEntityLayouts:function(e){!function(e){var a=[];$.each(e.layout,(function(e,t){"66"!==t.uitype&&"555"!==t.uitype&&"556"!==t.uitype&&"444"!==t.uitype&&"445"!==t.uitype&&a.push(t)})),crmSocial.layout=a}(e)}};window.crmSocialEntity=g}(),function(){var e=Handlebars.template,a=Handlebars.templates=Handlebars.templates||{};a.ActivityList=e({1:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.no_content:a,{name:"if",hash:{},fn:e.program(2,l,0),inverse:e.program(4,l,0),data:l}))?i:"")+' <div class="bb mT25 bb0"></div> '},2:function(e,a,t,n,l){return' <li id="Activity_none"> <div class="f20 lightgraytxt mT170 aligncenter">'+e.escapeExpression(e.lambda(null!=a?a.message:a,a))+"</div> </li> "},4:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <li id="Activity_'+o(s(null!=a?a.auditid:a,a))+'" class="w100per '+o(s(null!=a?a.network:a,a))+' self" style="padding: 15px 0 !important"> <div> <div class="fR when mT1" title="'+o(s(null!=a?a.act_title_time:a,a))+'">'+o(s(null!=a?a.act_disp_time:a,a))+'</div> <div class="fL f13 color7"> '+(null!=(i=t.if.call(r,null!=a?a.twitter:a,{name:"if",hash:{},fn:e.program(5,l,0),inverse:e.program(7,l,0),data:l}))?i:"")+" <span>"+(null!=(i=s(null!=a?a.operation:a,a))?i:"")+'</span> </div> <div class="clearB"></div> </div> '+(null!=(i=t.if.call(r,null!=a?a.facebook:a,{name:"if",hash:{},fn:e.program(13,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(r,null!=a?a.twitter:a,{name:"if",hash:{},fn:e.program(39,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(r,null!=a?a.googleplus:a,{name:"if",hash:{},fn:e.program(51,l,0),inverse:e.noop,data:l}))?i:"")+" </li> "},5:function(e,a,t,n,l){return' <span class="twicon-small twt_activity_sml_Icn activityicon fL" style="margin: 2px 6px 0 0;"></span> '},7:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.facebook:a,{name:"if",hash:{},fn:e.program(8,l,0),inverse:e.program(10,l,0),data:l}))?i:"")+" "},8:function(e,a,t,n,l){return' <span class="fbicon-small fb_activity_sml_Icn activityicon fL" style="margin: 2px 6px 0 0;"></span> '},10:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.googleplus:a,{name:"if",hash:{},fn:e.program(11,l,0),inverse:e.noop,data:l}))?i:"")+" "},11:function(e,a,t,n,l){return' <span class="gpicon-small activityicon fL" style="margin: 2px 6px 0 0;"></span> '},13:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <div class="f13 what" valign="top"> <div class="sepline mB10"></div> '+(null!=(i=t.if.call(s,null!=a?a.entityadded:a,{name:"if",hash:{},fn:e.program(14,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.status:a,{name:"if",hash:{},fn:e.program(19,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.commented:a,{name:"if",hash:{},fn:e.program(24,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.convo:a,{name:"if",hash:{},fn:e.program(37,l,0),inverse:e.noop,data:l}))?i:"")+" </div> "},14:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression,r=e.lambda;return' <div class="kso-act-box" style="border-left: 2px solid #55acee; margin-left: 50px;"> <div class="fL kso-act-img"> '+(null!=(i=t.if.call(s,null!=a?a.picture:a,{name:"if",hash:{},fn:e.program(15,l,0),inverse:e.program(17,l,0),data:l}))?i:"")+' </div> <div class="mL40"> <a href="'+o(t.getRebrandKey.call(s,"FB_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(r(null!=(i=null!=a?a.info:a)?i.id:i,a))+'" target="_blank" class="whois">'+o(r(null!=(i=null!=a?a.info:a)?i.name:i,a))+'</a> <div class="f13 color7 kso-act-desc">'+o(r(null!=(i=null!=a?a.info:a)?i.description:i,a))+'</div> </div> <div class="clearB"></div> </div> '},15:function(e,a,t,n,l){return' <img src="'+e.escapeExpression(e.lambda(null!=a?a.picture:a,a))+'" width="32" ></img> '},17:function(e,a,t,n,l){var i,s=e.escapeExpression;return' <img src="'+s(t.getRebrandKey.call(null!=a?a:{},"FB_GRAPH_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+s(e.lambda(null!=(i=null!=a?a.info:a)?i.id:i,a))+'/picture" width="70" /> '},19:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression,r=e.lambda;return' <div class="kso-act-box"> <div class="fL kso-act-img"> '+(null!=(i=t.if.call(s,null!=a?a.picture:a,{name:"if",hash:{},fn:e.program(15,l,0),inverse:e.program(20,l,0),data:l}))?i:"")+' </div> <div class="facebook fL w390 kso-act-cont"> <a href="'+o(t.getRebrandKey.call(s,"FB_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(r(null!=a?a.id:a,a))+'" target="_blank" class="whois">'+o(r(null!=a?a.name:a,a))+'</a> <div class="f13 color7 kso-act-desc">'+(null!=(i=r(null!=a?a.text:a,a))?i:"")+"</div> "+(null!=(i=t.if.call(s,null!=a?a.isPic:a,{name:"if",hash:{},fn:e.program(22,l,0),inverse:e.noop,data:l}))?i:"")+' <div class="mt5"> <span class="cN when" title="'+o(r(null!=a?a.title_time:a,a))+'">'+o(r(null!=a?a.disp_time:a,a))+'</span> </div> </div> <div class="clearB"></div> </div> '},20:function(e,a,t,n,l){var i=e.escapeExpression;return' <img src="'+i(t.getRebrandKey.call(null!=a?a:{},"FB_GRAPH_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+i(e.lambda(null!=a?a.id:a,a))+'/picture" width="32" /> '},22:function(e,a,t,n,l){return' <div class="what"> <img src="'+e.escapeExpression(e.lambda(null!=a?a.picture:a,a))+'" class="contentimage" onload="crmSocial.setImageWidthHeight(this);" ></img> </div> '},24:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression,r=e.lambda;return' <div class="kso-act-box"> <div class="fL kso-act-img"> '+(null!=(i=t.if.call(s,null!=a?a.picture:a,{name:"if",hash:{},fn:e.program(15,l,0),inverse:e.program(25,l,0),data:l}))?i:"")+' </div> <div class="facebook fL w390 kso-act-cont"> <a href="'+o(t.getRebrandKey.call(s,"FB_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(r(null!=(i=null!=a?a.post:a)?i.name:i,a))+'" target="_blank" class="whois">'+o(r(null!=(i=null!=a?a.post:a)?i.name:i,a))+'</a> <div class="what">'+(null!=(i=r(null!=(i=null!=a?a.post:a)?i.text:i,a))?i:"")+"</div> "+(null!=(i=t.if.call(s,null!=(i=null!=a?a.post:a)?i.isPic:i,{name:"if",hash:{},fn:e.program(27,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=(i=null!=a?a.post:a)?i.isLink:i,{name:"if",hash:{},fn:e.program(29,l,0),inverse:e.noop,data:l}))?i:"")+' <div class="mt5"> <span class="cN when" title="'+o(r(null!=(i=null!=a?a.post:a)?i.title_time:i,a))+'">'+o(r(null!=(i=null!=a?a.post:a)?i.disp_time:i,a))+"</span> </div> "+(null!=(i=t.if.call(s,null!=a?a.comment:a,{name:"if",hash:{},fn:e.program(34,l,0),inverse:e.noop,data:l}))?i:"")+' </div> <div class="clearB"></div> </div> '},25:function(e,a,t,n,l){var i,s=e.escapeExpression;return' <img src="'+s(t.getRebrandKey.call(null!=a?a:{},"FB_GRAPH_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+s(e.lambda(null!=(i=null!=a?a.post:a)?i.id:i,a))+'/picture" width="32" /> '},27:function(e,a,t,n,l){var i;return' <div class="what"> <img src="'+e.escapeExpression(e.lambda(null!=(i=null!=a?a.post:a)?i.picture:i,a))+'" class="contentimage" onload="crmSocial.setImageWidthHeight(this);" ></img> </div> '},29:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <div class="what mT10"> <div class="kso_sharedlink" style="margin-bottom:10px;border-radius: 2px;"> '+(null!=(i=t.if.call(s,null!=(i=null!=a?a.post:a)?i.picture:i,{name:"if",hash:{},fn:e.program(30,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=(i=null!=a?a.post:a)?i.title:i,{name:"if",hash:{},fn:e.program(32,l,0),inverse:e.noop,data:l}))?i:"")+' <div class="cB"></div> </div> </div> '},30:function(e,a,t,n,l){var i;return' <img src="'+e.escapeExpression(e.lambda(null!=(i=null!=a?a.post:a)?i.picture:i,a))+'" class="contentimage fL kso_fb_video_image" onload="crmSocial.setImageWidthHeight(this, \'video\');"></img> '},32:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <div style="background-color: white !important;padding:11px !important;"> <div class="linkTitle"> <a onmouseover="this.style.textDecoration=\'underline\';" onmouseout="this.style.textDecoration=\'none\';" href="'+o(s(null!=(i=null!=a?a.post:a)?i.link:i,a))+'" onclick="sE(event);" target="_blank"> <div class="kso_link_title_kanbanview" title=\''+o(s(null!=(i=null!=a?a.post:a)?i.title:i,a))+"'>"+o(s(null!=(i=null!=a?a.post:a)?i.title:i,a))+'</div> </a> </div> <div class="linkDesc kso_desc_kanbanview" title=\''+o(s(null!=(i=null!=a?a.post:a)?i.description:i,a))+"'>"+o(s(null!=(i=null!=a?a.post:a)?i.description:i,a))+'</div> <div class="linkCapt" style="padding-top: 5px;">'+o(s(null!=(i=null!=a?a.post:a)?i.caption:i,a))+"</div> </div> "},34:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression,r=e.lambda;return' <div class="whiteBg p10 mT10 posRel" style="border-left: 2px solid #55acee;"> <div class="fL"> '+(null!=(i=t.if.call(s,null!=a?a.picture:a,{name:"if",hash:{},fn:e.program(15,l,0),inverse:e.program(35,l,0),data:l}))?i:"")+' </div> <div class="mL40"> <a href="'+o(t.getRebrandKey.call(s,"FB_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(r(null!=(i=null!=a?a.comment:a)?i.name:i,a))+'" target="_blank" class="whois">'+o(r(null!=(i=null!=a?a.comment:a)?i.name:i,a))+'</a> <div class="commenttxt what f13 mT5">'+(null!=(i=r(null!=(i=null!=a?a.comment:a)?i.text:i,a))?i:"")+'</div> <div class="mt5"> <span class="cN when" title="'+o(r(null!=(i=null!=a?a.comment:a)?i.title_time:i,a))+'">'+o(r(null!=(i=null!=a?a.comment:a)?i.disp_time:i,a))+'</span> </div> </div> <div class="clearB"></div> </div> '},35:function(e,a,t,n,l){var i,s=e.escapeExpression;return' <img src="'+s(t.getRebrandKey.call(null!=a?a:{},"FB_GRAPH_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+s(e.lambda(null!=(i=null!=a?a.comment:a)?i.id:i,a))+'/picture" width="32" /> '},37:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression,r=e.lambda;return' <div class="kso-act-box"> <div class="fL kso-act-img"> '+(null!=(i=t.if.call(s,null!=a?a.picture:a,{name:"if",hash:{},fn:e.program(15,l,0),inverse:e.program(20,l,0),data:l}))?i:"")+' </div> <div class="fL w390 kso-act-cont"> <a href="'+o(t.getRebrandKey.call(s,"FB_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(r(null!=a?a.id:a,a))+'" target="_blank" class="whois">'+o(r(null!=a?a.name:a,a))+'</a> <div class="f13 color7 kso-act-desc">'+(null!=(i=r(null!=a?a.text:a,a))?i:"")+'</div> <div class="mt5"> <span class="cN when" title="'+o(r(null!=a?a.title_time:a,a))+'">'+o(r(null!=a?a.disp_time:a,a))+'</span> </div> </div> <div class="clearB"></div> </div> '},39:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <div class="f13 what" valign="top"> <div class="sepline mB10"></div> '+(null!=(i=t.if.call(s,null!=a?a.entityadded:a,{name:"if",hash:{},fn:e.program(40,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.tweeted:a,{name:"if",hash:{},fn:e.program(42,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.replied:a,{name:"if",hash:{},fn:e.program(46,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.convo:a,{name:"if",hash:{},fn:e.program(49,l,0),inverse:e.noop,data:l}))?i:"")+" </div> "},40:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression,r=e.lambda;return' <div class="kso-act-box" style="border-left: 2px solid #55acee;margin-left: 50px;"> <div class="fL kso-act-img"> <img src="'+o(t.getRebrandKey.call(s,"TW_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(r(null!=(i=null!=a?a.info:a)?i.screen_name:i,a))+'/profile_image?size=original" width="70" /> </div> <div class="twitter fL w390 kso-act-cont"> <a href="'+o(t.getRebrandKey.call(s,"TW_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(r(null!=(i=null!=a?a.info:a)?i.screen_name:i,a))+'" target="_blank" class="whois">'+o(r(null!=(i=null!=a?a.info:a)?i.name:i,a))+'</a> <i class="from"> @'+o(r(null!=(i=null!=a?a.info:a)?i.screen_name:i,a))+'</i> <div class="f13 color7 kso-act-desc">'+o(r(null!=(i=null!=a?a.info:a)?i.description:i,a))+'</div> </div> <div class="clearB"></div> </div> '},42:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression,r=e.lambda;return' <div class="kso-act-box"> <div class="fL kso-act-img"> <img src="'+o(t.getRebrandKey.call(s,"TW_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(r(null!=a?a.screen_name:a,a))+'/profile_image?size=original" width="32" /> </div> <div class="twitter fL w390 kso-act-cont"> <a href="'+o(t.getRebrandKey.call(s,"TW_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(r(null!=a?a.screen_name:a,a))+'" target="_blank" class="whois">'+o(r(null!=a?a.name:a,a))+'</a> <i class="from"> @'+o(r(null!=a?a.screen_name:a,a))+'</i> <div class="f13 color7 kso-act-desc">'+(null!=(i=r(null!=a?a.text:a,a))?i:"")+"</div> "+(null!=(i=t.if.call(s,null!=(i=null!=a?a.entities:a)?i.media:i,{name:"if",hash:{},fn:e.program(43,l,0),inverse:e.noop,data:l}))?i:"")+' <div class="mt5"> <span class="cN when" title="'+o(r(null!=a?a.title_time:a,a))+'">'+o(r(null!=a?a.disp_time:a,a))+'</span> </div> </div> <div class="clearB"></div> </div> '},43:function(e,a,t,n,l){var i;return" "+(null!=(i=t.each.call(null!=a?a:{},null!=(i=null!=a?a.entities:a)?i.media:i,{name:"each",hash:{},fn:e.program(44,l,0),inverse:e.noop,data:l}))?i:"")+" "},44:function(e,a,t,n,l){return' <div class="what mt10"> <img src="'+e.escapeExpression(e.lambda(null!=a?a.media_url_https:a,a))+'" class="contentimage" onload="crmSocial.setImageWidthHeight(this);" ></img> </div> '},46:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <div class="kso-act-box"> <div class="fL kso-act-img"> <img src="'+o(s(null!=(i=null!=a?a.tweet:a)?i.image_link:i,a))+'" width="32" ></img> </div> <div class="twitter fL w390 kso-act-cont"> <a href="'+o(t.getRebrandKey.call(r,"TW_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(s(null!=(i=null!=a?a.tweet:a)?i.screen_name:i,a))+'" target="_blank" class="whois">'+o(s(null!=(i=null!=a?a.tweet:a)?i.name:i,a))+'</a> <i class="from"> @'+o(s(null!=(i=null!=a?a.reply:a)?i.screen_name:i,a))+'</i> <div class="f13 color7 kso-act-desc">'+(null!=(i=s(null!=(i=null!=a?a.tweet:a)?i.text:i,a))?i:"")+"</div> "+(null!=(i=t.if.call(r,null!=(i=null!=(i=null!=a?a.tweet:a)?i.entities:i)?i.media:i,{name:"if",hash:{},fn:e.program(47,l,0),inverse:e.noop,data:l}))?i:"")+' <div class="mt5"> <span class="cN when" title="'+o(s(null!=(i=null!=a?a.tweet:a)?i.title_time:i,a))+'">'+o(s(null!=(i=null!=a?a.tweet:a)?i.disp_time:i,a))+'</span> </div> <div class="whiteBg p10 mT10 posRel" style="border-left: 2px solid #55acee;"> <div class="fL"> <img src="'+o(s(null!=(i=null!=a?a.reply:a)?i.image_link:i,a))+'" width="32" ></img> </div> <div class="mL40"> <a href="'+o(t.getRebrandKey.call(r,"TW_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(s(null!=(i=null!=a?a.reply:a)?i.screen_name:i,a))+'" target="_blank" class="whois">'+o(s(null!=(i=null!=a?a.reply:a)?i.name:i,a))+'</a> <i class="from"> @'+o(s(null!=(i=null!=a?a.reply:a)?i.screen_name:i,a))+'</i> <div class="commenttxt what">'+(null!=(i=s(null!=(i=null!=a?a.reply:a)?i.text:i,a))?i:"")+'</div> <div class="mt5"> <span class="cN when" title="'+o(s(null!=(i=null!=a?a.reply:a)?i.title_time:i,a))+'">'+o(s(null!=(i=null!=a?a.reply:a)?i.disp_time:i,a))+'</span> </div> </div> <div class="clearB"></div> </div> </div> <div class="clearB"></div> </div> '},47:function(e,a,t,n,l){var i;return" "+(null!=(i=t.each.call(null!=a?a:{},null!=(i=null!=(i=null!=a?a.tweet:a)?i.entities:i)?i.media:i,{name:"each",hash:{},fn:e.program(44,l,0),inverse:e.noop,data:l}))?i:"")+" "},49:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression,r=e.lambda;return' <div class="kso-act-box"> <div class="fL kso-act-img"> <img src="'+o(t.getRebrandKey.call(s,"TW_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(r(null!=a?a.screen_name:a,a))+'/profile_image?size=original" width="32" /> </div> <div class="twitter fL w390 kso-act-cont"> <a href="'+o(t.getRebrandKey.call(s,"TW_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(r(null!=a?a.screen_name:a,a))+'" target="_blank" class="whois">'+o(r(null!=a?a.name:a,a))+'</a> <i class="from"> @'+o(r(null!=a?a.screen_name:a,a))+'</i> <div class="f13 color7 kso-act-desc">'+(null!=(i=r(null!=a?a.text:a,a))?i:"")+'</div> <div class="mt5"> <span class="cN when" title="'+o(r(null!=a?a.title_time:a,a))+'">'+o(r(null!=a?a.disp_time:a,a))+'</span> </div> </div> <div class="clearB"></div> </div> '},51:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <div class="f13 what" valign="top"> <div class="sepline mB10"></div> '+(null!=(i=t.if.call(s,null!=a?a.entityadded:a,{name:"if",hash:{},fn:e.program(52,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.status:a,{name:"if",hash:{},fn:e.program(54,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.commented:a,{name:"if",hash:{},fn:e.program(57,l,0),inverse:e.noop,data:l}))?i:"")+" <div> "},52:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <div class="kso-act-box"> <div class="fL kso-act-img"> <img src="'+o(s(null!=(i=null!=(i=null!=a?a.info:a)?i.image:i)?i.url:i,a))+'" width="70" ></img> </div> <div class="fL w390 kso-act-cont"> <a href="'+o(s(null!=(i=null!=a?a.info:a)?i.url:i,a))+'" target="_blank" class="whois">'+o(s(null!=(i=null!=a?a.info:a)?i.displayName:i,a))+'</a> <div class="f13 color7 kso-act-desc">'+o(s(null!=(i=null!=a?a.info:a)?i.tagline:i,a))+'</div> </div> <div class="clearB"></div> </div> '},54:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <div class="kso-act-box"> <div class="fL kso-act-img"> <img src="'+o(s(null!=(i=null!=(i=null!=a?a.actor:a)?i.image:i)?i.url:i,a))+'" width="32" ></img> </div> <div class="facebook fL w390 kso-act-cont"> <a href="'+o(s(null!=(i=null!=a?a.actor:a)?i.url:i,a))+'" target="_blank" class="whois">'+o(s(null!=(i=null!=a?a.actor:a)?i.displayName:i,a))+'</a> <div class="f13 color7 kso-act-desc">'+(null!=(i=s(null!=a?a.title:a,a))?i:"")+"</div> "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.photo:a,{name:"if",hash:{},fn:e.program(55,l,0),inverse:e.noop,data:l}))?i:"")+' <div class="mt5"> <span class="cN when" title="'+o(s(null!=a?a.title_time:a,a))+'">'+o(s(null!=a?a.disp_time:a,a))+'</span> </div> </div> <div class="clearB"></div> </div> '},55:function(e,a,t,n,l){var i;return' <div class="what mt10"> <img src="'+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=a?a.photo:a)?i.image:i)?i.url:i,a))+'" class="contentimage" onload="crmSocial.setImageWidthHeight(this);" ></img> </div> '},57:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <div class="kso-act-box"> <div class="fL kso-act-img"> <img src="'+o(s(null!=(i=null!=(i=null!=(i=null!=a?a.post:a)?i.actor:i)?i.image:i)?i.url:i,a))+'" width="32" ></img> </div> <div class="facebook fL w390 kso-act-cont"> <a href="'+o(s(null!=(i=null!=(i=null!=a?a.post:a)?i.actor:i)?i.url:i,a))+'" target="_blank" class="whois">'+o(s(null!=(i=null!=(i=null!=a?a.post:a)?i.actor:i)?i.displayName:i,a))+'</a> <div class="what">'+(null!=(i=s(null!=(i=null!=a?a.post:a)?i.title:i,a))?i:"")+"</div> "+(null!=(i=t.if.call(r,null!=(i=null!=a?a.post:a)?i.photo:i,{name:"if",hash:{},fn:e.program(58,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(r,null!=(i=null!=a?a.post:a)?i.article:i,{name:"if",hash:{},fn:e.program(60,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(r,null!=(i=null!=a?a.post:a)?i.event:i,{name:"if",hash:{},fn:e.program(62,l,0),inverse:e.noop,data:l}))?i:"")+' <div class="mt5"> <span class="cN when" title="'+o(s(null!=(i=null!=a?a.post:a)?i.title_time:i,a))+'">'+o(s(null!=(i=null!=a?a.post:a)?i.disp_time:i,a))+'</span> </div> <div class="whiteBg p10 mT10 posRel" style="border-left: 2px solid #55acee;"> <div class="fL"> <img src="'+o(s(null!=(i=null!=(i=null!=(i=null!=a?a.comment:a)?i.actor:i)?i.image:i)?i.url:i,a))+'" width="32" ></img> </div> <div class="mL40"> <a href="'+o(s(null!=(i=null!=(i=null!=a?a.comment:a)?i.actor:i)?i.url:i,a))+'" target="_blank" class="whois">'+o(s(null!=(i=null!=(i=null!=a?a.comment:a)?i.actor:i)?i.displayName:i,a))+'</a> <div class="commenttxt what f13 mT5">'+(null!=(i=s(null!=(i=null!=a?a.comment:a)?i.title:i,a))?i:"")+'</div> <div class="mt5"> <span class="cN when" title="'+o(s(null!=(i=null!=a?a.comment:a)?i.title_time:i,a))+'">'+o(s(null!=(i=null!=a?a.comment:a)?i.disp_time:i,a))+'</span> </div> </div> <div class="clearB"></div> </div> </div> <div class="clearB"></div> </div> '},58:function(e,a,t,n,l){var i;return' <div class="what mt10"> <img src="'+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=(i=null!=a?a.post:a)?i.photo:i)?i.image:i)?i.url:i,a))+'" class="contentimage" onload="crmSocial.setImageWidthHeight(this);" ></img> </div> '},60:function(e,a,t,n,l){var i,s=e.escapeExpression,o=e.lambda;return' <div class="what mt10 cP" onclick="sE(event); window.open(\''+s(t.encodeURL.call(null!=a?a:{},null!=(i=null!=(i=null!=a?a.post:a)?i.article:i)?i.url:i,{name:"encodeURL",hash:{},data:l}))+'\',\'_newTab\');"> <div class="kso_sharedlink"> <img src="'+s(o(null!=(i=null!=(i=null!=(i=null!=a?a.post:a)?i.article:i)?i.image:i)?i.url:i,a))+'" class="contentimage fL mR20" onload="crmSocial.setImageWidthHeight(this);" ></img> <div class="p15"> <div class="linkTitle">'+(null!=(i=o(null!=(i=null!=(i=null!=a?a.post:a)?i.article:i)?i.displayName:i,a))?i:"")+'</div> </div> <div class="cB"></div> </div> </div> '},62:function(e,a,t,n,l){var i,s=e.lambda;return' <div class="what mt10 cP" onclick="sE(event); window.open(\''+e.escapeExpression(t.encodeURL.call(null!=a?a:{},null!=(i=null!=(i=null!=a?a.post:a)?i.event:i)?i.url:i,{name:"encodeURL",hash:{},data:l}))+'\',\'_newTab\');"> <div class="kso_sharedlink"> <div class="p15"> <div class="linkTitle">'+(null!=(i=s(null!=(i=null!=(i=null!=a?a.post:a)?i.event:i)?i.displayName:i,a))?i:"")+'</div> <div class="linkCapt">'+(null!=(i=s(null!=(i=null!=(i=null!=a?a.post:a)?i.event:i)?i.content:i,a))?i:"")+'</div> </div> <div class="cB"></div> </div> </div> '},64:function(e,a,t,n,l){var i;return" "+(null!=(i=e.invokePartial(n.CustomCursor,a,{name:"CustomCursor",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+" "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=null!=a?a:{};return" "+(null!=(i=t.each.call(s,null!=a?a.actList:a,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.cursor:a,{name:"if",hash:{},fn:e.program(64,l,0),inverse:e.noop,data:l}))?i:"")+" "},usePartial:!0,useData:!0}),a.ActivityLog=e({compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i;return'<div class="titleDiv pT25 pB15"> <div class="posabs socialImgsvg dbBtnClose fR mT15" style="top: 17px;" onclick="crmSocial.pop_slideup(\'kso_auditlog_popup\');" data-zcqa="close_audit"></div> <div class="settingTitle dIB mL30 crm-font-regular">'+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.nsocial.tab.activity",{name:"getI18n",hash:{},data:l}))+'</div> </div> <div id="zSocial_myActivities" class="posRel ps-container" style="height: 541px; overflow: hidden;"> <div id="zSocial_myActivities_innerdiv" style="height: 1534px;"> <div class="p30 pT0 pB0"> <ul id="zSocial_myActivities_list" class="mL0 pL0 w100per"> '+(null!=(i=e.invokePartial(n.ActivityList,a,{name:"ActivityList",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+" </ul> </div> </div> </div> "},usePartial:!0,useData:!0}),a.AssociationList=e({1:function(e,a,t,n,l){var i;return' <div id="no_association" class="pT20 lightgraytxt f13 aligncenter"> '+(null!=(i=t.if_all.call(null!=a?a:{},null!=a?a.lead:a,null!=a?a.contact:a,{name:"if_all",hash:{},fn:e.program(2,l,0),inverse:e.program(4,l,0),data:l}))?i:"")+" </div> "},2:function(e,a,t,n,l){return" "+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.social.associate.not.found",null!=a?a.lead:a,null!=a?a.contact:a,{name:"getI18n",hash:{},data:l}))+" "},4:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.lead:a,{name:"if",hash:{},fn:e.program(5,l,0),inverse:e.program(7,l,0),data:l}))?i:"")+" "},5:function(e,a,t,n,l){return" "+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.social.associate.not.found.single",null!=a?a.lead:a,{name:"getI18n",hash:{},data:l}))+" "},7:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.contact:a,{name:"if",hash:{},fn:e.program(8,l,0),inverse:e.noop,data:l}))?i:"")+" "},8:function(e,a,t,n,l){return" "+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.social.associate.not.found.single",null!=a?a.contact:a,{name:"getI18n",hash:{},data:l}))+" "},10:function(e,a,t,n,l,i,s){var o,r=null!=a?a:{};return" "+(null!=(o=t.each.call(r,null!=a?a.Result:a,{name:"each",hash:{},fn:e.program(11,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "+(null!=(o=t.if.call(r,null!=a?a.more:a,{name:"if",hash:{},fn:e.program(23,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},11:function(e,a,t,n,l,i,s){var o,r=null!=a?a:{},c=e.escapeExpression,d=e.lambda;return' <div class="clearFix borderBottom pT10 pB10"> <a class="fL" href="javascript:void(0);"> '+(null!=(o=t.if.call(r,null!=a?a.PHOTO_FILEID:a,{name:"if",hash:{},fn:e.program(12,l,0,i,s),inverse:e.program(14,l,0,i,s),data:l}))?o:"")+' </a> <div class="pL40"> <div class="fR posRel"> <img class="mT15" style="display:none; margin-right:35px;" src="'+c(t.img_link.call(r,{name:"img_link",hash:{},data:l}))+'/social_loading_599c9b1_.gif" /> <input type="button" class="newgraybtn crm-font-regular" value="'+c(t.getI18n.call(r,"crm.nsocial.entity.associate",null!=a?a.label:a,{name:"getI18n",hash:{},data:l}))+'" data-zcqa="associate" onclick="crmSocialEntity.getEntityAssociation(this, \''+c(d(null!=a?a.module:a,a))+"', '"+c(d(null!=s[1]?s[1].profileid:s[1],a))+"', '"+c(d(null!=a?a.SEID:a,a))+"', '"+c(d(null!=s[1]?s[1].network:s[1],a))+'\');" /> </div> <div class="pB3 dIB fL"> <a href="'+c(t.getCrmBasePath.call(r,{name:"getCrmBasePath",hash:{},data:l}))+"/ShowEntityInfo.do?id="+c(d(null!=a?a.SEID:a,a))+"&module="+c(d(null!=a?a.module:a,a))+'&pfrom=cv&isload=true" class="whois" target="_blank">'+c(d(null!=a?a.FULLNAME:a,a))+"</a> "+(null!=(o=t.if.call(r,null!=a?a.AN:a,{name:"if",hash:{},fn:e.program(16,l,0,i,s),inverse:e.program(18,l,0,i,s),data:l}))?o:"")+" </div> "+(null!=(o=t.if.call(r,null!=a?a.EMAIL:a,{name:"if",hash:{},fn:e.program(21,l,0,i,s),inverse:e.noop,data:l}))?o:"")+' </div> <div class="cB"></div> </div> '},12:function(e,a,t,n,l){var i=e.escapeExpression,s=e.lambda;return' <img width="32" src="'+i(t.getCrmBasePath.call(null!=a?a:{},{name:"getCrmBasePath",hash:{},data:l}))+"/EntityImageAttach.do?action_module="+i(s(null!=a?a.module:a,a))+"&entityId="+i(s(null!=a?a.SEID:a,a))+"&actionName=readImage&fileId="+i(s(null!=a?a.PHOTO_FILEID:a,a))+'" class="fL bRadius3" /> '},14:function(e,a,t,n,l){return' <img width="32" src="'+e.escapeExpression(t.img_link.call(null!=a?a:{},{name:"img_link",hash:{},data:l}))+'/nophoto_80ea3af_.png" class="fL bRadius3" /> '},16:function(e,a,t,n,l){return' <i class="gray2 dB crm-font-regular mT2">'+e.escapeExpression(e.lambda(null!=a?a.AN:a,a))+"</i> "},18:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.COMPANY:a,{name:"if",hash:{},fn:e.program(19,l,0),inverse:e.noop,data:l}))?i:"")+" "},19:function(e,a,t,n,l){return' <i class="gray2 dB crm-font-regular mT2">'+e.escapeExpression(e.lambda(null!=a?a.COMPANY:a,a))+"</i> "},21:function(e,a,t,n,l){return' <div class="pb5 gray2 crm-font-regular">'+e.escapeExpression(e.lambda(null!=a?a.EMAIL:a,a))+"</div> "},23:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <div id="more_associations" onclick="crmSocialEntity.fetchAssociation(\''+s(i(null!=a?a.profileid:a,a))+"','"+s(i(null!=a?a.network:a,a))+"','"+s(i(null!=a?a.brid:a,a))+"','"+s(i(null!=a?a.module:a,a))+"', '"+s(i(null!=a?a.sIndex:a,a))+'\', true)" class="zso_more mR10 crm-font-regular" data-zcqa="more_association"> '+s(t.getI18n.call(null!=a?a:{},"crm.menu.more",{name:"getI18n",hash:{},data:l}))+" </div> "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l,i,s){var o;return" "+(null!=(o=t.if.call(null!=a?a:{},null!=a?a.none:a,{name:"if",hash:{},fn:e.program(1,l,0,i,s),inverse:e.program(10,l,0,i,s),data:l}))?o:"")+" "},useData:!0,useDepths:!0}),a.CommentList=e({1:function(e,a,t,n,l){var i;return" "+(null!=(i=t.each.call(null!=a?a:{},null!=(i=null!=(i=null!=a?a.object:a)?i.replies:i)?i.data:i,{name:"each",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l}))?i:"")+" "},2:function(e,a,t,n,l){var i;return" "+(null!=(i=e.invokePartial(n.CommentTemplate,a,{name:"CommentTemplate",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+" "},4:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.comments:a,{name:"if",hash:{},fn:e.program(5,l,0),inverse:e.noop,data:l}))?i:"")+" "},5:function(e,a,t,n,l){var i;return" "+(null!=(i=t.each.call(null!=a?a:{},null!=(i=null!=a?a.comments:a)?i.data:i,{name:"each",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l}))?i:"")+" "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i;return(null!=(i=t.if.call(null!=a?a:{},null!=a?a.object:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(4,l,0),data:l}))?i:"")+" "},usePartial:!0,useData:!0}),a.CommentTemplate=e({1:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <div id="comment_'+o(s(null!=a?a.id:a,a))+'_div" class="grayBg4"> <div class="feedwhiteborder detailfeedcomment wwbw"> <table cellpadding="0" cellspacing="10" width="100%" class="tblFixed"> <tr> <td class="kso_photo_td"> <img src="'+o(s(null!=(i=null!=(i=null!=a?a.actor:a)?i.image:i)?i.url:i,a))+'" class="kso_user_photo" ></img> </td> <td> <div> <a href="'+o(s(null!=(i=null!=a?a.actor:a)?i.url:i,a))+'" onclick="sE(event);" target="_blank" class="whois kso_link">'+o(s(null!=(i=null!=a?a.actor:a)?i.displayName:i,a))+'</a> <span class="what">'+(null!=(i=s(null!=(i=null!=a?a.object:a)?i.content:i,a))?i:"")+'</span> </div> <div class="pT5"> <a href="'+o(s(null!=a?a.url:a,a))+'" onclick="sE(event);" target="_blank" class="when" title="'+o(s(null!=a?a.title_time:a,a))+'">'+o(s(null!=a?a.disp_time:a,a))+"</a> </div> </td> </tr> </table> </div> </div> "},3:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <div id="comment_'+o(s(null!=a?a.id:a,a))+'_div" class="fL w100per" c_id="'+o(s(null!=a?a.id:a,a))+'" l_cnt="'+o(s(null!=a?a.like_count:a,a))+'" c_cnt="'+o(s(null!=a?a.comment_count:a,a))+'"> <div class="feedwhiteborder  detailfeedcomment wwbw pR"> <table cellpadding="0" cellspacing="10" width="100%" class="tblFixed"> <tr> <td class="kso_photo_td"> '+(null!=(i=t.if.call(r,null!=a?a.picture:a,{name:"if",hash:{},fn:e.program(4,l,0),inverse:e.program(6,l,0),data:l}))?i:"")+" </td> <td> "+(null!=(i=t.if.call(r,null!=a?a.can_remove:a,{name:"if",hash:{},fn:e.program(8,l,0),inverse:e.noop,data:l}))?i:"")+' <div> <a href="'+o(t.getRebrandKey.call(r,"FB_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(s(null!=(i=null!=a?a.from:a)?i.id:i,a))+'" onclick="sE(event);" target="_blank" class="whois kso_link">'+o(s(null!=(i=null!=a?a.from:a)?i.name:i,a))+'</a> <span class="what">'+(null!=(i=s(null!=a?a.message:a,a))?i:"")+"</span> "+(null!=(i=t.if.call(r,null!=a?a.isPic:a,{name:"if",hash:{},fn:e.program(14,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(r,null!=a?a.video:a,{name:"if",hash:{},fn:e.program(16,l,0),inverse:e.noop,data:l}))?i:"")+' </div> <div> <div id="comment_action" comment_id="'+o(s(null!=a?a.id:a,a))+'" class="fL w100per"> <a href="'+o(s(null!=a?a.permalink:a,a))+'" onclick="sE(event);" target="_blank" class="when fL mT2" title="'+o(s(null!=a?a.title_time:a,a))+'">'+o(s(null!=a?a.disp_time:a,a))+"</a> "+(null!=(i=t.if.call(r,null!=a?a.interact:a,{name:"if",hash:{},fn:e.program(19,l,0),inverse:e.noop,data:l}))?i:"")+" </div> "+(null!=(i=t.unless.call(r,null!=a?a.kanban:a,{name:"unless",hash:{},fn:e.program(24,l,0),inverse:e.noop,data:l}))?i:"")+" </div> </td> </tr> </table> </div> </div> "},4:function(e,a,t,n,l){return' <img src="'+e.escapeExpression(e.lambda(null!=a?a.picture:a,a))+'" class="kso_user_photo" ></img> '},6:function(e,a,t,n,l){var i,s=e.escapeExpression;return' <img src="'+s(t.getRebrandKey.call(null!=a?a:{},"FB_GRAPH_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+s(e.lambda(null!=(i=null!=a?a.from:a)?i.id:i,a))+'/picture" class="kso_user_photo" /> '},8:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.interact:a,{name:"if",hash:{},fn:e.program(9,l,0),inverse:e.noop,data:l}))?i:"")+" "},9:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.kanban:a,{name:"if",hash:{},fn:e.program(10,l,0),inverse:e.program(12,l,0),data:l}))?i:"")+" "},10:function(e,a,t,n,l){return' <div class="socialImgsvg socPostDel floatR kanbandel" onclick="sE(event); crmSocial.confirmDelComment(this, \''+e.escapeExpression(e.lambda(null!=a?a.id:a,a))+"', 'facebook', 'comment_kanban');\" data-zcqa=\"del_comment\"></div> "},12:function(e,a,t,n,l){return' <div class="socialImgsvg socPostDel floatR vh" onclick="sE(event); crmSocial.confirmDelComment(this, \''+e.escapeExpression(e.lambda(null!=a?a.id:a,a))+"', 'facebook', 'detail_comment');\" data-zcqa=\"del_comment\"></div> "},14:function(e,a,t,n,l){return' <div class="feed_detail_maincontant"> <img src="'+e.escapeExpression(e.lambda(null!=a?a.picture:a,a))+'" class="contentimage" onload="crmSocial.setImageWidthHeight(this);"></img> </div> '},16:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <div class="what mt10 background_white" > <div class="kso_sharedlink kso_fb_video_link"> <img id="videoimage" src="'+o(s(null!=a?a.picture:a,a))+'" class="contentimage fL kso_fb_video_image" onload="crmSocial.setImageWidthHeight(this,\'video\');" data-zcqa="play_video"\n\t\t\t\t\t\t\t\t\t\t\t\tonclick="sE(event); crmSocial.showVideoInFrame(this,\'https://www.youtube-nocookie.com/embed/'+o(s(null!=a?a.videoUrl:a,a))+'?autoplay=1\',\'commentDetail\');"/> <div id="imagesvg" class="kso_fb_video"> <span class="socialImgsvg kso_fb_video_svg kso_fb_video_photo" data-zcqa="play_video_div"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonclick="sE(event); crmSocial.showVideoInFrame(this,\'https://www.youtube-nocookie.com/embed/'+o(s(null!=a?a.videoUrl:a,a))+'?autoplay=1\',\'commentDetail\');"></span> </div> <iframe id="videoframe" src="" frameborder="0" style="display:none;" class="social_fb_iframe"></iframe> '+(null!=(i=t.with.call(null!=a?a:{},null!=a?a.attachment:a,{name:"with",hash:{},fn:e.program(17,l,0),inverse:e.noop,data:l}))?i:"")+" </div> </div> "},17:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <div class="background_white backgroung_padding"> <div class="linkTitle"> <a onmouseover="this.style.textDecoration=\'underline\';" onmouseout="this.style.textDecoration=\'none\';" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\thref="'+s(i(null!=a?a.link:a,a))+'" onclick="sE(event);" target="_blank"> <div class="kso_link_title_kanbanview" title=\''+s(i(null!=a?a.title:a,a))+"'>"+s(i(null!=a?a.title:a,a))+'</div> </a> </div> <div class="linkDesc kso_desc_kanbanview" title=\''+s(i(null!=a?a.description:a,a))+"'>"+s(i(null!=a?a.description:a,a))+"</div> </div> "},19:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return"  "+(null!=(i=t.if.call(s,null!=a?a.user_likes:a,{name:"if",hash:{},fn:e.program(20,l,0),inverse:e.program(22,l,0),data:l}))?i:"")+' <a class="kso_fbComment fL mL15" href="javascript:void(0);" onclick="sE(event); crmSocial.toggleResponseInDetail(this, \'facebook\', \''+o(e.lambda(null!=a?a.name:a,a))+'\', \'false\');" data-zcqa="toggle_comment"> <span class="socialImgsvg"></span> <span class="fR mL3" style="font-size: 14px">'+o(t.notEqualsZero.call(s,null!=a?a.comment_count:a,{name:"notEqualsZero",hash:{},data:l}))+'</span> </a> <div id="response" class="fL w100per" style="display: none;"></div> '},20:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <a class="kso_fbLiked fL mL15" href="javascript:void(0);" onclick="sE(event); crmSocial.like(this, \'facebook\',\''+s(i(null!=a?a.id:a,a))+'\');" liked="'+s(i(null!=a?a.user_lies:a,a))+'" data-zcqa="like"> <span class="socialImgsvg"></span> <span class="fR mL3" style="font-size: 14px">'+s(t.notEqualsZero.call(null!=a?a:{},null!=a?a.like_count:a,{name:"notEqualsZero",hash:{},data:l}))+"</span> </a> "},22:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <a class="kso_fbLike fL mL15" href="javascript:void(0);" onclick="sE(event); crmSocial.like(this, \'facebook\',\''+s(i(null!=a?a.id:a,a))+'\');" liked="'+s(i(null!=a?a.user_likes:a,a))+'" data-zcqa="like"> <span class="socialImgsvg"></span> <span class="fR mL3" style="font-size: 14px">'+s(t.notEqualsZero.call(null!=a?a:{},null!=a?a.like_count:a,{name:"notEqualsZero",hash:{},data:l}))+"</span> </a> "},24:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.replies:a,{name:"if",hash:{},fn:e.program(25,l,0),inverse:e.noop,data:l}))?i:"")+" "},25:function(e,a,t,n,l){var i,s=null!=a?a:{};return" "+(null!=(i=t.if.call(s,null!=(i=null!=a?a.replies:a)?i.cursor:i,{name:"if",hash:{},fn:e.program(26,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.each.call(s,null!=(i=null!=a?a.replies:a)?i.data:i,{name:"each",hash:{},fn:e.program(28,l,0),inverse:e.noop,data:l}))?i:"")+" "},26:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <div network="facebook" feedid="'+o(s(null!=a?a.id:a,a))+'" class="pR kso_view_more_reply fL" data-zcqa="replies_cursor" onclick="crmSocial.getReplies(this, \''+o(s(null!=a?a.id:a,a))+"', '"+o(s(null!=a?a.comment_count:a,a))+"', '"+o(s(null!=(i=null!=a?a.replies:a)?i.cursor:i,a))+"');\"> <span> "+o(t.getI18n.call(null!=a?a:{},"crm.nsocial.tab.view.more.replies",{name:"getI18n",hash:{},data:l}))+" </span> </div> "},28:function(e,a,t,n,l){var i;return" "+(null!=(i=e.invokePartial(n.ReplyToComment,a,{name:"ReplyToComment",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+" "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.actor:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l}))?i:"")},usePartial:!0,useData:!0}),a.Compose=e({1:function(e,a,t,n,l){return' <span id="tweet_limit" class="mR10 mT10 color_7" style="display: inline-block;">280</span> '},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return'<div id="composeContainer" class="kso-comp-inner"> <div id="composePost" class="mB10"> <div class="dN pR composeimgcont" style="background-color: #fff; border-left: 1px solid #E7E7E7; border-right: 1px solid #E7E7E7; margin-top: -3px; padding: 5px;"> <img id="composeimg" class="composeimg" ></img> <div class="posabs socialImgsvg dbBtnClose fR mT15" onclick="crmSocial.removeFile();" data-zcqa="remove_file"></div> </div> <div class="img-option-cont mB0"> <a class="img-option comp-image" href="javascript:void(0);" data-id="image"> <input type="file" id="composeChose" accept="image/*" onchange="crmSocial.onFileSelected(event);" data-zcqa="file_selection"/> <span class="socialImgsvg ks-addimg fL"></span> <span class="fL mL5 f12 fs">'+o(t.getI18n.call(s,"crm.image.add.lable",{name:"getI18n",hash:{},data:l}))+'</span> </a> </div> <div id="timelineTweet"> <div class="pR" id="compDetails"> <div class="fR mT10"> '+(null!=(i=t.if.call(s,null!=a?a.twitter:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+' <button id="cancelBtn" class="ks-graybtn mR5" onclick="crmSocial.resetCompose();" data-zcqa="compose_reset">'+o(t.getI18n.call(s,"crm.button.cancel",{name:"getI18n",hash:{},data:l}))+'</button> <button id="postBtn" class="ks-greenbtn" style="opacity: 0.5;" disabled="disabled" onclick="crmSocial.post(this);" data-zcqa="post">'+o(t.getI18n.call(s,"crm.button.post",{name:"getI18n",hash:{},data:l}))+"</button> </div> </div> </div> </div> </div> "},useData:!0}),a.ConvoTemplate=e({1:function(e,a,t,n,l){var i,s=null!=a?a:{};return" "+(null!=(i=t.if.call(s,null!=a?a.twDetail:a,{name:"if",hash:{},fn:e.program(2,l,0),inverse:e.program(4,l,0),data:l}))?i:"")+" <span> "+e.escapeExpression(t.getI18n.call(s,"crm.nsocial.tab.view.more.convo",{name:"getI18n",hash:{},data:l}))+" </span> </div> "},2:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return" <div onclick=\"crmSocial.viewMore(this, '"+s(i(null!=a?a.cursor:a,a))+"', 'twDetail');\" brid=\""+s(i(null!=a?a.brid:a,a))+'" network="'+s(i(null!=a?a.network:a,a))+'" feedid="'+s(i(null!=a?a.thread_id:a,a))+'" class="pR kso_view_more_convo" data-zcqa="cursor_convo"> '},4:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return" <div onclick=\"crmSocial.viewMore(this, '"+s(i(null!=a?a.cursor:a,a))+"', 'detail');\" brid=\""+s(i(null!=a?a.brid:a,a))+'" network="'+s(i(null!=a?a.network:a,a))+'" feedid="'+s(i(null!=a?a.postId:a,a))+'" class="pR kso_view_more_convo" data-zcqa="cursor_convo"> '},6:function(e,a,t,n,l){var i=null!=a?a:{},s=e.escapeExpression;return' <div id="dmNoContent" class="dmNoContent"> <div class="noDmmsg socialImgsvg"></div> <div class="noConv mT5 mB8">'+s(t.getI18n.call(i,"crm.nsocial.no.message",{name:"getI18n",hash:{},data:l}))+'</div> <div class="dmStart">'+s(t.getI18n.call(i,"crm.nsocial.start.message",{name:"getI18n",hash:{},data:l}))+"</div> </div> "},8:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.left:a,{name:"if",hash:{},fn:e.program(9,l,0),inverse:e.program(29,l,0),data:l}))?i:"")+" "},9:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.lambda,r=e.escapeExpression;return' <div class="posRel showLeftSide mT10"> <div class="imgcontainer"> '+(null!=(i=t.if.call(s,null!=a?a.sender:a,{name:"if",hash:{},fn:e.program(10,l,0),inverse:e.program(12,l,0),data:l}))?i:"")+' </div> <div class="contentcontainer"> '+(null!=(i=t.if.call(s,null!=a?a.message:a,{name:"if",hash:{},fn:e.program(17,l,0),inverse:e.program(19,l,0),data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.isPic:a,{name:"if",hash:{},fn:e.program(21,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.attachments:a,{name:"if",hash:{},fn:e.program(23,l,0),inverse:e.noop,data:l}))?i:"")+' </div> <div class="cB pL45 fL mT5"> <span class="lightgray f11 mT5" title="'+r(o(null!=a?a.title_time:a,a))+'">'+r(o(null!=a?a.disp_time:a,a))+'</span> </div> <div class="cB pT10"></div> </div> '},10:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <img src="'+o(s(null!=(i=null!=a?a.sender:a)?i.profile_image_url_https:i,a))+'" target="_blank" title="'+o(s(null!=(i=null!=a?a.sender:a)?i.name:i,a))+'" ></img> '},12:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.picture:a,{name:"if",hash:{},fn:e.program(13,l,0),inverse:e.program(15,l,0),data:l}))?i:"")+" "},13:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <img src="'+o(s(null!=a?a.picture:a,a))+'" target="_blank" title="'+o(s(null!=(i=null!=a?a.from:a)?i.name:i,a))+'" ></img> '},15:function(e,a,t,n,l){var i,s=e.escapeExpression,o=e.lambda;return' <img src="'+s(t.getRebrandKey.call(null!=a?a:{},"FB_GRAPH_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+s(o(null!=(i=null!=a?a.from:a)?i.id:i,a))+'/picture" target="_blank" title="'+s(o(null!=(i=null!=a?a.from:a)?i.name:i,a))+'" /> '},17:function(e,a,t,n,l){var i;return" "+(null!=(i=e.lambda(null!=a?a.message:a,a))?i:"")+" <br> "},19:function(e,a,t,n,l){var i;return" "+(null!=(i=e.lambda(null!=a?a.text:a,a))?i:"")+" <br> "},21:function(e,a,t,n,l){return' <div class="what mt10"> <img src="'+e.escapeExpression(e.lambda(null!=a?a.picture:a,a))+'" class="contentimage" onload="crmSocial.setImageWidthHeightDetailView(this);" ></img> </div> '},23:function(e,a,t,n,l){var i;return' <div class="mT5"> '+(null!=(i=t.each.call(null!=a?a:{},null!=(i=null!=a?a.attachments:a)?i.data:i,{name:"each",hash:{},fn:e.program(24,l,0),inverse:e.noop,data:l}))?i:"")+" </div> "},24:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.image:a,{name:"if",hash:{},fn:e.program(25,l,0),inverse:e.program(27,l,0),data:l}))?i:"")+" <br> "},25:function(e,a,t,n,l){return' <img src="'+e.escapeExpression(e.lambda(null!=a?a.image:a,a))+'" class="contentimage" onload="crmSocial.setImageWidthHeightDetailView(this);" ></img> '},27:function(e,a,t,n,l){var i=e.escapeExpression,s=e.lambda;return' <a href="'+i(t.getRebrandKey.call(null!=a?a:{},"FB_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+i(s(null!=a?a.link:a,a))+'" onclick="sE(event);">'+i(s(null!=a?a.name:a,a))+"</a> "},29:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.lambda,r=e.escapeExpression;return' <div class="posRel showRightSide mT10"> <div class="imgcontainer"> '+(null!=(i=t.if.call(s,null!=a?a.sender:a,{name:"if",hash:{},fn:e.program(10,l,0),inverse:e.program(12,l,0),data:l}))?i:"")+' </div> <div class="contentcontainer"> '+(null!=(i=t.if.call(s,null!=a?a.message:a,{name:"if",hash:{},fn:e.program(17,l,0),inverse:e.program(19,l,0),data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.isPic:a,{name:"if",hash:{},fn:e.program(21,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.attachments:a,{name:"if",hash:{},fn:e.program(30,l,0),inverse:e.noop,data:l}))?i:"")+' </div> <div class="cB pR40 fR mT5"> <span class="lightgray f11 pR5 mT5" title="'+r(o(null!=a?a.title_time:a,a))+'">'+r(o(null!=a?a.disp_time:a,a))+'</span> </div> <div class="cB pT10"></div> </div> '},30:function(e,a,t,n,l){var i;return' <div class="mT5"> '+(null!=(i=t.each.call(null!=a?a:{},null!=(i=null!=a?a.attachments:a)?i.data:i,{name:"each",hash:{},fn:e.program(31,l,0),inverse:e.noop,data:l}))?i:"")+" </div> "},31:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.image:a,{name:"if",hash:{},fn:e.program(32,l,0),inverse:e.program(27,l,0),data:l}))?i:"")+" <br> "},32:function(e,a,t,n,l){return' <img src="'+e.escapeExpression(e.lambda(null!=a?a.image:a,a))+'" class="contentimage" onload="crmSocial.setImageWidthHeightDetailView(this);"></img> '},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=null!=a?a:{};return" "+(null!=(i=t.if.call(s,null!=a?a.cursor:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.message:a,{name:"if",hash:{},fn:e.program(6,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.each.call(s,null!=a?a.data:a,{name:"each",hash:{},fn:e.program(8,l,0),inverse:e.noop,data:l}))?i:"")+" "},useData:!0}),a.CustomCursor=e({1:function(e,a,t,n,l){var i;return' <li id="search_'+e.escapeExpression(e.lambda(null!=a?a.id:a,a))+'_more" class="zs-showmore showmoreNew clearFix"> '+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.edit:a,{name:"if",hash:{},fn:e.program(2,l,0),inverse:e.program(4,l,0),data:l}))?i:"")+" </li> "},2:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return" <a cursor='"+s(i(null!=a?a.next:a,a))+"' onclick=\"sE(event); crmSocial.editSearch('"+s(i(null!=a?a.id:a,a))+"', '"+s(i(null!=a?a.next:a,a))+'\');" class="cP" data-zcqa="search_cursor">'+s(t.getI18n.call(null!=a?a:{},"crm.nsocial.tab.show.more",{name:"getI18n",hash:{},data:l}))+"</a> "},4:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return" <a cursor='"+s(i(null!=a?a.next:a,a))+"' onclick=\"sE(event); crmSocial.getSearchFeeds('"+s(i(null!=a?a.network:a,a))+"', '"+s(i(null!=a?a.next:a,a))+"', '"+s(i(null!=a?a.id:a,a))+'\');" class="cP" data-zcqa="search_cursor">'+s(t.getI18n.call(null!=a?a:{},"crm.nsocial.tab.show.more",{name:"getI18n",hash:{},data:l}))+"</a> "},6:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=(i=null!=a?a.cursor:a)?i.activity:i,{name:"if",hash:{},fn:e.program(7,l,0),inverse:e.noop,data:l}))?i:"")+" "},7:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <li id="'+o(s(null!=(i=null!=a?a.cursor:a)?i.next:i,a))+'_more" class="zs-showmore showmoreNew clearFix "> <a onclick="sE(event); crmSocial.getActivityLog(\''+o(s(null!=(i=null!=a?a.cursor:a)?i.next:i,a))+'\');" class="cP" data-zcqa="activity_cursor">'+o(t.getI18n.call(null!=a?a:{},"crm.nsocial.tab.show.more",{name:"getI18n",hash:{},data:l}))+"</a> </li> "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.search:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(6,l,0),data:l}))?i:"")+" "},useData:!0}),a.CustomFollowing=e({1:function(e,a,t,n,l){return' <div id="trackingTimelineList"> '},3:function(e,a,t,n,l){return' <div id="trackingTimelineList" style="display: none;"> '},5:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.entity:a,{name:"if",hash:{},fn:e.program(6,l,0),inverse:e.noop,data:l}))?i:"")+" "},6:function(e,a,t,n,l){var i;return" "+(null!=(i=e.invokePartial(n.trackingNameList,a,{name:"trackingNameList",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+" "},8:function(e,a,t,n,l){return' <div id="emptyTracking" class="ksoempty_cont" style="display: none"> '},10:function(e,a,t,n,l){return' <div id="emptyTracking" class="ksoempty_cont"> '},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return'<div class="kso_add_col_menu sideMenu" id="kso_follow_menu" style="display: none;" onclick="sE(event);"> <div class="pR oH"> <div id="trackHeader" class="ksheader"> <div class="crm-font-regular ksColHead"> <a id="reset_track" href="javascript:crmSocial.resetTracking();" class="kso_back fL" style="display: none;"></a> <span class="dIB">'+o(t.getI18n.call(s,"crm.nsocial.tooltip.custom.streams",{name:"getI18n",hash:{},data:l}))+' <div id="leadcontactTab" class="fL w100per pT10 leadcontTab pR" params="Contacts"> <div class="tabborder" style="width: 61px"></div> <div class="fL folLead" changeFunction="Contacts" data-zcqa="switch_contacts"\n\t\t\t\t\t\t\tonclick="crmSocial.leadContactTab(this, \'Contacts\'); crmSocial.socialContactDetails(this, event); crmSocial.menuAnimate(this);"> '+o(t.getI18n.call(s,null!=a?a.contacts:a,{name:"getI18n",hash:{},data:l}))+' </div> <div class="fL" changeFunction="Leads" data-zcqa="switch_leads"\n\t\t\t\t\t\t\tonclick="crmSocial.leadContactTab(this, \'Leads\'); crmSocial.socialContactDetails(this, event); crmSocial.menuAnimate(this);"> '+o(t.getI18n.call(s,null!=a?a.leads:a,{name:"getI18n",hash:{},data:l}))+' </div> </div> </span> </div> <div class="pR bbccc followSrch clearB" style="display: none"> <div class="searchUlOuter fL" onclick="$(\'#trackInpt\').focus()" style="padding: 8px 14px 0px 14px;"> <input id="trackInpt" type="text" class="textField" placeholder="'+o(t.getI18n.call(s,"crm.nsocial.tab.filter.enter",null!=a?a.leads:a,null!=a?a.contacts:a,{name:"getI18n",hash:{},data:l}))+'" data-zcqa="streams_input"\n\t\t\t\t\t\tonkeyup="crmSocial.trackInputEvent(this, event);" ></input> </div> <div class="clearB"></div> </div> </div> <div class="kscontainer"> '+(null!=(i=t.if.call(s,null!=a?a.entity:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l}))?i:"")+' <div id="trackingTimelineOuter" class="kso_feed_col p20 pB30"> <div id="trackingTimelineInner" class="kso_feed_col_inner oA pR"> '+(null!=(i=t.each.call(s,null!=a?a.columns:a,{name:"each",hash:{},fn:e.program(5,l,0),inverse:e.noop,data:l}))?i:"")+' </div> </div> <div class="aligncenter saveCancelCol"> <button class="ks-greenbtn crm-font-bold pR" onclick="crmSocial.startNewTracking(); crmSocial.socialContactDetails(this, event);" data-zcqa="new_tracking"> <span class="socialImg ksbtn_plus">+</span> '+o(t.getI18n.call(s,"crm.nsocial.button.add.new",{name:"getI18n",hash:{},data:l}))+" </button> </div> </div> "+(null!=(i=t.if.call(s,null!=a?a.entity:a,{name:"if",hash:{},fn:e.program(8,l,0),inverse:e.program(10,l,0),data:l}))?i:"")+' <div class="pT25 pB35 mB15 aligncenter mAuto dB w180 pR firstFollow"> <div class="f16 georgia mB15" style="font-style: italic; color: #555;">'+o(t.getI18n.call(s,"crm.nsocial.custom.streams.add",{name:"getI18n",hash:{},data:l}))+'</div> <span class="ksp_addarw_dwn"></span> <button class="ks-greenbtn crm-font-bold pR" onclick="crmSocial.startNewTracking(); crmSocial.socialContactDetails(this, event);" data-zcqa="new_tracking"> <span class="socialImg ksbtn_plus">+</span> '+o(t.getI18n.call(s,"crm.nsocial.button.add.new",{name:"getI18n",hash:{},data:l}))+' </button> </div> </div> <div id="trackLoading" class="pT10 aligncenter dN"><span class="kso-hloader"></span></div> <div id="newTrackingSection" class="pR oFS dN focus"> <div id="newTrackingSectionInner" class="newColSectionInner"> <ul id="newTrackingList" class="ks-colsecul"></ul> <div id="showMoreContacts" class="aligncenter saveCancelCol bTN" style="display: inline-block;"> <a id="saveMoreContact" class="newShowmore cP" onclick="crmSocial.socialContactDetails(this, event);" data-zcqa="contact_cursor"">'+o(t.getI18n.call(s,"crm.nsocial.tab.show.more",{name:"getI18n",hash:{},data:l}))+'</a> </div> </div> </div> <div class="clearB"></div> </div> <div id="selectEntities" class="oH mT10 pLR20 pA pb0 w100p boxsizbb" style="display: none; bottom: 0px;"> <div class="crm-font-regular f14 grayTxt2 mT10">'+o(t.getI18n.call(s,"crm.nsocial.custom.selected",null!=a?a.leads:a,null!=a?a.contacts:a,{name:"getI18n",hash:{},data:l}))+'</div> <ul id="selectedTrackingList" class="searchUlSelect mT10"></ul> <div class="crm-font-regular f14 grayTxt2 mT10">'+o(t.getI18n.call(s,"crm.label.title",{name:"getI18n",hash:{},data:l}))+'</div> <input id="trackingName" type="text" class="kso_cinpt mB15" onfocus="crmSocial.heightAdjustment(this);" onfocusout="crmSocial.fucusoutSaveBtn(this);" onkeyup="crmSocial.focusSaveBtn(this);"> <div id="saveTrackingColumn" class="aligncenter saveCancelCol bTN pB15 pT0"> <button id="saveTrackingBtn" class="ks-bluebtn primarybtn" onclick="crmSocial.saveTracking();" style="opacity: 0.5" disabled="disabled" data-zcqa="save_streams"> <span class="dIB"> <span>'+o(t.getI18n.call(s,"crm.nsocial.save.column",{name:"getI18n",hash:{},data:l}))+'</span> <span class="ksbtn_rawrw"></span> </span> </button> </div> </div> </div> </div> '},usePartial:!0,useData:!0}),a.GpCommentList=e({1:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <div id="feed_detail_'+o(s(null!=a?a.id:a,a))+'_comment" class="feedwhiteborder feedgrayborder detailfeedcomment"> <table cellpadding="0" cellspacing="10" width="100%"> <tr> <td class="kso_photo_td"> <img src="'+o(s(null!=(i=null!=(i=null!=a?a.actor:a)?i.image:i)?i.url:i,a))+'" class="kso_user_photo"> </td> <td> <div> <a href="'+o(s(null!=(i=null!=a?a.actor:a)?i.url:i,a))+'" target="_blank" class="whois kso_link">'+o(s(null!=(i=null!=a?a.actor:a)?i.displayName:i,a))+'</a> <span class="what">'+(null!=(i=s(null!=(i=null!=a?a.object:a)?i.content:i,a))?i:"")+'</span> </div> <div> <a href="'+o(s(null!=a?a.url:a,a))+'" target="_blank" class="when" title="'+o(s(null!=a?a.title_time:a,a))+'">'+o(s(null!=a?a.disp_time:a,a))+"</a> </div> </td> </tr> </table> </div> "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i;return" "+(null!=(i=t.each.call(null!=a?a:{},null!=(i=null!=(i=null!=a?a.object:a)?i.replies:i)?i.data:i,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+" "},useData:!0}),a.LikeList=e({1:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <li style="padding: 0 0 10px 0;" class="bb mB10"> <div class="fL kso_photo_td"> '+(null!=(i=t.if.call(s,null!=a?a.displayName:a,{name:"if",hash:{},fn:e.program(2,l,0),inverse:e.program(4,l,0),data:l}))?i:"")+' </div> <div class="fL mT7 mL10"> '+(null!=(i=t.if.call(s,null!=a?a.displayName:a,{name:"if",hash:{},fn:e.program(9,l,0),inverse:e.program(11,l,0),data:l}))?i:"")+' </div> <div class="cB"></div> </li> '},2:function(e,a,t,n,l){var i;return' <img src="'+e.escapeExpression(e.lambda(null!=(i=null!=a?a.image:a)?i.url:i,a))+'" class="kso_user_photo" style="width: 32px; height: 32px;"> '},4:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.picture:a,{name:"if",hash:{},fn:e.program(5,l,0),inverse:e.program(7,l,0),data:l}))?i:"")+" "},5:function(e,a,t,n,l){return' <img src="'+e.escapeExpression(e.lambda(null!=a?a.picture:a,a))+'" class="kso_user_photo" style="width: 32px; height: 32px;"> '},7:function(e,a,t,n,l){var i=e.escapeExpression;return' <img src="'+i(t.getRebrandKey.call(null!=a?a:{},"FB_GRAPH_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+i(e.lambda(null!=a?a.id:a,a))+'/picture" class="kso_user_photo" style="width: 32px; height: 32px;"> '},9:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <a href="'+s(i(null!=a?a.url:a,a))+'" target="_blank" class="whois">'+s(i(null!=a?a.displayName:a,a))+"</a> "},11:function(e,a,t,n,l){var i=e.escapeExpression,s=e.lambda;return' <a href="'+i(t.getRebrandKey.call(null!=a?a:{},"FB_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+i(s(null!=a?a.id:a,a))+'" target="_blank" class="whois">'+i(s(null!=a?a.name:a,a))+"</a> "},13:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <li class="zs-showmore showmoreNew clearFix" style="padding-top: 10px; padding-bottom: 10px"> <a onclick="sE(event); crmSocial.getLikes(event, this, \''+s(i(null!=a?a.feedid:a,a))+"', '"+s(i(null!=a?a.network:a,a))+"', '"+s(i(null!=a?a.cursor:a,a))+'\');" class="cP" data-zcqa="get_likes">'+s(t.getI18n.call(null!=a?a:{},"crm.nsocial.tab.show.more",{name:"getI18n",hash:{},data:l}))+"</a> </li> "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=null!=a?a:{};return" "+(null!=(i=t.each.call(s,null!=a?a.data:a,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.cursor:a,{name:"if",hash:{},fn:e.program(13,l,0),inverse:e.noop,data:l}))?i:"")+" "},useData:!0}),a.ListProfiles=e({1:function(e,a,t,n,l,i,s){var o,r=null!=a?a:{},c=e.escapeExpression,d=e.lambda;return' <div id="profileList" style="display: block;" onclick="sE(event);" class="zso-profilelist top"> <img class="zso-leftArrow socTabProfileArrow" src="'+c(t.img_link.call(r,{name:"img_link",hash:{},data:l}))+'/spacer_e17b417_.gif" /> <div id="profileList_scroll"> <div id="profileListInnerht" class="kso_profiles oA"> <ul> '+(null!=(o=t.each.call(r,null!=a?a.json:a,{name:"each",hash:{},fn:e.program(2,l,0,i,s),inverse:e.noop,data:l}))?o:"")+' </ul> </div> <input type="button" class="zso-btn addPagebtn mR0" value="'+c(t.getI18n.call(r,"crm.nsocial.setup.add",{name:"getI18n",hash:{},data:l}))+'"\n\t\t\t\tonclick="crmSocialSetup.addProfiles(\''+c(d(null!=a?a.account_id:a,a))+"', '"+c(d(null!=a?a.perm_type:a,a))+"', '"+c(d(null!=a?a.network:a,a))+"', '"+c(d(null!=a?a.type:a,a))+'\');" ></input> <input type="button" class="zso-btn addPagebtn" onclick="crmSocial.hideProfileList(this);" value="'+c(t.getI18n.call(r,"crm.nsocial.cancel",{name:"getI18n",hash:{},data:l}))+'" ></input> </div> <div> '},2:function(e,a,t,n,l,i,s){var o;return' <li class="clearFix"> '+(null!=(o=t.if.call(null!=a?a:{},null!=s[1]?s[1].disable:s[1],{name:"if",hash:{},fn:e.program(3,l,0,i,s),inverse:e.program(6,l,0,i,s),data:l}))?o:"")+" </li> "},3:function(e,a,t,n,l,i,s){var o;return" "+(null!=(o=t.if_eq.call(null!=a?a:{},null!=a?a.id:a,null!=s[1]?s[1].disable:s[1],{name:"if_eq",hash:{},fn:e.program(4,l,0,i,s),inverse:e.program(6,l,0,i,s),data:l}))?o:"")+" "},4:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <input type="checkbox" id="'+s(i(null!=a?a.id:a,a))+'" profilename="'+s(i(null!=a?a.name:a,a))+'" checked="true" disabled="true" ></input> <label for="'+s(i(null!=a?a.name:a,a))+'">'+s(i(null!=a?a.name:a,a))+"</label> "},6:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <input type="checkbox" id="'+s(i(null!=a?a.id:a,a))+'" profilename="'+s(i(null!=a?a.name:a,a))+'" ></input> <label for="'+s(i(null!=a?a.name:a,a))+'">'+s(i(null!=a?a.name:a,a))+"</label> "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l,i,s){var o;return" "+(null!=(o=t.if.call(null!=a?a:{},null!=a?a.json:a,{name:"if",hash:{},fn:e.program(1,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},useData:!0,useDepths:!0}),a.PostDetail=e({1:function(e,a,t,n,l){var i;return" "+(null!=(i=e.invokePartial(n.twPostDetail,a,{name:"twPostDetail",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+" "},3:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if_eq.call(null!=a?a:{},null!=a?a.network:a,"facebook",{name:"if_eq",hash:{},fn:e.program(4,l,0),inverse:e.program(6,l,0),data:l}))?i:"")+" "},4:function(e,a,t,n,l){var i;return" "+(null!=(i=e.invokePartial(n.fbPostDetail,a,{name:"fbPostDetail",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+" "},6:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if_eq.call(null!=a?a:{},null!=a?a.network:a,"googleplus",{name:"if_eq",hash:{},fn:e.program(7,l,0),inverse:e.noop,data:l}))?i:"")+" "},7:function(e,a,t,n,l){var i;return" "+(null!=(i=e.invokePartial(n.gpPostDetail,a,{name:"gpPostDetail",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+" "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i;return null!=(i=t.if_eq.call(null!=a?a:{},null!=a?a.network:a,"twitter",{name:"if_eq",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l}))?i:""},usePartial:!0,useData:!0}),a.PostTemplate=e({1:function(e,a,t,n,l){var i;return" "+(null!=(i=t.each.call(null!=a?a:{},null!=a?a.data:a,{name:"each",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l}))?i:"")+" "},2:function(e,a,t,n,l){var i,s=null!=a?a:{};return" "+(null!=(i=t.if_eq.call(s,null!=a?a.network:a,"facebook",{name:"if_eq",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if_eq.call(s,null!=a?a.network:a,"twitter",{name:"if_eq",hash:{},fn:e.program(8,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if_eq.call(s,null!=a?a.network:a,"googleplus",{name:"if_eq",hash:{},fn:e.program(16,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.cursor:a,{name:"if",hash:{},fn:e.program(21,l,0),inverse:e.noop,data:l}))?i:"")+" "},3:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.self:a,{name:"if",hash:{},fn:e.program(4,l,0),inverse:e.program(6,l,0),data:l}))?i:"")+" "+(null!=(i=e.invokePartial(n.fbPost,a,{name:"fbPost",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+" </li> "},4:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <li class="kso_li pL0 cD" p_id="'+o(s(null!=a?a.id:a,a))+'" b_id="'+o(s(null!=a?a.brid:a,a))+'" pro_id="'+o(s(null!=(i=null!=a?a.from:a)?i.id:i,a))+'" m_name="'+o(s(null!=(i=null!=a?a.from:a)?i.module:i,a))+'" e_id="'+o(s(null!=(i=null!=a?a.from:a)?i.entityid:i,a))+'"\n\t\t\t\t\tl_cnt="'+o(s(null!=a?a.likes_count:a,a))+'" c_cnt="'+o(s(null!=a?a.comments_count:a,a))+'" b_img="'+o(s(null!=a?a.br_img:a,a))+'" b_name="'+o(s(null!=a?a.br_name:a,a))+'"> '},6:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return" <li class=\"kso_li pL0\" onclick=\"crmSocial.getFeed(this, 'facebook', '"+o(s(null!=a?a.convo:a,a))+'\');" p_id="'+o(s(null!=a?a.id:a,a))+'" c_id="'+o(s(null!=a?a.comment_id:a,a))+'" t_id="'+o(s(null!=a?a.thread_id:a,a))+'" b_id="'+o(s(null!=a?a.brid:a,a))+'" pro_id="'+o(s(null!=(i=null!=a?a.from:a)?i.id:i,a))+'" \n\t\t\t\t\tm_name="'+o(s(null!=(i=null!=a?a.from:a)?i.module:i,a))+'" e_id="'+o(s(null!=(i=null!=a?a.from:a)?i.entityid:i,a))+'" l_cnt="'+o(s(null!=a?a.post_likes_count:a,a))+'" c_cnt="'+o(s(null!=a?a.post_comments_count:a,a))+'" b_img="'+o(s(null!=a?a.br_img:a,a))+'" b_name="'+o(s(null!=a?a.br_name:a,a))+'"> '},8:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.right_panel:a,{name:"if",hash:{},fn:e.program(9,l,0),inverse:e.program(11,l,0),data:l}))?i:"")+" "+(null!=(i=e.invokePartial(n.twPost,a,{name:"twPost",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+" </li> "},9:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <li class="kso_li pL0 cD" p_id="'+o(s(null!=a?a.id_str:a,a))+'" c_id="'+o(s(null!=a?a.comment_id:a,a))+'" t_id="'+o(s(null!=a?a.thread_id:a,a))+'" b_id="'+o(s(null!=a?a.brid:a,a))+'" pro_id="'+o(s(null!=(i=null!=a?a.user:a)?i.id_str:i,a))+'" m_name="'+o(s(null!=(i=null!=a?a.user:a)?i.module:i,a))+'" e_id="'+o(s(null!=(i=null!=a?a.user:a)?i.entityid:i,a))+'" \n\t\t\t\t\tu_name="'+o(s(null!=(i=null!=a?a.user:a)?i.screen_name:i,a))+'" u_id="'+o(s(null!=(i=null!=a?a.user:a)?i.id_str:i,a))+'" f_cnt="'+o(s(null!=a?a.favoriters_count:a,a))+'" re_cnt="'+o(s(null!=a?a.retweet_count:a,a))+'" c_cnt="'+o(s(null!=a?a.repliers_count:a,a))+'" b_img="'+o(s(null!=a?a.br_img:a,a))+'" b_name="'+o(s(null!=a?a.br_name:a,a))+'"> '},11:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.kview:a,{name:"if",hash:{},fn:e.program(12,l,0),inverse:e.program(14,l,0),data:l}))?i:"")+" "},12:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return" <li class=\"kso_li pL0\" onclick=\"crmSocial.getFeed(this, 'twitter', '"+o(s(null!=a?a.convo:a,a))+'\');" p_id="'+o(s(null!=a?a.id_str:a,a))+'" c_id="'+o(s(null!=a?a.comment_id:a,a))+'" t_id="'+o(s(null!=a?a.thread_id:a,a))+'" b_id="'+o(s(null!=a?a.brid:a,a))+'" data-zcqa="twitter_post"\n\t\t\t\t\t\tpro_id="'+o(s(null!=(i=null!=a?a.user:a)?i.id_str:i,a))+'" m_name="'+o(s(null!=(i=null!=a?a.user:a)?i.module:i,a))+'" e_id="'+o(s(null!=(i=null!=a?a.user:a)?i.entityid:i,a))+'" u_name="'+o(s(null!=(i=null!=a?a.user:a)?i.screen_name:i,a))+'" u_id="'+o(s(null!=(i=null!=a?a.user:a)?i.id_str:i,a))+'" \n\t\t\t\t\t\tf_cnt="'+o(s(null!=a?a.favoriters_count:a,a))+'" re_cnt="'+o(s(null!=a?a.retweet_count:a,a))+'" c_cnt="'+o(s(null!=a?a.repliers_count:a,a))+'" b_img="'+o(s(null!=a?a.br_img:a,a))+'" b_name="'+o(s(null!=a?a.br_name:a,a))+'"> '},14:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <li class="kso_li pL0 cD" p_id="'+o(s(null!=a?a.id_str:a,a))+'" c_id="'+o(s(null!=a?a.comment_id:a,a))+'" t_id="'+o(s(null!=a?a.thread_id:a,a))+'" b_id="'+o(s(null!=a?a.brid:a,a))+'" pro_id="'+o(s(null!=(i=null!=a?a.user:a)?i.id_str:i,a))+'" m_name="'+o(s(null!=(i=null!=a?a.user:a)?i.module:i,a))+'" e_id="'+o(s(null!=(i=null!=a?a.user:a)?i.entityid:i,a))+'" \n\t\t\t\t\t\tu_name="'+o(s(null!=(i=null!=a?a.user:a)?i.screen_name:i,a))+'" u_id="'+o(s(null!=(i=null!=a?a.user:a)?i.id_str:i,a))+'" f_cnt="'+o(s(null!=a?a.favoriters_count:a,a))+'" re_cnt="'+o(s(null!=a?a.retweet_count:a,a))+'" c_cnt="'+o(s(null!=a?a.repliers_count:a,a))+'" b_img="'+o(s(null!=a?a.br_img:a,a))+'" b_name="'+o(s(null!=a?a.br_name:a,a))+'"> '},16:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.kview:a,{name:"if",hash:{},fn:e.program(17,l,0),inverse:e.program(19,l,0),data:l}))?i:"")+" "+(null!=(i=e.invokePartial(n.gpPost,a,{name:"gpPost",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+" </li> "},17:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return" <li class=\"kso_li pL0\" onclick=\"crmSocial.getFeed(this, 'googleplus', '"+o(s(null!=a?a.convo:a,a))+'\');" data-zcqa="googleplus_post" p_id="'+o(s(null!=a?a.id:a,a))+'" c_id="'+o(s(null!=a?a.comment_id:a,a))+'" \n\t\t\t\t\tt_id="'+o(s(null!=a?a.thread_id:a,a))+'" b_id="'+o(s(null!=a?a.brid:a,a))+'" pro_id="'+o(s(null!=(i=null!=a?a.actor:a)?i.id:i,a))+'" m_name="'+o(s(null!=(i=null!=a?a.actor:a)?i.module:i,a))+'" e_id="'+o(s(null!=(i=null!=a?a.actor:a)?i.entityid:i,a))+'" l_cnt="'+o(s(null!=(i=null!=(i=null!=a?a.object:a)?i.plusoners:i)?i.totalItems:i,a))+'" \n\t\t\t\t\tc_cnt="'+o(s(null!=(i=null!=(i=null!=a?a.object:a)?i.replies:i)?i.totalItems:i,a))+'" b_img="'+o(s(null!=a?a.br_img:a,a))+'" b_name="'+o(s(null!=a?a.br_name:a,a))+'"> '},19:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <li class="kso_li pL0 cD" p_id="'+o(s(null!=a?a.id:a,a))+'" c_id="'+o(s(null!=a?a.comment_id:a,a))+'" t_id="'+o(s(null!=a?a.thread_id:a,a))+'" b_id="'+o(s(null!=a?a.brid:a,a))+'" pro_id="'+o(s(null!=(i=null!=a?a.actor:a)?i.id:i,a))+'" m_name="'+o(s(null!=(i=null!=a?a.actor:a)?i.module:i,a))+'" e_id="'+o(s(null!=(i=null!=a?a.actor:a)?i.entityid:i,a))+'" \n\t\t\t\t\tl_cnt="'+o(s(null!=a?a.likes_count:a,a))+'" c_cnt="'+o(s(null!=a?a.comments_count:a,a))+'" b_img="'+o(s(null!=a?a.br_img:a,a))+'" b_name="'+o(s(null!=a?a.br_name:a,a))+'"> '},21:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <li class="zs-showmore showmoreNew clearFix"> '+(null!=(i=t.if.call(s,null!=(i=null!=a?a.cursor:a)?i.timeline:i,{name:"if",hash:{},fn:e.program(22,l,0),inverse:e.program(27,l,0),data:l}))?i:"")+" "+e.escapeExpression(t.getI18n.call(s,"crm.nsocial.tab.show.more",{name:"getI18n",hash:{},data:l}))+" </a> </li> "},22:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=(i=null!=a?a.cursor:a)?i.filter_id:i,{name:"if",hash:{},fn:e.program(23,l,0),inverse:e.program(25,l,0),data:l}))?i:"")+" "},23:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return" <a onclick=\"crmSocial.getFilter(this, '"+o(s(null!=(i=null!=a?a.cursor:a)?i.filter_id:i,a))+"', '"+o(s(null!=(i=null!=a?a.cursor:a)?i.next:i,a))+'\');" class="cP" data-zcqa="filter_cursor"> '},25:function(e,a,t,n,l){var i;return" <a onclick=\"crmSocial.getFilter(this, '', '"+e.escapeExpression(e.lambda(null!=(i=null!=a?a.cursor:a)?i.next:i,a))+'\');" class="cP" data-zcqa="filter_cursor"> '},27:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=(i=null!=a?a.cursor:a)?i.self:i,{name:"if",hash:{},fn:e.program(28,l,0),inverse:e.program(30,l,0),data:l}))?i:"")+" "},28:function(e,a,t,n,l){var i;return" <a onclick=\"crmSocial.getMyFeeds('"+e.escapeExpression(e.lambda(null!=(i=null!=a?a.cursor:a)?i.next:i,a))+'\', this);" class="cP" data-zcqa="self_cursor"> '},30:function(e,a,t,n,l){var i;return" <a onclick=\"crmSocial.viewMore(this, '"+e.escapeExpression(e.lambda(null!=(i=null!=a?a.cursor:a)?i.next:i,a))+'\');" class="cP" data-zcqa="cursor"> '},32:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if_eq.call(null!=a?a:{},null!=a?a.type:a,"close_pot",{name:"if_eq",hash:{},fn:e.program(33,l,0),inverse:e.program(38,l,0),data:l}))?i:"")+" "},33:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.stream:a,{name:"if",hash:{},fn:e.program(34,l,0),inverse:e.program(36,l,0),data:l}))?i:"")+" "},34:function(e,a,t,n,l){return' <div class="socialMainImgsvg empty-lead-img nocontLead"></div> '+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.nsocial.no.stream.content",null!=a?a.module:a,{name:"getI18n",hash:{},data:l}))+" "},36:function(e,a,t,n,l){var i;return' <div class="socialMainImgsvg empty-customer-img"></div> '+(null!=(i=t.getI18n.call(null!=a?a:{},"crm.nsocial.no.customer.content",{name:"getI18n",hash:{},data:l}))?i:"")+" "},38:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if_eq.call(null!=a?a:{},null!=a?a.type:a,"open_pot",{name:"if_eq",hash:{},fn:e.program(39,l,0),inverse:e.program(44,l,0),data:l}))?i:"")+" "},39:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.stream:a,{name:"if",hash:{},fn:e.program(40,l,0),inverse:e.program(42,l,0),data:l}))?i:"")+" "},40:function(e,a,t,n,l){var i;return' <div class="socialMainImgsvg empty-lead-img nocontLead"></div> '+(null!=(i=t.getI18n.call(null!=a?a:{},"crm.nsocial.no.stream.content",null!=a?a.module:a,{name:"getI18n",hash:{},data:l}))?i:"")+" "},42:function(e,a,t,n,l){return' <div class="socialMainImgsvg empty-potential-img nocontopen"></div> '+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.nsocial.no.potential.content",null!=a?a.potentials:a,null!=a?a.contacts:a,{name:"getI18n",hash:{},data:l}))+" "},44:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if_eq.call(null!=a?a:{},null!=a?a.type:a,"entity",{name:"if_eq",hash:{},fn:e.program(45,l,0),inverse:e.program(48,l,0),data:l}))?i:"")+" "},45:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.stream:a,{name:"if",hash:{},fn:e.program(40,l,0),inverse:e.program(46,l,0),data:l}))?i:"")+" "},46:function(e,a,t,n,l){return' <div class="socialMainImgsvg empty-customer-img"></div> '+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.nsocial.no.entity.content",null!=a?a.leads:a,null!=a?a.contacts:a,{name:"getI18n",hash:{},data:l}))+" "},48:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if_eq.call(null!=a?a:{},null!=a?a.type:a,"unknown",{name:"if_eq",hash:{},fn:e.program(49,l,0),inverse:e.program(51,l,0),data:l}))?i:"")+" "},49:function(e,a,t,n,l){var i;return' <div class="socialMainImgsvg empty-unknown-img nocontunown"></div> '+(null!=(i=t.getI18n.call(null!=a?a:{},"crm.nsocial.no.unkown.content",{name:"getI18n",hash:{},data:l}))?i:"")+" "},51:function(e,a,t,n,l){var i;return' <div class="socialMainImgsvg empty-lead-img nocontLead"></div> '+(null!=(i=t.getI18n.call(null!=a?a:{},"crm.nsocial.no.unkown.content",{name:"getI18n",hash:{},data:l}))?i:"")+" "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.data:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(32,l,0),data:l}))?i:"")+" "},usePartial:!0,useData:!0}),a.ReplyList=e({1:function(e,a,t,n,l){return' <div class="what mt10"> <img src="'+e.escapeExpression(e.lambda(null!=a?a.picture:a,a))+'" class="contentimage" onload="crmSocial.setImageWidthHeight(this);"></img> </div> '},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <div id="feed_detail_'+o(s(null!=a?a.id_str:a,a))+'_reply" class="feedwhiteborder detailfeedcomment wwbw"> <table cellpadding="0" cellspacing="10" width="100%" class="tblFixed"> <tr> <td class="kso_photo_td"> <img src="'+o(s(null!=(i=null!=a?a.user:a)?i.profile_image_url_https:i,a))+'" class="kso_user_photo" ></img> </td> <td> <div> <a href="'+o(t.getRebrandKey.call(r,"TW_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(s(null!=(i=null!=a?a.user:a)?i.screen_name:i,a))+'" target="_blank" class="whois kso_link">'+o(s(null!=(i=null!=a?a.user:a)?i.name:i,a))+'</a> <i class="from"> @'+o(s(null!=(i=null!=a?a.user:a)?i.screen_name:i,a))+'</i> </div> <div class="mt5"> <span class="what">'+(null!=(i=s(null!=a?a.text:a,a))?i:"")+"</span> </div> "+(null!=(i=t.if.call(r,null!=a?a.isPic:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+' <div class="mT10"> <a href="'+o(t.getRebrandKey.call(r,"TW_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(s(null!=(i=null!=a?a.user:a)?i.screen_name:i,a))+"/status/"+o(s(null!=a?a.id_str:a,a))+'" target="_blank" class="when" title="'+o(s(null!=a?a.title_time:a,a))+'">'+o(s(null!=a?a.disp_time:a,a))+"</a> </div> </td> </tr> </table> </div>"},useData:!0}),a.ReplyTemplate=e({1:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.picture:a,{name:"if",hash:{},fn:e.program(2,l,0),inverse:e.program(4,l,0),data:l}))?i:"")+" "},2:function(e,a,t,n,l){return' <img src="'+e.escapeExpression(e.lambda(null!=a?a.picture:a,a))+'" class="kso_reply_photo" ></img> '},4:function(e,a,t,n,l){var i,s=e.escapeExpression;return' <img src="'+s(t.getRebrandKey.call(null!=a?a:{},"FB_GRAPH_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+s(e.lambda(null!=(i=null!=a?a.from:a)?i.id:i,a))+'/picture" class="kso_reply_photo" /> '},6:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.user:a,{name:"if",hash:{},fn:e.program(7,l,0),inverse:e.program(9,l,0),data:l}))?i:"")+" "},7:function(e,a,t,n,l){var i;return' <img src="'+e.escapeExpression(e.lambda(null!=(i=null!=a?a.user:a)?i.profile_image_url_https:i,a))+'" class="kso_reply_photo" ></img> '},9:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.sender:a,{name:"if",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l}))?i:"")+" "},10:function(e,a,t,n,l){var i;return' <img src="'+e.escapeExpression(e.lambda(null!=(i=null!=a?a.sender:a)?i.profile_image_url_https:i,a))+'" class="kso_reply_photo" ></img> '},12:function(e,a,t,n,l){var i,s=e.escapeExpression,o=e.lambda;return' <a href="'+s(t.getRebrandKey.call(null!=a?a:{},"FB_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+s(o(null!=(i=null!=a?a.from:a)?i.id:i,a))+'" onclick="sE(event);" target="_blank" class="whois kso_link" style="font-size: 12px">'+s(o(null!=(i=null!=a?a.from:a)?i.name:i,a))+'</a> <span class="what mt5">'+(null!=(i=o(null!=a?a.message:a,a))?i:"")+"</span> "},14:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.user:a,{name:"if",hash:{},fn:e.program(15,l,0),inverse:e.program(24,l,0),data:l}))?i:"")+" "},15:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression,r=e.lambda;return' <div> <a href="'+o(t.getRebrandKey.call(s,"TW_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(r(null!=(i=null!=a?a.user:a)?i.screen_name:i,a))+'" onclick="sE(event);" target="_blank" class="whois kso_link">'+o(r(null!=(i=null!=a?a.user:a)?i.name:i,a))+'</a> <i class="from"> @'+o(r(null!=(i=null!=a?a.user:a)?i.screen_name:i,a))+'</i> </div> <div class="mt5"> <span class="what">'+(null!=(i=r(null!=a?a.text:a,a))?i:"")+"</span> "+(null!=(i=t.with.call(s,null!=a?a.entities:a,{name:"with",hash:{},fn:e.program(16,l,0),inverse:e.noop,data:l}))?i:"")+" </div> "},16:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.media:a,{name:"if",hash:{},fn:e.program(17,l,0),inverse:e.noop,data:l}))?i:"")+" "},17:function(e,a,t,n,l){var i;return" "+(null!=(i=t.each.call(null!=a?a:{},null!=a?a.media:a,{name:"each",hash:{},fn:e.program(18,l,0),inverse:e.noop,data:l}))?i:"")+" "},18:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.media_url_https:a,{name:"if",hash:{},fn:e.program(19,l,0),inverse:e.noop,data:l}))?i:"")+" "},19:function(e,a,t,n,l){var i;return' <div class="feed_detail_maincontant"> '+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.detail_view:a,{name:"if",hash:{},fn:e.program(20,l,0),inverse:e.program(22,l,0),data:l}))?i:"")+" </div> "},20:function(e,a,t,n,l){return' <img src="'+e.escapeExpression(e.lambda(null!=a?a.media_url_https:a,a))+'" class="contentimage" onload="crmSocial.setImageWidthHeightDetailView(this);" ></img> '},22:function(e,a,t,n,l){return' <img src="'+e.escapeExpression(e.lambda(null!=a?a.media_url_https:a,a))+'" class="contentimage" onload="crmSocial.setImageWidthHeight(this);" ></img> '},24:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.sender:a,{name:"if",hash:{},fn:e.program(25,l,0),inverse:e.noop,data:l}))?i:"")+' <span class="what">'+(null!=(i=e.lambda(null!=a?a.text:a,a))?i:"")+"</span> "},25:function(e,a,t,n,l){var i,s=e.escapeExpression,o=e.lambda;return' <a href="'+s(t.getRebrandKey.call(null!=a?a:{},"TW_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+s(o(null!=(i=null!=a?a.sender:a)?i.screen_name:i,a))+'" onclick="sE(event);" target="_blank" class="whois kso_link">'+s(o(null!=(i=null!=a?a.sender:a)?i.name:i,a))+"</a> "},27:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <a href="javascript:void(0);" onclick="sE(event);" target="_blank" class="when" title="'+s(i(null!=a?a.title_time:a,a))+'">'+s(i(null!=a?a.disp_time:a,a))+"</a> "},29:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.user:a,{name:"if",hash:{},fn:e.program(30,l,0),inverse:e.program(32,l,0),data:l}))?i:"")+" "},30:function(e,a,t,n,l){var i,s=e.escapeExpression,o=e.lambda;return' <a href="'+s(t.getRebrandKey.call(null!=a?a:{},"TW_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+s(o(null!=(i=null!=a?a.user:a)?i.screen_name:i,a))+"/status/"+s(o(null!=a?a.in_reply_to_status_id_str:a,a))+'" target="_blank" class="when" title="'+s(o(null!=a?a.title_time:a,a))+'">'+s(o(null!=a?a.disp_time:a,a))+"</a> "},32:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.sender:a,{name:"if",hash:{},fn:e.program(27,l,0),inverse:e.noop,data:l}))?i:"")+" "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <div> <div class="feedwhiteborder detailfeedcomment wwbw"> <table cellpadding="0" cellspacing="10" width="100%" class="tblFixed"> <tr> <td class="kso_photo_td"> '+(null!=(i=t.if.call(s,null!=a?a.facebook:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(6,l,0),data:l}))?i:"")+" </td> <td> <div> "+(null!=(i=t.if.call(s,null!=a?a.facebook:a,{name:"if",hash:{},fn:e.program(12,l,0),inverse:e.program(14,l,0),data:l}))?i:"")+' </div> <div class="pT5"> '+(null!=(i=t.if.call(s,null!=a?a.facebook:a,{name:"if",hash:{},fn:e.program(27,l,0),inverse:e.program(29,l,0),data:l}))?i:"")+" </div> </td> </tr> </table> </div> </div> "},useData:!0}),a.ReplyToComment=e({1:function(e,a,t,n,l){return' <img src="'+e.escapeExpression(e.lambda(null!=a?a.picture:a,a))+'" class="kso_user_photo" ></img> '},3:function(e,a,t,n,l){var i,s=e.escapeExpression;return' <img src="'+s(t.getRebrandKey.call(null!=a?a:{},"FB_GRAPH_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+s(e.lambda(null!=(i=null!=a?a.from:a)?i.id:i,a))+'/picture" class="kso_user_photo" /> '},5:function(e,a,t,n,l){return' <div class="feed_detail_maincontant"> <img src="'+e.escapeExpression(e.lambda(null!=a?a.picture:a,a))+'" class="contentimage" onload="crmSocial.setImageWidthHeight(this);" ></img> </div> '},7:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <div class="what mt10 background_white" > <div class="kso_sharedlink kso_fb_video_link"> <img id = "videoimage" src="'+o(s(null!=a?a.picture:a,a))+'" class="contentimage fL kso_fb_video_image" onload="crmSocial.setImageWidthHeight(this,\'video\');" onclick="sE(event);crmSocial.showVideoInFrame(this,\'https://www.youtube-nocookie.com/embed/'+o(s(null!=a?a.videoUrl:a,a))+'?autoplay=1\',\'commentDetail\');" /> <div id = "imagesvg" class="kso_fb_video" ><span class="socialImgsvg kso_fb_video_svg kso_fb_video_photo" onclick="sE(event);crmSocial.showVideoInFrame(this,\'https://www.youtube-nocookie.com/embed/'+o(s(null!=a?a.videoUrl:a,a))+"?autoplay=1','commentDetail');\"></span></div> <iframe id = 'videoframe' src='' frameborder=\"0\" style=\"display:none;\" class=\"social_fb_iframe\"></iframe> "+(null!=(i=t.with.call(null!=a?a:{},null!=a?a.attachment:a,{name:"with",hash:{},fn:e.program(8,l,0),inverse:e.noop,data:l}))?i:"")+" </div> </div> "},8:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <div class="background_white backgroung_padding"> <div class="linkTitle" ><a onmouseover="this.style.textDecoration=\'underline\';" onmouseout="this.style.textDecoration=\'none\';" href="'+s(i(null!=a?a.link:a,a))+'" onclick="sE(event);" target="_blank"><div class = "kso_link_title_kanbanview" title=\''+s(i(null!=a?a.title:a,a))+"'>"+s(i(null!=a?a.title:a,a))+'</div></a></div> <div class="linkDesc kso_desc_kanbanview" title=\''+s(i(null!=a?a.description:a,a))+"'>"+s(i(null!=a?a.description:a,a))+"</div> </div> "},10:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <a class="kso_fbLiked fL mL15" href="javascript:void(0);" onclick="sE(event); crmSocial.like(this, \'facebook\',\''+s(i(null!=a?a.id:a,a))+"', 'true');\" liked=\""+s(i(null!=a?a.user_lies:a,a))+'"> <span class="socialImgsvg"></span> <span class="fR mL3" style="font-size: 14px">'+s(t.notEqualsZero.call(null!=a?a:{},null!=a?a.like_count:a,{name:"notEqualsZero",hash:{},data:l}))+"</span> </a> "},12:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <a class="kso_fbLike fL mL15" href="javascript:void(0);" onclick="sE(event); crmSocial.like(this, \'facebook\',\''+s(i(null!=a?a.id:a,a))+"', 'true');\" liked=\""+s(i(null!=a?a.user_likes:a,a))+'"> <span class="socialImgsvg"></span> <span class="fR mL3" style="font-size: 14px">'+s(t.notEqualsZero.call(null!=a?a:{},null!=a?a.like_count:a,{name:"notEqualsZero",hash:{},data:l}))+"</span> </a> "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <div id="replytocomment_'+o(s(null!=a?a.id:a,a))+'_div" c_id="'+o(s(null!=a?a.id:a,a))+'"   l_cnt = "'+o(s(null!=a?a.like_count:a,a))+'" > <div class="wwbw"> <table cellpadding="0" cellspacing="10" width="100%" class="tblFixed"> <tr> <td class="kso_photo_td"> '+(null!=(i=t.if.call(r,null!=a?a.picture:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l}))?i:"")+' </td> <td> <div> <a href="'+o(t.getRebrandKey.call(r,"FB_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(s(null!=(i=null!=a?a.from:a)?i.id:i,a))+'" onclick="sE(event);" target="_blank" class="whois kso_link">'+o(s(null!=(i=null!=a?a.from:a)?i.name:i,a))+'</a> <span class="what">'+(null!=(i=s(null!=a?a.message:a,a))?i:"")+"</span> "+(null!=(i=t.if.call(r,null!=a?a.isPic:a,{name:"if",hash:{},fn:e.program(5,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(r,null!=a?a.video:a,{name:"if",hash:{},fn:e.program(7,l,0),inverse:e.noop,data:l}))?i:"")+' </div> <div id="replytocomment_action" class="replytocomment_action" replytocomment_id="'+o(s(null!=a?a.id:a,a))+'"> <a href="'+o(s(null!=a?a.permalink:a,a))+'" onclick="sE(event);" target="_blank" class="when fL mT2" title="'+o(s(null!=a?a.title_time:a,a))+'">'+o(s(null!=a?a.disp_time:a,a))+"</a> "+(null!=(i=t.if.call(r,null!=a?a.user_likes:a,{name:"if",hash:{},fn:e.program(10,l,0),inverse:e.program(12,l,0),data:l}))?i:"")+" </div> </td> </tr> </table> </div> </div>"},useData:!0}),a.SearchColumn=e({1:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <div class="fR pR kso_edCol gray2 f24 mL5"> <div class="fR f20 gray2"> <a href="javascript:void(0);" onclick="sE(event); crmSocial.editColOption(\''+o(s(null!=a?a.id:a,a))+'\');" data-zcqa="edit_col_opt" class="zso_downarw dIB" style="margin-top: 4px;">&lt;&lt;</a> </div> <div id="editDelColumn" class="kso_editCol_ddwn"> '+(null!=(i=t.if_modify.call(r,a,{name:"if_modify",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(r,null!=a?a.isAdmin:a,{name:"if",hash:{},fn:e.program(4,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if_modify.call(r,a,{name:"if_modify",hash:{},fn:e.program(7,l,0),inverse:e.noop,data:l}))?i:"")+' <div class="clearB"></div> </div> <div id="profile_'+o(s(null!=a?a.id:a,a))+'_list" style="display: none; left: -185px; top: 23px;" onclick="sE(event);" class="zso-profilelist top"></div> <div class="clearB"></div> </div> '},2:function(e,a,t,n,l){var i=e.escapeExpression;return" <a href=\"javascript:crmSocial.editColumn('"+i(e.lambda(null!=a?a.id:a,a))+'\');" class="crm-font-regular" data-zcqa="edit_column"> '+i(t.getI18n.call(null!=a?a:{},"crm.button.edit",{name:"getI18n",hash:{},data:l}))+" </a> "},4:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if_modify.call(null!=a?a:{},a,{name:"if_modify",hash:{},fn:e.program(5,l,0),inverse:e.noop,data:l}))?i:"")+" "},5:function(e,a,t,n,l){var i=e.escapeExpression;return' <a href="javascript:void(0);" class="crm-font-regular" onclick="sE(event); crmSocial.getAvailableProfiles(\''+i(e.lambda(null!=a?a.id:a,a))+'\');" data-zcqa="get_profiles"> '+i(t.getI18n.call(null!=a?a:{},"crm.button.share",{name:"getI18n",hash:{},data:l}))+" </a> "},7:function(e,a,t,n,l){var i=e.escapeExpression;return' <a href="javascript:void(0);" class="crm-font-regular" onclick="sE(event); crmSocial.removeSearchKeyword(\''+i(e.lambda(null!=a?a.id:a,a))+'\');" data-zcqa="remove_keyword"> '+i(t.getI18n.call(null!=a?a:{},"crm.button.delete",{name:"getI18n",hash:{},data:l}))+" </a> "},9:function(e,a,t,n,l){var i;return" "+(null!=(i=t.each.call(null!=a?a:{},null!=a?a.keys:a,{name:"each",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l}))?i:"")+" "},10:function(e,a,t,n,l){return' <li class="search-choice"> <span>'+e.escapeExpression(e.lambda(a,a))+'</span> <a href="javascript:void(0)" class="search-choice-close" onclick="crmSocial.removeSearchKey(this);" data-zcqa="remove_key"></a> </li> '},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <div id="column_'+o(s(null!=a?a.id:a,a))+'" class="ksocialbox new-socialbox activeSocialSection sortableCol" data-params=\'{"id" : "'+o(s(null!=a?a.id:a,a))+'", "network" : "'+o(s(null!=a?a.network:a,a))+'", "type" : "'+o(s(null!=a?a.type:a,a))+'"}\'> <div id="search_'+o(s(null!=a?a.id:a,a))+'" class="h2 p15 m0 posRel dragCol"> <div class="posAbs dN kso_back_div" onclick="crmSocial.hideDetails();" data-zcqa="back_column"><span class="kso_back_arrow socialImgsvg"></span></div> <span class="colhead dB"> <span class="kso_add_search_icon socialImgsvg fL"></span> '+(null!=(i=t.if_modify.call(r,a,{name:"if_modify",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+' <div class="fR w32 mT4" onclick="crmSocial.hideDetails();"> <img id="search_'+o(s(null!=a?a.id:a,a))+'_refresh" src="'+o(t.img_link.call(r,{name:"img_link",hash:{},data:l}))+'/spacer_e17b417_.gif" class="socialImgsvg social_refresh_icon cP fR" onclick="crmSocial.refresh(\''+o(s(null!=a?a.id:a,a))+'\', this);" data-zcqa="refresh_search"> </div> <span id="column_'+o(s(null!=a?a.id:a,a))+"_heading\" data-params='"+(null!=(i=s(null!=a?a.keyword:a,a))?i:"")+"'>"+o(s(null!=a?a.key:a,a))+'</span> </span> <div id="column_'+o(s(null!=a?a.id:a,a))+'_edit" class="m0 posRel dragCol w100per" style="display: none;"> <div id="column_'+o(s(null!=a?a.id:a,a))+'_edit_container" class="m0 posRel dragCol"> <div class="m0 posRel"> <div class="pR" style="cursor: default; width: 100%;"> <div style="1width: 84%;" class="searchUlOuter"> <div class="bbccc"> <ul id="search_'+o(s(null!=a?a.id:a,a))+'_keywords" class="fL searchUlCont" keys="'+(null!=(i=s(null!=a?a.keyword:a,a))?i:"")+'"> '+(null!=(i=t.if.call(r,null!=a?a.keys:a,{name:"if",hash:{},fn:e.program(9,l,0),inverse:e.noop,data:l}))?i:"")+' </ul> <input type="text" id="'+o(s(null!=a?a.id:a,a))+'" class="textField fL" placeholder="'+o(t.getI18n.call(r,"crm.nsocial.search.enter.keyword",{name:"getI18n",hash:{},data:l}))+'" \n\t\t\t\t\t\t\t\t\tonkeydown="crmSocial.processSearchKey(this, event);" size="22" data-zcqa="search_textbox" ></input> <div class="clearB"></div> </div> <div id="saveCancelSearch" class="clearB"> <a style="margin: -20px 0px 0 0" href="javascript:void(0);" id="search_btn_'+o(s(null!=a?a.id:a,a))+'" class="socialImgsvg kssearch-btn pR fR" data-zcqa="edit_search"\n\t\t\t\t\t\t\t\t\tonclick="crmSocial.editSearch(\''+o(s(null!=a?a.id:a,a))+"');\"> "+o(t.getI18n.call(r,"crm.nsocial.tooltip.search",{name:"getI18n",hash:{},data:l}))+' </a> <span class="fR mT10"> <a href="javascript:void(0);" id="save_'+o(s(null!=a?a.id:a,a))+'" class="ks-greenbtn-small crm-font-bold pR dN fL mR5" data-zcqa="update_search" onclick="crmSocial.updateSearch(\''+o(s(null!=a?a.id:a,a))+"');\"> "+o(t.getI18n.call(r,"crm.button.update",{name:"getI18n",hash:{},data:l}))+' </a> <a id="cancel_'+o(s(null!=a?a.id:a,a))+'" class="ks-graybtn-small pR fL" onclick="crmSocial.cancelUpdateSearch(\''+o(s(null!=a?a.id:a,a))+'\');" data-zcqa="cancel_search"> '+o(t.getI18n.call(r,"crm.nsocial.cancel",{name:"getI18n",hash:{},data:l}))+' </a> </span> </div> <div class="clearB"></div> </div> </div> </div> </div> <div class="clearB"></div> </div> </div> <div id="search_'+o(s(null!=a?a.id:a,a))+'_container" class="posRel"> <div id="search_'+o(s(null!=a?a.id:a,a))+'_inner_container" class="ksocialinnerbox"> <ul id="search_'+o(s(null!=a?a.id:a,a))+'_ul" class="sortableDiv ui-sortable"> <li class="aligncenter" style="cursor: default; margin-top: 150px;"><img src="'+o(t.img_link.call(r,{name:"img_link",hash:{},data:l}))+'/spacer_e17b417_.gif" class="ks_loading_new"/></li> </ul> </div> </div> </div> '},useData:!0}),a.SocialAccountReauthentication=e({1:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <div id="reauth_'+o(s(null!=a?a.brid:a,a))+'" class="zsoReauthContainer pR"> <img class="dIB vam mR5" src="'+o(s(null!=a?a.image:a,a))+'" ></img> '+(null!=(i=t.if_eq.call(r,null!=a?a.network:a,"twitter",{name:"if_eq",hash:{},fn:e.program(2,l,0),inverse:e.program(4,l,0),data:l}))?i:"")+' <span class="dIB vam">'+o(s(null!=a?a.name:a,a))+'</span> <button class="fR mR0 outlinegreenlight newbutton" onclick="crmSocialSetup.getReauthUrl(\''+o(s(null!=a?a.brid:a,a))+"', '"+o(s(null!=a?a.network:a,a))+"');\">"+o(t.getI18n.call(r,"crm.nsocial.reauth",{name:"getI18n",hash:{},data:l}))+'</button> <span class="cB"></span> </div> '},2:function(e,a,t,n,l){return' <span class="socialImg zsoTwitterBadge pA"></span> '},4:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if_eq.call(null!=a?a:{},null!=a?a.network:a,"facebook",{name:"if_eq",hash:{},fn:e.program(5,l,0),inverse:e.program(7,l,0),data:l}))?i:"")+" "},5:function(e,a,t,n,l){return' <span class="socialImg zsoFacebookBadge pA"></span> '},7:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if_eq.call(null!=a?a:{},null!=a?a.network:a,"googleplus",{name:"if_eq",hash:{},fn:e.program(8,l,0),inverse:e.noop,data:l}))?i:"")+" "},8:function(e,a,t,n,l){return' <span class="socialImg zsoGplusBadge pA"></span> '},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i;return' <div class="titleDiv pT25 pB15"> <span class="settingTitle fL dIB mL20">Account Authentication Expired!!</span> <div class="socialImgsvg dbBtnClose" onclick="sE(event); crmSocial.closeReauthAlert();"></div> <div class="clearB"></div> </div> <div> <div class=" aligncenter color_3 f14 fs mT20 mB8 pL10 pR10">Authentication for the following account(s) has been revoked/expired. Please re-authenticate them to continue using Social Tab.</div> </div> <div id="reauth_accounts" class="pR30 pB30 pL30"> '+(null!=(i=t.each.call(null!=a?a:{},a,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+" </div> "},useData:!0}),a.SocialCrossBrand=e({1:function(e,a,t,n,l){return" <button class=\"btn_big greenbtn mR10\" onclick=\"window.open('https://www.zoho.eu/social/zohocrm-integration.html?src=crmsocialtab', '_blank');\">"+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.zohosocial.try.buttn",{name:"getI18n",hash:{},data:l}))+"</button> "},3:function(e,a,t,n,l){return" <button class=\"btn_big greenbtn mR10\" onclick=\"window.open('https://www.zoho.com/social/zohocrm-integration.html?src=crmsocialtab', '_blank');\">"+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.zohosocial.try.buttn",{name:"getI18n",hash:{},data:l}))+"</button> "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <div id="zhSocial" class="zhSocial" style="width: 600px; top: -500px" onclick="sE(event);"> <div id="socialBanner" class="socialBanner pA"> <div class="p25 gBg5 pB0 aligncenter"> <div class="clearFix mB20"> <div class="fL"> <img src="'+(null!=(i=t.img_link.call(s,{name:"img_link",hash:{},data:l}))?i:"")+'/zoho-social_54d74ee_.png" width="40" class="dIB vam mR10"><span class="dIB vam f18 bld">'+o(e.lambda(null!=a?a.serviceName:a,a))+'</span> </div> <span class="svgIcons socBannerClose ico-close-small2 fR cP" onclick="sE(event); crmSocial.watchLater(\'2\');"></span> </div> <img src="'+(null!=(i=t.img_link.call(s,{name:"img_link",hash:{},data:l}))?i:"")+'/socBanner_7e3beba_.svg" style="width: 280px;height: 190px;"> </div> <div class="p15 aligncenter"> <span class="dB f24 color_3 bld mB5 mT15">'+o(t.getI18n.call(s,"crm.zohosocial.title",{name:"getI18n",hash:{},data:l}))+'</span> <span class="dB f19 color_6 mB20 fs">'+o(t.getI18n.call(s,"crm.zohosocial.subtitle",{name:"getI18n",hash:{},data:l}))+'</span> <p class="alignleft mB5 color_6 f13 lh20 mL40 mR40">'+o(t.getI18n.call(s,"crm.zohosocial.intro",t.safeEncodeHTML.call(s,null!=a?a.serviceName:a,{name:"safeEncodeHTML",hash:{},data:l}),{name:"getI18n",hash:{},data:l}))+'</p> <ul class="socBannerList p0 alignleft color_6 f13 mL40 mR40"> <li>'+o(t.getI18n.call(s,"crm.zohosocial.listitem1",{name:"getI18n",hash:{},data:l}))+"</li> <li>"+o(t.getI18n.call(s,"crm.zohosocial.listitem2",{name:"getI18n",hash:{},data:l}))+"</li> <li>"+o(t.getI18n.call(s,"crm.zohosocial.listitem3",{name:"getI18n",hash:{},data:l}))+'</li> </ul> <div class="mT20 mB20 pR"> '+(null!=(i=t.if.call(s,null!=a?a.EU:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l}))?i:"")+' <span class="dIB color_3 fs cP f13" onclick="sE(event); crmSocial.watchLater(\'2\');">'+o(t.getI18n.call(s,"crm.zohosocial.skp.buttn",{name:"getI18n",hash:{},data:l}))+'</span> <span class="socBannerDontShow color_3 f12 bbd1 fs" onclick="sE(event); crmSocial.watchLater(\'0\');">'+o(t.getI18n.call(s,"crm.zohosocial.never.show",{name:"getI18n",hash:{},data:l}))+"</span> </div> </div> </div> </div> "},useData:!0}),a.SocialCustomColumns=e({1:function(e,a,t,n,l){var i;return' <div id="custom_columns"> '+(null!=(i=t.each.call(null!=a?a:{},null!=a?a.columns:a,{name:"each",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l}))?i:"")+" </div> "},2:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.search:a,{name:"if",hash:{},fn:e.program(3,l,0),inverse:e.program(5,l,0),data:l}))?i:"")+" "},3:function(e,a,t,n,l){var i;return" "+(null!=(i=e.invokePartial(n.SearchColumn,a,{name:"SearchColumn",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+" "},5:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.entity:a,{name:"if",hash:{},fn:e.program(6,l,0),inverse:e.noop,data:l}))?i:"")+" "},6:function(e,a,t,n,l){var i;return" "+(null!=(i=e.invokePartial(n.TimelineColumn,a,{name:"TimelineColumn",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+" "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i;return(null!=(i=t.if.call(null!=a?a:{},null!=a?a.columns:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+" "},usePartial:!0,useData:!0}),a.SocialEntityCreate=e({1:function(e,a,t,n,l){return' <div class="svgIcons ico-close socialClose pA top15 zI1" onclick="crmSocialEntity.resetEntityForm();"></div> '},3:function(e,a,t,n,l){return' <img class="bRadius3" width="32" src="'+e.escapeExpression(e.lambda(null!=a?a.profile_image_url_https:a,a))+'" ></img> '},5:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.picture:a,{name:"if",hash:{},fn:e.program(6,l,0),inverse:e.program(8,l,0),data:l}))?i:"")+" "},6:function(e,a,t,n,l){return' <img class="bRadius3" width="32" src="'+e.escapeExpression(e.lambda(null!=a?a.picture:a,a))+'" ></img> '},8:function(e,a,t,n,l){var i=e.escapeExpression;return' <img class="bRadius3" width="32" src="'+i(t.getRebrandKey.call(null!=a?a:{},"FB_GRAPH_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+i(e.lambda(null!=a?a.id:a,a))+'/picture" /> '},10:function(e,a,t,n,l){var i;return' <img class="bRadius3" width="32" src="'+e.escapeExpression(e.lambda(null!=(i=null!=a?a.image:a)?i.url:i,a))+'" ></img> '},12:function(e,a,t,n,l){var i=null!=a?a:{},s=e.escapeExpression,o=e.lambda;return' <a class="whois" href="'+s(t.getRebrandKey.call(i,"TW_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+s(o(null!=a?a.id_str:a,a))+'" target="_blank">'+s(o(null!=a?a.name:a,a))+'</a> <a class="zso_greyTxt wwbw" href="'+s(t.getRebrandKey.call(i,"TW_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+s(o(null!=a?a.screen_name:a,a))+'" target="_blank"> <i class="from">@'+s(o(null!=a?a.screen_name:a,a))+"</i> </a> "},14:function(e,a,t,n,l){var i=e.escapeExpression,s=e.lambda;return' <a class="whois" href="'+i(t.getRebrandKey.call(null!=a?a:{},"FB_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+i(s(null!=a?a.id:a,a))+'" target="_blank">'+i(s(null!=a?a.name:a,a))+"</a> "},16:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <a class="whois" href="'+s(i(null!=a?a.url:a,a))+'" target="_blank">'+s(i(null!=a?a.displayName:a,a))+"</a> "},18:function(e,a,t,n,l){return' <input id="profile_search" type="hidden" value="'+e.escapeExpression(e.lambda(null!=a?a.displayName:a,a))+'" ></input> '},20:function(e,a,t,n,l){return' <input id="profile_search" type="hidden" value="'+e.escapeExpression(e.lambda(null!=a?a.name:a,a))+'" ></input> '},22:function(e,a,t,n,l){return' placeholder="'+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.social.associate.placeholder",null!=a?a.show_lead:a,null!=a?a.show_contact:a,{name:"getI18n",hash:{},data:l}))+'" '},24:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.show_lead:a,{name:"if",hash:{},fn:e.program(25,l,0),inverse:e.program(27,l,0),data:l}))?i:"")+" "},25:function(e,a,t,n,l){return' placeholder="'+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.social.associate.placeholder.single",null!=a?a.show_lead:a,{name:"getI18n",hash:{},data:l}))+'" '},27:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.show_contact:a,{name:"if",hash:{},fn:e.program(28,l,0),inverse:e.noop,data:l}))?i:"")+" "},28:function(e,a,t,n,l){return' placeholder="'+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.social.associate.placeholder.single",null!=a?a.show_contact:a,{name:"getI18n",hash:{},data:l}))+'" '},30:function(e,a,t,n,l){return' value="'+e.escapeExpression(e.lambda(null!=a?a.displayName:a,a))+'" '},32:function(e,a,t,n,l){return' value="'+e.escapeExpression(e.lambda(null!=a?a.name:a,a))+'" '},34:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <span id="entityAddlead" class="cP tabLead" onclick="crmSocialEntity.createEntity(\'Leads\', \''+s(i(null!=a?a.brid:a,a))+"', '"+s(i(null!=a?a.network:a,a))+"', '"+s(i(null!=a?a.profile_id:a,a))+"');\">"+s(i(null!=a?a.show_lead:a,a))+'</span> <span id="entityAddcontact" class="cP tabContact" onclick="crmSocialEntity.createEntity(\'Contacts\', \''+s(i(null!=a?a.brid:a,a))+"', '"+s(i(null!=a?a.network:a,a))+"', '"+s(i(null!=a?a.profile_id:a,a))+"');\">"+s(i(null!=a?a.show_contact:a,a))+"</span> "},36:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.show_lead:a,{name:"if",hash:{},fn:e.program(37,l,0),inverse:e.program(39,l,0),data:l}))?i:"")+" "},37:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <span id="entityAddlead" class="cP tabLead" onclick="crmSocialEntity.createEntity(\'Leads\', \''+s(i(null!=a?a.brid:a,a))+"', '"+s(i(null!=a?a.network:a,a))+"', '"+s(i(null!=a?a.profile_id:a,a))+"');\">"+s(i(null!=a?a.show_lead:a,a))+"</span> "},39:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.show_contact:a,{name:"if",hash:{},fn:e.program(40,l,0),inverse:e.noop,data:l}))?i:"")+" "},40:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <span id="entityAddcontact" class="cP tabContact" onclick="crmSocialEntity.createEntity(\'Contacts\', \''+s(i(null!=a?a.brid:a,a))+"', '"+s(i(null!=a?a.network:a,a))+"', '"+s(i(null!=a?a.profile_id:a,a))+"');\">"+s(i(null!=a?a.show_contact:a,a))+"</span> "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression,r=e.lambda;return' <div class="entityInfo"> '+(null!=(i=t.unless.call(s,null!=a?a.fromDetailView:a,{name:"unless",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+' <div id="entity_create_container" class="pA w100per"> <div id="entitySection" class="entitySection gBg5"> <div> <div class="user_info mB15"> <a href="javascript:void(0);" class="fL"> '+(null!=(i=t.if.call(s,null!=a?a.twitter:a,{name:"if",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.facebook:a,{name:"if",hash:{},fn:e.program(5,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.googleplus:a,{name:"if",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l}))?i:"")+' </a> <div class="mL10 fL mT7"> <div> '+(null!=(i=t.if.call(s,null!=a?a.twitter:a,{name:"if",hash:{},fn:e.program(12,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.facebook:a,{name:"if",hash:{},fn:e.program(14,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.googleplus:a,{name:"if",hash:{},fn:e.program(16,l,0),inverse:e.noop,data:l}))?i:"")+' </div> </div> <div class="clearB"></div> </div> </div> <div class="entityTab pR"> <div id="tabborder" class="tabborder" style="left: 0px; width: 140px;"></div> <div id="association_list" data-zcqa="association_list" class="zso-tabHead col333" onclick="crmSocialEntity.toggleAddAssociate(\'association_list\'); crmSocial.menuAnimate(this);">'+o(t.getI18n.call(s,"crm.nsocial.entity.existing",{name:"getI18n",hash:{},data:l}))+'</div> <div id="add_entity" data-zcqa="add_entity" class="zso-tabHead col333" onclick="crmSocialEntity.toggleAddAssociate(\'add_entity\'); crmSocial.menuAnimate(this);">'+o(t.getI18n.call(s,"crm.nsocial.entity.new",{name:"getI18n",hash:{},data:l}))+'</div> <div class="clearB"></div> '+(null!=(i=t.if.call(s,null!=a?a.googleplus:a,{name:"if",hash:{},fn:e.program(18,l,0),inverse:e.program(20,l,0),data:l}))?i:"")+' </div> </div> <div id="entity_middle" class="entity_middle"> <div id="association_div" style="display: block;" class="clearFix"> <div class="p8" style="background-color: #f5f5f5;"> <input id="association_search" type="text" class="textField kso_lucene crm-font-regular" data-zcqa="association_search" '+(null!=(i=t.if_all.call(s,null!=a?a.show_lead:a,null!=a?a.show_contact:a,{name:"if_all",hash:{},fn:e.program(22,l,0),inverse:e.program(24,l,0),data:l}))?i:"")+" onkeypress=\"crmSocialEntity.fetchGivenAssociation(event, '"+o(r(null!=a?a.profile_id:a,a))+"', '"+o(r(null!=a?a.network:a,a))+"', '"+o(r(null!=a?a.brid:a,a))+"', '"+o(r(null!=a?a.module:a,a))+"');\" "+(null!=(i=t.if.call(s,null!=a?a.googleplus:a,{name:"if",hash:{},fn:e.program(30,l,0),inverse:e.program(32,l,0),data:l}))?i:"")+' /> </div> <div id="association_results" class="mT5 pL10 pR10 pR"></div> </div> <div id="entity_create_outer" class="pR"> <div id="entity_create_inner"> <div id="add_options" class="txt-ctr gBg5 dN"> <div id="module_option" class="entityTabBtn dIB f13"> '+(null!=(i=t.if.call(s,null!=a?a.both:a,{name:"if",hash:{},fn:e.program(34,l,0),inverse:e.program(36,l,0),data:l}))?i:"")+' </div> </div> <div id="addContact_loading" class="gBg5 aligncenter pB30 dN"><div class="socialImg socLoadingIcon pR"></div></div> <div id="entity_create_parent" class="dN"> <div id="entity_form_container" class="mT20"></div> </div> </div> </div> <div id="entity_save" class="entity_save dN"> <a id="add_new_field" href="javascript:void(0);" class="dummyForLeftPanel zso-createlink fL" onclick="crmSocialEntity.addField();">'+o(t.getI18n.call(s,"crm.social.include.fields",{name:"getI18n",hash:{},data:l}))+'</a> <div class="fR"> <button id="entity_save_btn" class="primarybtn mR10 pR vab" style="height: 35px; width: 65px;" onclick="crmSocialEntity.submitEntityCreate();" data-zcqa="social_entity_save"> <span>'+o(t.getI18n.call(s,"crm.button.save",{name:"getI18n",hash:{},data:l}))+'</span> <div class="socNewLoding"><span></span><span></span><span></span></div> </button> <input id="cancelContactsBtn" type="button" class="newwhitebtn" value="'+o(t.getI18n.call(s,"crm.button.cancel",{name:"getI18n",hash:{},data:l}))+'" onclick="crmSocialEntity.resetEntityForm();"> </div> <div class="cB"></div> </div> </div> </div> <div id="entity_search_container" class="entitygpInfo" style="padding-top: 0px"></div> </div> '},useData:!0}),a.SocialEntityDataMapping=e({1:function(e,a,t,n,l,i,s){var o,r=null!=a?a:{};return' <div id="chooseLayout" class="mT15 f14 mL30 mB20"> <div class="dIB vam f14 col777" style="padding-top: 6px;">'+e.escapeExpression(t.getI18n.call(r,"crm.social.choose.layout",{name:"getI18n",hash:{},data:l}))+'</div> <div class="dIB mL20" style="width: 65%; border-bottom: 1px solid #e8e8e8;"> <div class="dIB" style="width: 160px;"> <div id="layoutChosen" class="zso-newSelect"> <select onchange="crmSocialEntity.getLayout(this);"> '+(null!=(o=t.each.call(r,null!=a?a.layouts:a,{name:"each",hash:{},fn:e.program(2,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "+(null!=(o=t.each.call(r,null!=a?a.layouts:a,{name:"each",hash:{},fn:e.program(5,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" </select> </div> </div> </div> </div> "},2:function(e,a,t,n,l,i,s){var o;return" "+(null!=(o=t.ifEquals.call(null!=a?a:{},null!=a?a.LAYOUTID:a,null!=s[1]?s[1].layout_id:s[1],{name:"ifEquals",hash:{},fn:e.program(3,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},3:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <option value="'+s(i(null!=a?a.LAYOUTID:a,a))+'" selected>'+s(i(null!=a?a.LAYOUTNAME:a,a))+"</option> "},5:function(e,a,t,n,l,i,s){var o;return" "+(null!=(o=t.ifNotEquals.call(null!=a?a:{},null!=a?a.LAYOUTID:a,null!=s[1]?s[1].layout_id:s[1],{name:"ifNotEquals",hash:{},fn:e.program(6,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},6:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <option value="'+s(i(null!=a?a.LAYOUTID:a,a))+'">'+s(i(null!=a?a.LAYOUTNAME:a,a))+"</option> "},8:function(e,a,t,n,l){return'overwrite="'+e.escapeExpression(e.lambda(null!=a?a.overwrite:a,a))+'"'},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l,i,s){var o,r=null!=a?a:{},c=e.escapeExpression;return'<div class="aboutText pL30 pR30 mB15"> <div class="color_1 crm-font-regular f16 mB5" style="font-size:1.7rem;">Import Social Data to CRM</div> </div> '+(null!=(o=t.if.call(r,null!=a?a.layouts:a,{name:"if",hash:{},fn:e.program(1,l,0,i,s),inverse:e.noop,data:l}))?o:"")+' <form id="entity_create_form" data-cid="'+c(e.lambda(null!=a?a.entityId:a,a))+'" '+(null!=(o=t.if.call(r,null!=a?a.overwrite:a,{name:"if",hash:{},fn:e.program(8,l,0,i,s),inverse:e.noop,data:l}))?o:"")+'> <div id="entity_form" class="entity_form pR"> '+(null!=(o=e.invokePartial(n.SocialEntityLayout,a,{name:"SocialEntityLayout",data:l,helpers:t,partials:n,decorators:e.decorators}))?o:"")+' </div> <div id="addition_fields" class="added_row mT20 dN"> <div class="added_field">'+c(t.getI18n.call(r,"crm.social.fields.added",{name:"getI18n",hash:{},data:l}))+'</div> <table id="new_fields" class="custom_rows cust_row_bg"> <tbody> <tr class="zso-spacer"></tr> </tbody> </table> </div> </form> '},usePartial:!0,useData:!0,useDepths:!0}),a.SocialEntityFieldList=e({1:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.lambda,r=e.escapeExpression;return" <li "+(null!=(i=t.if.call(s,null!=a?a.isUsed:a,{name:"if",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l}))?i:"")+' onclick="crmSocialEntity.changeField(this);" data-cid="'+r(o(null!=a?a.fieldid:a,a))+'"> <a href="javascript:void(0);"> '+r(o(null!=a?a.displaylabel:a,a))+" "+(null!=(i=t.if_eq.call(s,null!=a?a.mandate:a,"true",{name:"if_eq",hash:{},fn:e.program(4,l,0),inverse:e.noop,data:l}))?i:"")+" </a> </li> "},2:function(e,a,t,n,l){return' class="selected" '},4:function(e,a,t,n,l){return' <div class="dIB redText">*</div> '},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i;return'<div id="entityFields_outer" class="ddM entityField_drop activeDrop" style="bottom: 0px;" onmouseover="crmSocialEntity.destroyScrollBar(\'entity_create_outer\');" onmouseout="crmSocialEntity.createScrollBar(\'entity_create_outer\');"> <div id="entityFields_inner"> <ul onclick="sE(event);"> '+(null!=(i=t.each.call(null!=a?a:{},null!=a?a.data:a,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+" </ul> </div> </div>"},useData:!0}),a.SocialEntityFindOn=e({1:function(e,a,t,n,l){var i,s=null!=a?a:{};return" "+(null!=(i=t.if_eq.call(s,null!=a?a.network:a,"twitter",{name:"if_eq",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if_eq.call(s,null!=a?a.network:a,"facebook",{name:"if_eq",hash:{},fn:e.program(4,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if_eq.call(s,null!=a?a.network:a,"googleplus",{name:"if_eq",hash:{},fn:e.program(6,l,0),inverse:e.noop,data:l}))?i:"")+" "},2:function(e,a,t,n,l){return" "+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.social.authenticate.network","Twitter",{name:"getI18n",hash:{},data:l}))+" "},4:function(e,a,t,n,l){return" "+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.social.authenticate.network","Facebook",{name:"getI18n",hash:{},data:l}))+" "},6:function(e,a,t,n,l){return" "+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.social.authenticate.network","Google+",{name:"getI18n",hash:{},data:l}))+" "},8:function(e,a,t,n,l){var i,s=null!=a?a:{};return" "+(null!=(i=t.if_eq.call(s,null!=a?a.network:a,"twitter",{name:"if_eq",hash:{},fn:e.program(9,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if_eq.call(s,null!=a?a.network:a,"facebook",{name:"if_eq",hash:{},fn:e.program(11,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if_eq.call(s,null!=a?a.network:a,"googleplus",{name:"if_eq",hash:{},fn:e.program(13,l,0),inverse:e.noop,data:l}))?i:"")+" "},9:function(e,a,t,n,l){return" "+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.social.additional.search","Twitter",{name:"getI18n",hash:{},data:l}))+" "},11:function(e,a,t,n,l){return" "+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.social.additional.search","Facebook",{name:"getI18n",hash:{},data:l}))+" "},13:function(e,a,t,n,l){return" "+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.social.additional.search","Google+",{name:"getI18n",hash:{},data:l}))+" "},15:function(e,a,t,n,l){var i=null!=a?a:{},s=e.escapeExpression;return' <input type="button" class="cP ks-bluebtn primarybtn" value="'+s(t.getI18n.call(i,"crm.social.button.authenticate",{name:"getI18n",hash:{},data:l}))+'" onclick="sE(event); crmSocialEntity.authenticateNetwork(\''+s(e.lambda(null!=a?a.network:a,a))+'\');"> <input type="button" class="cP ks-graybtn" value="'+s(t.getI18n.call(i,"crm.social.no.thanks",{name:"getI18n",hash:{},data:l}))+'" onclick="sE(event); crmSocialEntity.goBack();"> '},17:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression,r=e.lambda;return" "+(null!=(i=t.if_eq.call(s,null!=a?a.network:a,"twitter",{name:"if_eq",hash:{},fn:e.program(18,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if_eq.call(s,null!=a?a.network:a,"facebook",{name:"if_eq",hash:{},fn:e.program(20,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if_eq.call(s,null!=a?a.network:a,"googleplus",{name:"if_eq",hash:{},fn:e.program(22,l,0),inverse:e.noop,data:l}))?i:"")+' <input type="button" class="cP ks-graybtn newgreybtn" value="'+o(t.getI18n.call(s,"crm.social.no.thanks",{name:"getI18n",hash:{},data:l}))+'" onclick="sE(event); crmSocialEntity.goBack(\'\');" ></input> <input id="selectedprofile" type="hidden" profile_id="'+o(r(null!=a?a.profile_id:a,a))+'" network="'+o(r(null!=a?a.net:a,a))+'" ></input> '},18:function(e,a,t,n,l){var i=e.escapeExpression;return' <input type="button" class="cP ks-bluebtn primarybtn" value="'+i(t.getI18n.call(null!=a?a:{},"crm.social.find.on","Twitter",{name:"getI18n",hash:{},data:l}))+'" onclick="sE(event); crmSocialEntity.additionalNetworkSearch(\''+i(e.lambda(null!=a?a.network:a,a))+"');\"> "},20:function(e,a,t,n,l){var i=e.escapeExpression;return' <input type="button" class="cP ks-bluebtn primarybtn" value="'+i(t.getI18n.call(null!=a?a:{},"crm.social.find.on","Facebook",{name:"getI18n",hash:{},data:l}))+'" onclick="sE(event); crmSocialEntity.additionalNetworkSearch(\''+i(e.lambda(null!=a?a.network:a,a))+"');\"> "},22:function(e,a,t,n,l){var i=e.escapeExpression;return' <input type="button" class="cP ks-bluebtn primarybtn" value="'+i(t.getI18n.call(null!=a?a:{},"crm.social.find.on","Google+",{name:"getI18n",hash:{},data:l}))+'" onclick="sE(event); crmSocialEntity.additionalNetworkSearch(\''+i(e.lambda(null!=a?a.network:a,a))+"');\"> "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <div id="confirm" class="fb_confirm"> <div class="fb_conf_cont"> <div class="fb_conf_q"> '+(null!=(i=t.if.call(s,null!=a?a.error:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(8,l,0),data:l}))?i:"")+' </div> <div class="fb_conf_btn"> '+(null!=(i=t.if.call(s,null!=a?a.error:a,{name:"if",hash:{},fn:e.program(15,l,0),inverse:e.program(17,l,0),data:l}))?i:"")+" </div> </div> </div>"},useData:!0}),a.SocialEntityLayout=e({1:function(e,a,t,n,l){return" "+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.social.networks",{name:"getI18n",hash:{},data:l}))+" "},3:function(e,a,t,n,l){var i,s=null!=a?a:{};return" "+(null!=(i=t.if_eq.call(s,null!=a?a.network:a,"twitter",{name:"if_eq",hash:{},fn:e.program(4,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if_eq.call(s,null!=a?a.network:a,"facebook",{name:"if_eq",hash:{},fn:e.program(6,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if_eq.call(s,null!=a?a.network:a,"googleplus",{name:"if_eq",hash:{},fn:e.program(8,l,0),inverse:e.noop,data:l}))?i:"")+" "},4:function(e,a,t,n,l){return" Twitter "},6:function(e,a,t,n,l){return" Facebook "},8:function(e,a,t,n,l){return" Google+ "},10:function(e,a,t,n,l){return'onclick="sE(event); crmSocialEntity.selectEntityImage(this);"'},12:function(e,a,t,n,l){var i;return' <img class="dIB entity_imgsize vam" src="'+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=a?a.profiles:a)?i[0]:i)?i.profile_image_url_https:i,a))+'"> <span class="twicon-small smallIconPosi socImgSelSpan"></span> '},14:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.picture:a,{name:"if",hash:{},fn:e.program(15,l,0),inverse:e.program(17,l,0),data:l}))?i:"")+' <span class="fbicon-small smallIconPosi socImgSelSpan"></span> '},15:function(e,a,t,n,l){return' <img class="dIB entity_imgsize vam" src="'+e.escapeExpression(e.lambda(null!=a?a.picture:a,a))+'"> '},17:function(e,a,t,n,l){var i,s=e.escapeExpression;return' <img class="dIB entity_imgsize vam" src="'+s(t.getRebrandKey.call(null!=a?a:{},"FB_GRAPH_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+s(e.lambda(null!=(i=null!=(i=null!=a?a.profiles:a)?i[0]:i)?i.id:i,a))+'/picture"> '},19:function(e,a,t,n,l){var i;return' <img class="dIB entity_imgsize vam" src="'+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=(i=null!=a?a.profiles:a)?i[0]:i)?i.image:i)?i.url:i,a))+'"> <span class="gpicon-small smallIconPosi socImgSelSpan"></span> '},21:function(e,a,t,n,l){var i;return' <img class="dIB entity_imgsize vam" src="'+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=a?a.profiles:a)?i[0]:i)?i.image_url:i,a))+'"> <span class="zohoicon-small smallIconPosi socImgSelSpan"></span> '},23:function(e,a,t,n,l){return' <div class="twDrop dIB cP" style="left: 50px; display: block;"> <span class="dmdropArrow socialImgsvg mT25"></span> </div> '},25:function(e,a,t,n,l){var i,s=null!=a?a:{};return" "+(null!=(i=t.if.call(s,null!=a?a.crm:a,{name:"if",hash:{},fn:e.program(26,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.twitter:a,{name:"if",hash:{},fn:e.program(28,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.facebook:a,{name:"if",hash:{},fn:e.program(30,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.googleplus:a,{name:"if",hash:{},fn:e.program(33,l,0),inverse:e.noop,data:l}))?i:"")+" "},26:function(e,a,t,n,l){return' <div onclick="crmSocialEntity.selectImage(this);"> <img class="dIB entity_imgsize vam" src="'+e.escapeExpression(e.lambda(null!=a?a.image_url:a,a))+'"> <span class="zohoicon-small smallIconPosi"></span> </div> '},28:function(e,a,t,n,l){return' <div onclick="crmSocialEntity.selectImage(this);"> <img class="dIB entity_imgsize vam" src="'+e.escapeExpression(e.lambda(null!=a?a.profile_image_url_https:a,a))+'"> <span class="twicon-small smallIconPosi"></span> </div> '},30:function(e,a,t,n,l){var i;return' <div onclick="crmSocialEntity.selectImage(this);"> '+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.picture:a,{name:"if",hash:{},fn:e.program(15,l,0),inverse:e.program(31,l,0),data:l}))?i:"")+' <span class="fbicon-small smallIconPosi"></span> </div> '},31:function(e,a,t,n,l){var i=e.escapeExpression;return' <img class="dIB entity_imgsize vam" src="'+i(t.getRebrandKey.call(null!=a?a:{},"FB_GRAPH_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+i(e.lambda(null!=a?a.id:a,a))+'/picture"> '},33:function(e,a,t,n,l){var i;return' <div onclick="crmSocialEntity.selectImage(this);"> <img class="dIB entity_imgsize vam" src="'+e.escapeExpression(e.lambda(null!=(i=null!=a?a.image:a)?i.url:i,a))+'"> <span class="gpicon-small smallIconPosi"></span> </div> '},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <table id="new_entityfield" class="entity_fields_lead entity_fields"> <tbody> <tr> <td class="vam"></td> <td> <table class="entity_field_inner m0" style="border-bottom: none"> <tbody> <tr class="entity_input"> <td class="pL0 entitycrm_head">'+o(t.getI18n.call(s,"crm.social.crm",{name:"getI18n",hash:{},data:l}))+'</td> <td class="pR entitysoc_head"> '+(null!=(i=t.if_gt_len.call(s,null!=a?a.profiles:a,"1",{name:"if_gt_len",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l}))?i:"")+' </td> </tr> </tbody> </table> </td> </tr> <tr> <td class="vab"> <label> <input id="image_checkbox" type="checkbox" checked="checked" ></input> <span></span> </label> </td> <td> <table class="entity_field_inner m0" style="border-bottom: none"> <tbody> <tr class="entity_input"> <td class="p0 vab"> <img class="dIB entity_imgsize vam" src="'+o(t.getCrmImageUrl.call(s,"user_d522435_.jpg",{name:"getCrmImageUrl",hash:{},data:l}))+'"> <div class="socialImg syncIcon dIB mL50 mT10 op05 vam"></div> </td> <td class="pR vab pB0"> <div class="user-list"> <div id="image_selection" class="usr-default" '+(null!=(i=t.if_gt_len.call(s,null!=a?a.profiles:a,"1",{name:"if_gt_len",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l}))?i:"")+"> "+(null!=(i=t.if.call(s,null!=(i=null!=(i=null!=a?a.profiles:a)?i[0]:i)?i.twitter:i,{name:"if",hash:{},fn:e.program(12,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=(i=null!=(i=null!=a?a.profiles:a)?i[0]:i)?i.facebook:i,{name:"if",hash:{},fn:e.program(14,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=(i=null!=(i=null!=a?a.profiles:a)?i[0]:i)?i.googleplus:i,{name:"if",hash:{},fn:e.program(19,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=(i=null!=(i=null!=a?a.profiles:a)?i[0]:i)?i.crm:i,{name:"if",hash:{},fn:e.program(21,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if_gt_len.call(s,null!=a?a.profiles:a,"1",{name:"if_gt_len",hash:{},fn:e.program(23,l,0),inverse:e.noop,data:l}))?i:"")+' </div> <div id="image_suggestion" class="user-sug"> '+(null!=(i=t.each.call(s,null!=a?a.profiles:a,{name:"each",hash:{},fn:e.program(25,l,0),inverse:e.noop,data:l}))?i:"")+' </div> </div> </td> </tr> </tbody> </table> </td> </tr> <tr class="zso-spacer"></tr> </tbody> </table> '},useData:!0}),a.SocialEntityNetworkAlert=e({compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression,r=e.lambda;return' <div class="titleDiv pT25 pB15"> <span class="settingTitle fL dIB mL20">'+o(t.getI18n.call(s,"crm.social.alert",{name:"getI18n",hash:{},data:l}))+'</span> <div class="clearB"></div> </div> <div> <div class="aligncenter color_3 f16 mT20 mB8">'+o(t.getI18n.call(s,"crm.social.profile.clash",null!=a?a.label_network:a,{name:"getI18n",hash:{},data:l}))+"</div> <div class='aligncenter'>"+(null!=(i=t.getI18n.call(s,"crm.social.overwrite.warning",{name:"getI18n",hash:{},data:l}))?i:"")+'</div> </div> <div id="entity_overwrite" class="pB20" style="text-align: center; margin-top: 5px;" align="center"> <input type="button" value="'+o(t.getI18n.call(s,"crn.social.overrite",{name:"getI18n",hash:{},data:l}))+'" class="redbtn" onclick="sE(event); crmSocialEntity.associateEntity(this, \''+o(r(null!=a?a.module:a,a))+"', '"+o(r(null!=a?a.profileId:a,a))+"', '"+o(r(null!=a?a.entityId:a,a))+"', '"+o(r(null!=a?a.network:a,a))+'\', true);"> &nbsp;&nbsp; <input type="button" value="'+o(t.getI18n.call(s,"crm.social.choose.different",{name:"getI18n",hash:{},data:l}))+'" class="newgraybtn" onclick="sE(event); crmSocialEntity.chooseDifferentEntity();"> </div> '},useData:!0}),a.SocialEntityRow=e({1:function(e,a,t,n,l){return' <input id="'+e.escapeExpression(e.lambda(null!=a?a.fieldid:a,a))+'_checkbox" type="checkbox" checked="checked" disabled ></input> '},3:function(e,a,t,n,l){return' <input id="'+e.escapeExpression(e.lambda(null!=a?a.fieldid:a,a))+'_checkbox" type="checkbox" checked="checked" ></input> '},5:function(e,a,t,n,l){return' <td id="'+e.escapeExpression(e.lambda(null!=a?a.fieldid:a,a))+'_label" class="entity_crmfield vab cN"></td> '},7:function(e,a,t,n,l){return' <td id="'+e.escapeExpression(e.lambda(null!=a?a.fieldid:a,a))+'_label" class="entity_crmfield vab cP" onclick="sE(event); crmSocialEntity.showAllFields(this);"></td> '},9:function(e,a,t,n,l){var i;return' <span class="crm-font-regular dIB ipLabel">'+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=a?a.socialVal:a)?i[0]:i)?i.title:i,a))+"</span> "},11:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return" <span onclick=\"sE(event); crmSocialEntity.selectValue(this, '"+o(s(null!=a?a.network:a,a))+'\');" network="'+o(s(null!=a?a.network:a,a))+'" '+(null!=(i=t.if_eq.call(r,null!=a?a.network:a,"crm",{name:"if_eq",hash:{},fn:e.program(12,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if_eq.call(r,null!=a?a.network:a,"twitter",{name:"if_eq",hash:{},fn:e.program(17,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if_eq.call(r,null!=a?a.network:a,"facebook",{name:"if_eq",hash:{},fn:e.program(22,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if_eq.call(r,null!=a?a.network:a,"googleplus",{name:"if_eq",hash:{},fn:e.program(27,l,0),inverse:e.noop,data:l}))?i:"")+" </span> "},12:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.isActive:a,{name:"if",hash:{},fn:e.program(13,l,0),inverse:e.program(15,l,0),data:l}))?i:"")+" "},13:function(e,a,t,n,l){return' class="zohoicon-small dIB cP"> '},15:function(e,a,t,n,l){return' class="socialImg zohosmallgray dIB cP"> '},17:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.isActive:a,{name:"if",hash:{},fn:e.program(18,l,0),inverse:e.program(20,l,0),data:l}))?i:"")+" "},18:function(e,a,t,n,l){return' class="twicon-small dIB cP"> '},20:function(e,a,t,n,l){return' class="socialImg twsmallgray dIB cP"> '},22:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.isActive:a,{name:"if",hash:{},fn:e.program(23,l,0),inverse:e.program(25,l,0),data:l}))?i:"")+" "},23:function(e,a,t,n,l){return' class="fbicon-small dIB cP"> '},25:function(e,a,t,n,l){return' class="socialImg fbsmallgray dIB cP"> '},27:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.isActive:a,{name:"if",hash:{},fn:e.program(28,l,0),inverse:e.program(30,l,0),data:l}))?i:"")+" "},28:function(e,a,t,n,l){return' class="gpicon-small dIB cP"> '},30:function(e,a,t,n,l){return' class="socialImg gpsmallgray dIB cP"> '},32:function(e,a,t,n,l){var i;return' <div id="'+e.escapeExpression(e.lambda(null!=a?a.fieldid:a,a))+'_select" class="dN ddM entityField_drop activeDrop"> <ul> '+(null!=(i=t.each.call(null!=a?a:{},null!=a?a.socialVal:a,{name:"each",hash:{},fn:e.program(33,l,0),inverse:e.noop,data:l}))?i:"")+" </ul> </div> "},33:function(e,a,t,n,l){var i,s=null!=a?a:{};return" "+(null!=(i=t.if_eq.call(s,null!=a?a.network:a,"crm",{name:"if_eq",hash:{},fn:e.program(34,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if_eq.call(s,null!=a?a.network:a,"twitter",{name:"if_eq",hash:{},fn:e.program(36,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if_eq.call(s,null!=a?a.network:a,"facebook",{name:"if_eq",hash:{},fn:e.program(38,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if_eq.call(s,null!=a?a.network:a,"googleplus",{name:"if_eq",hash:{},fn:e.program(40,l,0),inverse:e.noop,data:l}))?i:"")+" "},34:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <li data="'+s(i(null!=a?a.network:a,a))+'" onclick="sE(event); crmSocialEntity.selectValue(this);" class="cP" data-value="'+s(i(null!=a?a.value:a,a))+'" data-title="'+s(i(null!=a?a.title:a,a))+'"> '+s(i(null!=a?a.value:a,a))+' <span onclick="sE(event);" class="zohoicon-small fR p0 mT3"></span> </li> '},36:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <li data="'+s(i(null!=a?a.network:a,a))+'" onclick="sE(event); crmSocialEntity.selectValue(this);" class="cP" data-value="'+s(i(null!=a?a.value:a,a))+'" data-title="'+s(i(null!=a?a.title:a,a))+'"> '+s(i(null!=a?a.value:a,a))+' <span onclick="sE(event);" class="twicon-small fR p0 mT3"></span> </li> '},38:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <li data="'+s(i(null!=a?a.network:a,a))+'" onclick="sE(event); crmSocialEntity.selectValue(this);" class="cP" data-value="'+s(i(null!=a?a.value:a,a))+'" data-title="'+s(i(null!=a?a.title:a,a))+'"> '+s(i(null!=a?a.value:a,a))+' <span onclick="sE(event);" class="fbicon-small fR p0 mT3"></span> </li> '},40:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <li data="'+s(i(null!=a?a.network:a,a))+'" onclick="sE(event); crmSocialEntity.selectValue(this);" class="cP" data-value="'+s(i(null!=a?a.value:a,a))+'" data-title="'+s(i(null!=a?a.title:a,a))+'"> '+s(i(null!=a?a.value:a,a))+' <span onclick="sE(event);" class="gpicon-small fR p0 mT3"></span> </li> '},42:function(e,a,t,n,l){return' <td style="width: 12px;" class="vam vh"> <span id="custom_'+e.escapeExpression(e.lambda(null!=a?a.fieldid:a,a))+'" class="socialImg dIB trashIcon cP" onclick="sE(event); crmSocialEntity.removeField(this);"></span> </td> '},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <tr id="'+o(s(null!=a?a.fieldid:a,a))+'_field_row" class="entityfield_row"> <td class="vab"> <label> '+(null!=(i=t.if_eq.call(r,null!=a?a.mandate:a,"true",{name:"if_eq",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l}))?i:"")+' <span></span> </label> </td> <td> <table class="entity_field_inner"> <tbody> <tr class="entity_input" data-cid="'+o(s(null!=a?a.fieldid:a,a))+'"> '+(null!=(i=t.if_eq.call(r,null!=a?a.mandate:a,"true",{name:"if_eq",hash:{},fn:e.program(5,l,0),inverse:e.program(7,l,0),data:l}))?i:"")+' <td id="'+o(s(null!=a?a.fieldid:a,a))+'_input"> '+(null!=(i=t.if.call(r,null!=a?a.socialVal:a,{name:"if",hash:{},fn:e.program(9,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.each.call(r,null!=a?a.socialVal:a,{name:"each",hash:{},fn:e.program(11,l,0),inverse:e.noop,data:l}))?i:"")+' <div id="val_prefix"></div> '+(null!=(i=t.if.call(r,null!=a?a.socialVal:a,{name:"if",hash:{},fn:e.program(32,l,0),inverse:e.noop,data:l}))?i:"")+" </td> "+(null!=(i=t.if.call(r,null!=a?a.isCustom:a,{name:"if",hash:{},fn:e.program(42,l,0),inverse:e.noop,data:l}))?i:"")+' </tr> </tbody> </table> </td> </tr> <tr class="zso-spacer"></tr> '},useData:!0}),a.SocialEntitySuggestion=e({1:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <table class="entity_suggestion" cellpadding="0" cellspacing="0" width="100%"> <tbody> <tr> <td class="kso_photo_td pR"> '+(null!=(i=t.if.call(s,null!=a?a.id_str:a,{name:"if",hash:{},fn:e.program(2,l,0),inverse:e.program(4,l,0),data:l}))?i:"")+' </td> <td class="pL10"> <div> '+(null!=(i=t.if.call(s,null!=a?a.id_str:a,{name:"if",hash:{},fn:e.program(12,l,0),inverse:e.program(14,l,0),data:l}))?i:"")+' <div class="clearB"></div> </div> '+(null!=(i=t.if.call(s,null!=a?a.screen_name:a,{name:"if",hash:{},fn:e.program(19,l,0),inverse:e.noop,data:l}))?i:"")+' </td> <td class="entity_asociate" align="right"> <a class="newwhitebtn" onclick="crmSocialEntity.associateProfile(this);">'+e.escapeExpression(t.getI18n.call(s,"crm.nsocial.entity.associate","",{name:"getI18n",hash:{},data:l}))+"</a> "+(null!=(i=t.if.call(s,null!=a?a.id_str:a,{name:"if",hash:{},fn:e.program(21,l,0),inverse:e.program(23,l,0),data:l}))?i:"")+" </td> </tr> </tbody> </table> "},2:function(e,a,t,n,l){return' <img class="dIB entity_imgsize vam"src="'+e.escapeExpression(e.lambda(null!=a?a.profile_image_url_https:a,a))+'"> <span class="twicon-small smallIconPosi"></span> '},4:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.displayName:a,{name:"if",hash:{},fn:e.program(5,l,0),inverse:e.program(7,l,0),data:l}))?i:"")+" "},5:function(e,a,t,n,l){var i;return' <img class="dIB entity_imgsize vam" src="'+e.escapeExpression(e.lambda(null!=(i=null!=a?a.image:a)?i.url:i,a))+'"> <span class="gpicon-small smallIconPosi"></span> '},7:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.picture:a,{name:"if",hash:{},fn:e.program(8,l,0),inverse:e.program(10,l,0),data:l}))?i:"")+' <span class="fbicon-small smallIconPosi"></span> '},8:function(e,a,t,n,l){return' <img class="dIB entity_imgsize vam"src="'+e.escapeExpression(e.lambda(null!=a?a.picture:a,a))+'"> '},10:function(e,a,t,n,l){var i=e.escapeExpression;return' <img class="dIB entity_imgsize vam"src="'+i(t.getRebrandKey.call(null!=a?a:{},"FB_GRAPH_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+i(e.lambda(null!=a?a.id:a,a))+'/picture"> '},12:function(e,a,t,n,l){var i=e.escapeExpression,s=e.lambda;return' <a href="'+i(t.getRebrandKey.call(null!=a?a:{},"TW_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+i(s(null!=a?a.screen_name:a,a))+'" target="_blank" class="whois fL remove_ud gpsug">'+i(s(null!=a?a.name:a,a))+"</a> "},14:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.displayName:a,{name:"if",hash:{},fn:e.program(15,l,0),inverse:e.program(17,l,0),data:l}))?i:"")+" "},15:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <a href="'+s(i(null!=a?a.url:a,a))+'" target="_blank" class="whois fL remove_ud gpsug">'+s(i(null!=a?a.displayName:a,a))+"</a> "},17:function(e,a,t,n,l){var i=e.escapeExpression,s=e.lambda;return' <a href="'+i(t.getRebrandKey.call(null!=a?a:{},"FB_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+i(s(null!=a?a.id:a,a))+'" target="_blank" class="whois fL remove_ud gpsug">'+i(s(null!=a?a.name:a,a))+"</a> "},19:function(e,a,t,n,l){return' <div class="kso_logo_from"> <span class="entity_form_text">'+e.escapeExpression(e.lambda(null!=a?a.screen_name:a,a))+"</span> </div> "},21:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <input type="hidden" id="associate_id" profile_name="'+s(i(null!=a?a.name:a,a))+'" profile_id="'+s(i(null!=a?a.id_str:a,a))+'" network="twitter" ></input> '},23:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.displayName:a,{name:"if",hash:{},fn:e.program(24,l,0),inverse:e.program(26,l,0),data:l}))?i:"")+" "},24:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <input type="hidden" id="associate_id" profile_name="'+s(i(null!=a?a.displayName:a,a))+'" profile_id="'+s(i(null!=a?a.id:a,a))+'" network="googleplus" ></input> '},26:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <input type="hidden" id="associate_id" profile_name="'+s(i(null!=a?a.name:a,a))+'" profile_id="'+s(i(null!=a?a.id:a,a))+'" network="facebook" ></input> '},28:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <div id="profile_search_cursor" class="zs-showmore showmoreNew clearFix"> <a onclick="sE(event); crmSocialEntity.searchOnNetwork(\''+s(i(null!=a?a.network:a,a))+"', '"+s(i(null!=a?a.name:a,a))+"', '"+s(i(null!=a?a.nextPageToken:a,a))+'\');" class="cP" data-zcqa="cursor">'+s(t.getI18n.call(null!=a?a:{},"crm.nsocial.tab.show.more",{name:"getI18n",hash:{},data:l}))+"</a> </div> "},30:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.offset:a,{name:"if",hash:{},fn:e.program(31,l,0),inverse:e.noop,data:l}))?i:"")+" "},31:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <div id="profile_search_cursor" class="zs-showmore showmoreNew clearFix"> <a onclick="sE(event); crmSocialEntity.searchOnNetwork(\''+s(i(null!=a?a.network:a,a))+"', '"+s(i(null!=a?a.name:a,a))+"', '"+s(i(null!=a?a.offset:a,a))+'\');" class="cP" data-zcqa="cursor">'+s(t.getI18n.call(null!=a?a:{},"crm.nsocial.tab.show.more",{name:"getI18n",hash:{},data:l}))+"</a> </div> "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=null!=a?a:{};return" "+(null!=(i=t.each.call(s,null!=a?a.data:a,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.nextPageToken:a,{name:"if",hash:{},fn:e.program(28,l,0),inverse:e.program(30,l,0),data:l}))?i:"")+" "},useData:!0}),a.SocialEntitySuggestionSearch=e({1:function(e,a,t,n,l){var i,s=null!=a?a:{};return" "+(null!=(i=t.if.call(s,null!=a?a.twitter:a,{name:"if",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.facebook:a,{name:"if",hash:{},fn:e.program(4,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.googleplus:a,{name:"if",hash:{},fn:e.program(6,l,0),inverse:e.noop,data:l}))?i:"")+" "},2:function(e,a,t,n,l){return' <span class="socialImgsvg entity_tw fL"></span> <a id="tw_suggestion" class="first f14 active col333 fL" href="javascript:void(0);" onclick="crmSocial.menuAnimate(this); crmSocialEntity.searchOnNetwork(\'twitter\');" style="padding: 1px 3px 7px 7px;"> Twitter </a> '},4:function(e,a,t,n,l){return' <span class="socialImgsvg entity_fb fL"></span> <a id="fb_suggestion" class="first f14 active col333 fL" href="javascript:void(0);" onclick="crmSocialEntity.tabMenuAnimate(this); crmSocialEntity.searchOnNetwork(\'facebook\');" style="padding: 1px 3px 7px 7px;"> Facebook </a> '},6:function(e,a,t,n,l){return' <span class="socialImgsvg entity_gp fL"></span> <a id="gp_suggestion" class="last f14 fL mR30 col777 fL" href="javascript:void(0);" onclick="crmSocialEntity.tabMenuAnimate(this); crmSocialEntity.searchOnNetwork(\'googleplus\');" style="padding: 1px 3px 7px 7px;"> Google+ </a> '},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression,r=e.lambda;return'<div id="entityBack" class="entityBack fL w100per cP"> <span class="socialImgsvg kso_back_arrow fL" title="Go Back" onclick="crmSocialEntity.goBack();"></span> <span class="dB fL mL10" style="font-size: 18px">'+o(t.getI18n.call(s,"crm.social.find.profile",null!=a?a.name:a,{name:"getI18n",hash:{},data:l}))+'</span> </div> <div id="entity_search_outer" class="entitygpInfo_Inner"> <div id="entity_search_menu" class="tabMenu pR" style="height: 30px;"> <div class="tabborder" style="left: 22px; width: 93px;"></div> '+(null!=(i=t.each.call(s,null!=a?a.networks:a,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+' <input id="suggestion_search" type="hidden" value="'+o(r(null!=a?a.name:a,a))+'"> </div> <div id="suggestionList" class="gpSuggestion"> <div id="profile_search_div" class="pR"> <span class="setupsearchicon ico-search svgIcons" style="left: 25px;top: 18px;" onclick="crmSocialEntity.searchOnNetwork();"></span> <input class="profile_search" value="'+o(r(null!=a?a.name:a,a))+'" placeholder="'+o(t.getI18n.call(s,"crm.social.search.profiles",{name:"getI18n",hash:{},data:l}))+'" type="text" onkeyup="crmSocialEntity.getSearchedProfiles(this, event);" ></input> </div> <div id="suggestion_list_outer" class="pR"> <div id="suggestion_list_inner"> <div id="addContact_loading" class="aligncenter pB30 dN pR" style="top: 40%;"> <div class="socialImg socLoadingIcon pR"></div> </div> </div> </div> </div> </div> <div id="entity_search_freeze" class="entity_search_freeze"></div>'},useData:!0}),a.SocialInteractions=e({1:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=(i=null!=a?a.interactions:a)?i.data:i,{name:"if",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l}))?i:"")+" "},2:function(e,a,t,n,l){var i;return' <div id="social_int_outer_div" style="width: 100%; margin: 0 auto; position: relative;overflow-x:hidden;" onclick="crmSocialInteg.scrollSocial(true);"> <div id=\'social_int_inner_div\' > '+(null!=(i=e.invokePartial(n.SocialInteractionsNew,a,{name:"SocialInteractionsNew",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+' </div> </div> <div id="pings_load" class="cP txt-ctr pR show_more dN" onclick="crmSocialInteg.scrollDiv(\'pings\')"> <div class="showmoreIcn"><span class="showmoreIcon"></span></div> </div> '},4:function(e,a,t,n,l){var i=e.escapeExpression;return' <table class="norec no_rec col666 pR f14" align="center" border="0" width="100%" cellpadding="0" cellspacing="0"> <tbody> <tr> <td valign="center"> <div class="f13 col666 fontsmooth">'+i(t.getI18n.call(null!=a?a:{},"crm.nsocial.no.interactions",{name:"getI18n",hash:{},data:l}))+'</div> <div id="norec_'+i(e.lambda(null!=a?a.list_rel_id:a,a))+'"></div> </td> </tr> </tbody> </table> '},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i;return(null!=(i=t.if.call(null!=a?a:{},null!=a?a.interactions:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(4,l,0),data:l}))?i:"")+" "},usePartial:!0,useData:!0}),a.SocialInteractionsList=e({1:function(e,a,t,n,l,i,s){var o,r=null!=a?a:{};return" "+(null!=(o=t.each.call(r,null!=(o=null!=a?a.interactions:a)?o.data:o,{name:"each",hash:{},fn:e.program(2,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "+(null!=(o=t.if.call(r,null!=(o=null!=a?a.interactions:a)?o.cursor:o,{name:"if",hash:{},fn:e.program(42,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},2:function(e,a,t,n,l,i,s){var o,r=null!=a?a:{},c=e.lambda,d=e.escapeExpression;return" "+(null!=(o=t.if_eq.call(r,null!=a?a.network:a,"twitter",{name:"if_eq",hash:{},fn:e.program(3,l,0,i,s),inverse:e.program(5,l,0,i,s),data:l}))?o:"")+' <div class="kso_photo_td pR fL"> '+(null!=(o=t.if_eq.call(r,null!=a?a.network:a,"twitter",{name:"if_eq",hash:{},fn:e.program(11,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "+(null!=(o=t.if_eq.call(r,null!=a?a.network:a,"facebook",{name:"if_eq",hash:{},fn:e.program(13,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "+(null!=(o=t.if_eq.call(r,null!=a?a.network:a,"googleplus",{name:"if_eq",hash:{},fn:e.program(18,l,0,i,s),inverse:e.noop,data:l}))?o:"")+' </div> <div class="fR lightgray" title="'+d(c(null!=a?a.title_time:a,a))+'"><span class="socialImg mR7 dIB '+(null!=(o=t.if.call(r,null!=a?a.history:a,{name:"if",hash:{},fn:e.program(20,l,0,i,s),inverse:e.program(25,l,0,i,s),data:l}))?o:"")+'"></span>'+d(c(null!=a?a.disp_time:a,a))+'</div> <div class="mL40"><span class="kso_from_text1">'+(null!=(o=c(null!=a?a.action:a,a))?o:"")+"</span></div> "+(null!=(o=t.if_eq.call(r,null!=a?a.network:a,"twitter",{name:"if_eq",hash:{},fn:e.program(28,l,0,i,s),inverse:e.program(30,l,0,i,s),data:l}))?o:"")+" "+(null!=(o=t.unless.call(r,null!=s[1]?s[1].isReadOnly:s[1],{name:"unless",hash:{},fn:e.program(36,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" </div> "},3:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return" <div class=\"krp_old_conversation kso_li feeds_li\" onclick=\"sE(event);crmSocialInteg.getDetail(this,'twitter', '"+o(s(null!=a?a.convo:a,a))+'\');" p_id="'+o(s(null!=a?a.id_str:a,a))+'" c_id="'+o(s(null!=a?a.comment_id:a,a))+'" t_id="'+o(s(null!=a?a.thread_id:a,a))+'" b_id="'+o(s(null!=a?a.brid:a,a))+'" pro_id="'+o(s(null!=(i=null!=a?a.user:a)?i.id_str:i,a))+'" m_name="'+o(s(null!=(i=null!=a?a.user:a)?i.module:i,a))+'" e_id="'+o(s(null!=(i=null!=a?a.user:a)?i.entityid:i,a))+'" u_name="'+o(s(null!=(i=null!=a?a.user:a)?i.screen_name:i,a))+'" u_id="'+o(s(null!=(i=null!=a?a.user:a)?i.id_str:i,a))+'" f_cnt="'+o(s(null!=a?a.favoriters_count:a,a))+'" re_cnt="'+o(s(null!=a?a.retweet_count:a,a))+'" c_cnt="'+o(s(null!=a?a.repliers_count:a,a))+'" b_img="'+o(s(null!=a?a.br_img:a,a))+'" b_name="'+o(s(null!=a?a.br_name:a,a))+'" data-zcqa="twitter_interaction"> '},5:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if_eq.call(null!=a?a:{},null!=a?a.network:a,"facebook",{name:"if_eq",hash:{},fn:e.program(6,l,0),inverse:e.program(8,l,0),data:l}))?i:"")+" "},6:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return" <div class=\"krp_old_conversation kso_li feeds_li\" onclick=\"sE(event);crmSocialInteg.getDetail(this,'facebook', '"+o(s(null!=a?a.convo:a,a))+'\');" p_id="'+o(s(null!=a?a.id:a,a))+'" c_id="'+o(s(null!=a?a.comment_id:a,a))+'" t_id="'+o(s(null!=a?a.thread_id:a,a))+'" b_id="'+o(s(null!=a?a.brid:a,a))+'" pro_id="'+o(s(null!=(i=null!=a?a.from:a)?i.id:i,a))+'" m_name="'+o(s(null!=(i=null!=a?a.from:a)?i.module:i,a))+'" e_id="'+o(s(null!=(i=null!=a?a.from:a)?i.entityid:i,a))+'" l_cnt="'+o(s(null!=a?a.likes_count:a,a))+'" c_cnt="'+o(s(null!=a?a.comments_count:a,a))+'" b_img="'+o(s(null!=a?a.br_img:a,a))+'" b_name="'+o(s(null!=a?a.br_name:a,a))+'" data-zcqa="facebook_interaction"> '},8:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if_eq.call(null!=a?a:{},null!=a?a.network:a,"googleplus",{name:"if_eq",hash:{},fn:e.program(9,l,0),inverse:e.noop,data:l}))?i:"")+" "},9:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return" <div class=\"krp_old_conversation kso_li feeds_li\" onclick=\"sE(event);crmSocialInteg.getDetail(this,'googleplus', '"+o(s(null!=a?a.convo:a,a))+'\');" p_id="'+o(s(null!=a?a.id:a,a))+'" c_id="'+o(s(null!=a?a.comment_id:a,a))+'" t_id="'+o(s(null!=a?a.thread_id:a,a))+'" b_id="'+o(s(null!=a?a.brid:a,a))+'" pro_id="'+o(s(null!=(i=null!=a?a.actor:a)?i.id:i,a))+'" m_name="'+o(s(null!=(i=null!=a?a.actor:a)?i.module:i,a))+'" e_id="'+o(s(null!=(i=null!=a?a.actor:a)?i.entityid:i,a))+'" l_cnt="'+o(s(null!=(i=null!=(i=null!=a?a.object:a)?i.plusoners:i)?i.totalItems:i,a))+'" c_cnt="'+o(s(null!=(i=null!=(i=null!=a?a.object:a)?i.replies:i)?i.totalItems:i,a))+'" b_img="'+o(s(null!=a?a.br_img:a,a))+'" b_name="'+o(s(null!=a?a.br_name:a,a))+'" data-zcqa="googleplus_interaction"> '},11:function(e,a,t,n,l){var i;return' <img src="'+e.escapeExpression(e.lambda(null!=(i=null!=a?a.user:a)?i.profile_image_url_https:i,a))+'" class="kso_user_photo cP borderRad" onclick="sE(event);"> <span class="socialImg smIcon twSmIconPos"></span> '},13:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.picture:a,{name:"if",hash:{},fn:e.program(14,l,0),inverse:e.program(16,l,0),data:l}))?i:"")+' <span class="socialImg smIcon fbSmIconPos"></span> '},14:function(e,a,t,n,l){return' <img src="'+e.escapeExpression(e.lambda(null!=a?a.picture:a,a))+'" class="kso_user_photo cP borderRad" onclick="sE(event);"> '},16:function(e,a,t,n,l){var i,s=e.escapeExpression;return' <img src="'+s(t.getRebrandKey.call(null!=a?a:{},"FB_GRAPH_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+s(e.lambda(null!=(i=null!=a?a.from:a)?i.id:i,a))+'/picture" class="kso_user_photo cP borderRad" onclick="sE(event);"> '},18:function(e,a,t,n,l){var i;return' <img src="'+e.escapeExpression(t.removeGoogleimagesize.call(null!=a?a:{},null!=(i=null!=(i=null!=a?a.actor:a)?i.image:i)?i.url:i,{name:"removeGoogleimagesize",hash:{},data:l}))+'" class="kso_user_photo cP borderRad" onclick="sE(event);"> <span class="socialImg smIcon gpSmIconPos"></span> '},20:function(e,a,t,n,l){var i,s=null!=a?a:{};return(null!=(i=t.ifEquals.call(s,null!=(i=null!=a?a.history:a)?i.type:i,"status",{name:"ifEquals",hash:{},fn:e.program(21,l,0),inverse:e.noop,data:l}))?i:"")+(null!=(i=t.ifEquals.call(s,null!=(i=null!=a?a.history:a)?i.type:i,"reply",{name:"ifEquals",hash:{},fn:e.program(21,l,0),inverse:e.noop,data:l}))?i:"")+(null!=(i=t.ifEquals.call(s,null!=(i=null!=a?a.history:a)?i.type:i,"mention",{name:"ifEquals",hash:{},fn:e.program(23,l,0),inverse:e.noop,data:l}))?i:"")+(null!=(i=t.ifEquals.call(s,null!=(i=null!=a?a.history:a)?i.type:i,"comment",{name:"ifEquals",hash:{},fn:e.program(21,l,0),inverse:e.noop,data:l}))?i:"")},21:function(e,a,t,n,l){return"socInt_comment"},23:function(e,a,t,n,l){return"socInt_mention top3 pR"},25:function(e,a,t,n,l){var i;return null!=(i=t.if.call(null!=a?a:{},null!=a?a.conversation_with:a,{name:"if",hash:{},fn:e.program(26,l,0),inverse:e.noop,data:l}))?i:""},26:function(e,a,t,n,l){return"socInt_message"},28:function(e,a,t,n,l){var i;return' <p class="f13 color1 mT10 pB5 mL40 feeds_text">'+(null!=(i=e.lambda(null!=a?a.text:a,a))?i:"")+"</p> "},30:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if_eq.call(null!=a?a:{},null!=a?a.network:a,"facebook",{name:"if_eq",hash:{},fn:e.program(31,l,0),inverse:e.program(33,l,0),data:l}))?i:"")+" "},31:function(e,a,t,n,l){var i;return' <p class="f13 color1 mT10 pB5 mL40 feeds_text">'+(null!=(i=e.lambda(null!=a?a.message:a,a))?i:"")+"</p> "},33:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if_eq.call(null!=a?a:{},null!=a?a.network:a,"googleplus",{name:"if_eq",hash:{},fn:e.program(34,l,0),inverse:e.noop,data:l}))?i:"")+" "},34:function(e,a,t,n,l){var i;return' <p class="f13 color1 mT10 pB5 mL40 feeds_text">'+(null!=(i=e.lambda(null!=a?a.title:a,a))?i:"")+"</p> "},36:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if_eq.call(null!=a?a:{},null!=a?a.network:a,"twitter",{name:"if_eq",hash:{},fn:e.program(37,l,0),inverse:e.program(39,l,0),data:l}))?i:"")+" "},37:function(e,a,t,n,l){var i;return" "+(null!=(i=e.invokePartial(n.twPostActions,a,{name:"twPostActions",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+' <div class="ping_btm"></div> '},39:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if_eq.call(null!=a?a:{},null!=a?a.network:a,"facebook",{name:"if_eq",hash:{},fn:e.program(40,l,0),inverse:e.noop,data:l}))?i:"")+" "},40:function(e,a,t,n,l){var i;return" "+(null!=(i=e.invokePartial(n.fbPostActions,a,{name:"fbPostActions",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+' <div class="ping_btm"></div> '},42:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <div id="social_int_cursor" class="txt-ctr pR show_more cP" onclick="sE(event); crmSocialInteraction.fetchSocialInteractions(\'all\', \''+o(s(null!=a?a.list_rel_id:a,a))+"', '"+o(s(null!=(i=null!=a?a.interactions:a)?i.cursor:i,a))+'\');"> <div class="showmoreIcn"><span class="showmoreIcon"></span></div> </div> '},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l,i,s){var o;return"  "+(null!=(o=t.if.call(null!=a?a:{},null!=(o=null!=a?a.interactions:a)?o.data:o,{name:"if",hash:{},fn:e.program(1,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},usePartial:!0,useData:!0,useDepths:!0}),a.SocialKeyword=e({compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i;return' <li class="search-choice"> <span>'+(null!=(i=e.lambda(null!=a?a.keyword:a,a))?i:"")+'</span> <a href="javascript:void(0);" class="search-choice-close" onclick="crmSocial.removeSearchKey(this);" data-zcqa="remove_searchword"></a> </li> '},useData:!0}),a.SocialMainSection=e({1:function(e,a,t,n,l,i,s){var o;return" "+(null!=(o=t.each.call(null!=a?a:{},null!=a?a.columns:a,{name:"each",hash:{},fn:e.program(2,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},2:function(e,a,t,n,l,i,s){var o;return" "+(null!=(o=t.unless.call(null!=a?a:{},null!=a?a.search:a,{name:"unless",hash:{},fn:e.program(3,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},3:function(e,a,t,n,l,i,s){var o;return" "+(null!=(o=t.unless.call(null!=a?a:{},null!=a?a.entity:a,{name:"unless",hash:{},fn:e.program(4,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},4:function(e,a,t,n,l,i,s){var o,r=e.lambda,c=e.escapeExpression,d=null!=a?a:{};return' <div id="'+c(r(null!=a?a.parent_id:a,a))+'" class="ksocialbox" style="overflow: hidden;"> <div id="'+c(r(null!=a?a.column_id:a,a))+'" class="h2 p15 m0 posRel"> <div class="posAbs kso_back_div dN" onclick="crmSocial.hideDetails();"><span class="kso_back_arrow socialImgsvg"></span></div> <div class="fR w32 mT6" onclick="crmSocial.hideDetails();"> <img id="'+c(r(null!=a?a.column_id:a,a))+'_refresh" src="'+c(t.img_link.call(d,{name:"img_link",hash:{},data:l}))+'/spacer_e17b417_.gif" class="socialImgsvg social_refresh_icon cP fR"\n\t\t\t\t\t\t\t\tonclick="crmSocial.refresh(\''+c(r(null!=a?a.column_id:a,a))+'\', this);" data-zcqa="column_refresh" /> </div> '+(null!=(o=t.if.call(d,null!=s[1]?s[1].twitter:s[1],{name:"if",hash:{},fn:e.program(5,l,0,i,s),inverse:e.program(12,l,0,i,s),data:l}))?o:"")+' </div> <div id="parent_'+c(r(null!=a?a.container_id:a,a))+'" class="oH pR"> <div id="'+c(r(null!=a?a.ul_id:a,a))+'_notification_banner" class="pA dN cP socialImg noti_banner" onclick="crmSocial.showNew(\''+c(r(null!=a?a.ul_id:a,a))+"');\">"+c(t.getI18n.call(d,"crm.nsocial.noti.pings",{name:"getI18n",hash:{},data:l}))+"</div> "+(null!=(o=t.unless.call(d,null!=a?a.unknown:a,{name:"unless",hash:{},fn:e.program(16,l,0,i,s),inverse:e.noop,data:l}))?o:"")+' <div id="'+c(r(null!=a?a.container_id:a,a))+'" class="posRel"> <div id="'+c(r(null!=a?a.inner_container_id:a,a))+'" class="ksocialinnerbox pR"> <ul id="'+c(r(null!=a?a.ul_id:a,a))+'"> <li class="aligncenter" style="cursor: default; margin-top: 150px;"> <img src="'+c(t.img_link.call(d,{name:"img_link",hash:{},data:l}))+'/spacer_e17b417_.gif" class="ks_loading_new" /> </li> </ul> <ul id="'+c(r(null!=a?a.ul_id:a,a))+'_notification" class="dN notification_section"> <li id="noti_li" class="noti_li"> <span class="noti_demark_text">'+c(t.getI18n.call(d,"crm.nsocial.noti.pings.last.seen",{name:"getI18n",hash:{},data:l}))+'</span> <span class="noti_demark_line"></span> </li> </ul> </div> </div> '+(null!=(o=t.unless.call(d,null!=a?a.unknown:a,{name:"unless",hash:{},fn:e.program(18,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" </div> </div> "},5:function(e,a,t,n,l){var i,s=null!=a?a:{};return" "+(null!=(i=t.if_eq.call(s,null!=a?a.parent_id:a,"potential_parent",{name:"if_eq",hash:{},fn:e.program(6,l,0),inverse:e.program(12,l,0),data:l}))?i:"")+" "+(null!=(i=t.unless.call(s,null!=a?a.unknown:a,{name:"unless",hash:{},fn:e.program(14,l,0),inverse:e.noop,data:l}))?i:"")+" "},6:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <span id="'+o(s(null!=a?a.column_id:a,a))+'_heading"> <span f_id="'+o(s(null!=a?a.column_id:a,a))+'">'+o(s(null!=a?a.column_name:a,a))+"</span> "+(null!=(i=t.if.call(r,null!=a?a.filters:a,{name:"if",hash:{},fn:e.program(7,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(r,null!=a?a.filters:a,{name:"if",hash:{},fn:e.program(9,l,0),inverse:e.noop,data:l}))?i:"")+" </span> "},7:function(e,a,t,n,l){return' <span class="socialImg colv-darw cP pT1 mL2" onclick="sE(event); crmSocialSetup.potentialDrop(this)" data-zcqa="potential_filters"></span> '},9:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <div class="colview-dd" style="display: none;"> <span class="colview-dd-arw"></span> <a class="dB crm-font-regular" style="display: none;" href="javascript:void(0);" data-zcqa="get_filter" onclick="crmSocial.getFilter(this, \''+o(s(null!=a?a.column_id:a,a))+'\');" f_id="'+o(s(null!=a?a.column_id:a,a))+'"> '+o(s(null!=a?a.column_name:a,a))+" </a> "+(null!=(i=t.each.call(null!=a?a:{},null!=a?a.filters:a,{name:"each",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l}))?i:"")+" </div> "},10:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <a class="dB crm-font-regular" href="javascript:void(0);" onclick="crmSocial.getFilter(this, \''+s(i(null!=a?a.id:a,a))+'\');" f_id="'+s(i(null!=a?a.id:a,a))+'" data-zcqa="get_filter">'+s(i(null!=a?a.name:a,a))+"</a> "},12:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <span id="'+s(i(null!=a?a.column_id:a,a))+'_heading">'+s(i(null!=a?a.column_name:a,a))+"</span> "},14:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression,o=null!=a?a:{};return' <div id="'+s(i(null!=a?a.column_id:a,a))+'_switch" class="colview-tab"> <div class="tabborder"></div> <a href="javascript:void(0);" class="fL active crm-font-regular" onclick="$(this).addClass(\'active\'); $(this).next().removeClass(\'active\'); crmSocial.menuAnimate(this); crmSocial.showPings(this, \''+s(i(null!=a?a.column_id:a,a))+'\');" data-zcqa="pings"> '+s(t.getI18n.call(o,"crm.nsocial.pings",{name:"getI18n",hash:{},data:l}))+' <span id="'+s(i(null!=a?a.ul_id:a,a))+'_notification_badge" class="dN notipin_badge"></span> </a> <a href="javascript:void(0);" class="fL mL0 crm-font-regular" onclick="$(this).addClass(\'active\'); $(this).prev().removeClass(\'active\'); crmSocial.menuAnimate(this); crmSocial.showFilter(this, \''+s(i(null!=a?a.column_id:a,a))+'\');" data-zcqa="streams"> '+s(t.getI18n.call(o,"crm.nsocial.stream",{name:"getI18n",hash:{},data:l}))+' <span id="timeline_'+s(i(null!=a?a.ul_id:a,a))+'_notification_badge" class="dN notistrem_badge"></span> </a> <div class="clearB"></div> </div> '},16:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <div id="timeline_'+s(i(null!=a?a.ul_id:a,a))+'_notification_banner" class="pA dN cP socialImg noti_banner" onclick="crmSocial.showNew(\'timeline_'+s(i(null!=a?a.ul_id:a,a))+"');\">"+s(t.getI18n.call(null!=a?a:{},"crm.nsocial.noti.streams",{name:"getI18n",hash:{},data:l}))+"</div> "},18:function(e,a,t,n,l,i,s){var o;return" "+(null!=(o=t.if.call(null!=a?a:{},null!=s[1]?s[1].twitter:s[1],{name:"if",hash:{},fn:e.program(19,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},19:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression,o=null!=a?a:{};return' <div id="timeline_'+s(i(null!=a?a.container_id:a,a))+'" class="posRel"> <div id="timeline_'+s(i(null!=a?a.inner_container_id:a,a))+'" class="ksocialinnerbox pR"> <ul id="timeline_'+s(i(null!=a?a.ul_id:a,a))+'"> <li class="aligncenter" style="cursor: default; margin-top: 150px;"> <img src="'+s(t.img_link.call(o,{name:"img_link",hash:{},data:l}))+'/spacer_e17b417_.gif" class="ks_loading_new" /> </li> </ul> <ul id="timeline_'+s(i(null!=a?a.ul_id:a,a))+'_notification" class="dN notification_section"> <li id="noti_li" class="noti_li"> <span class="noti_demark_text">'+s(t.getI18n.call(o,"crm.nsocial.noti.streams.last.seen",{name:"getI18n",hash:{},data:l}))+'</span> <span class="noti_demark_line"></span> </li> </ul> </div> </div> '},21:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <link rel="stylesheet" href="https://webfonts.zohostatic.com/robotolight/include.css" type="text/css"> <div id="kso_BlanState_div"> <h1 class=\'sMHeader aligncenter\'>'+o(t.getI18n.call(s,"crm.nsocial.startup.title",{name:"getI18n",hash:{},data:l}))+"</h1> "+(null!=(i=t.if.call(s,null!=a?a.admin:a,{name:"if",hash:{},fn:e.program(22,l,0),inverse:e.program(32,l,0),data:l}))?i:"")+' <div class="sMainCont"> <div class="smInner fR"> <div class="socialMainImgsvg sMEngage pR mAuto"></div> <div class="engageContent txt-ctr"> <h3>'+o(t.getI18n.call(s,"crm.nsocial.startup.engage",{name:"getI18n",hash:{},data:l}))+"</h3> <p>"+o(t.getI18n.call(s,"crm.nsocial.startup.engage.desc","leads","deals",{name:"getI18n",hash:{},data:l}))+'</p> </div> </div> <div class="smInner fL"> <div class="socialMainImgsvg sMConnect pR mAuto"></div> <div class="explainContent txt-ctr"> <h3>'+o(t.getI18n.call(s,"crm.nsocial.startup.connect",{name:"getI18n",hash:{},data:l}))+"</h3> <p>"+o(t.getI18n.call(s,"crm.nsocial.startup.connect.desc",{name:"getI18n",hash:{},data:l}))+'</p> </div> </div> <div class="smInner mAuto" style="padding-top: 5px;"> <div class="socialMainImgsvg sMListen pR"></div> <div class="listenContent txt-ctr"> <h3>'+o(t.getI18n.call(s,"crm.nsocial.startup.listen",{name:"getI18n",hash:{},data:l}))+"</h3> <p>"+o(t.getI18n.call(s,"crm.nsocial.startup.listen.desc",{name:"getI18n",hash:{},data:l}))+"</p> </div> </div> </div> </div> "},22:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.get_started:a,{name:"if",hash:{},fn:e.program(23,l,0),inverse:e.program(25,l,0),data:l}))?i:"")+" "},23:function(e,a,t,n,l){return' <div class="aligncenter mT45"> <h3 class="newGetStartBtn cP aligncenter" onclick="crmSocialSetup.getSettings();" data-zcqa="start">'+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.nsocial.get.started",{name:"getI18n",hash:{},data:l}))+"</h3> </div> "},25:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.acc_conf:a,{name:"if",hash:{},fn:e.program(26,l,0),inverse:e.noop,data:l}))?i:"")+" "},26:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.fb:a,{name:"if",hash:{},fn:e.program(27,l,0),inverse:e.program(29,l,0),data:l}))?i:"")+" "},27:function(e,a,t,n,l){return' <div class="aligncenter mT45"> <h3 class="newGetStartBtn cP aligncenter" onclick="crmSocialSetup.getSettings(\'facebook\');" data-zcqa="finish">'+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.nsocial.startup.finish.config.btn",{name:"getI18n",hash:{},data:l}))+"</h3> </div> "},29:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.gp:a,{name:"if",hash:{},fn:e.program(30,l,0),inverse:e.noop,data:l}))?i:"")+" "},30:function(e,a,t,n,l){return' <div class="aligncenter mT45"> <h3 class="newGetStartBtn cP aligncenter" onclick="crmSocialSetup.getSettings(\'googleplus\');" data-zcqa="finish">'+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.nsocial.startup.finish.config.btn",{name:"getI18n",hash:{},data:l}))+"</h3> </div> "},32:function(e,a,t,n,l){return' <div class="aligncenter listenContent"> <h3>'+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.nsocial.startup.contact.admin",{name:"getI18n",hash:{},data:l}))+"</h3> </div> "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l,i,s){var o,r=null!=a?a:{};return' <div id="pinned_timeline" class="pinned_timeline"></div> '+(null!=(o=t.if.call(r,null!=a?a.columns:a,{name:"if",hash:{},fn:e.program(1,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "+(null!=(o=t.if.call(r,null!=a?a.start_page:a,{name:"if",hash:{},fn:e.program(21,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},useData:!0,useDepths:!0}),a.SocialQuoteTweet=e({1:function(e,a,t,n,l){var i;return e.escapeExpression(e.lambda(null!=(i=null!=a?a.brand:a)?i.brid:i,a))},3:function(e,a,t,n,l){var i;return e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=a?a.brand_obj:a)?i[0]:i)?i.brid:i,a))},5:function(e,a,t,n,l){return"dN"},7:function(e,a,t,n,l){return"clearFix"},9:function(e,a,t,n,l){var i;return e.escapeExpression(e.lambda(null!=(i=null!=a?a.current_user_retweet:a)?i.id_str:i,a))},11:function(e,a,t,n,l){return e.escapeExpression(e.lambda(null!=a?a.id_str:a,a))},13:function(e,a,t,n,l){var i;return" "+(null!=(i=t.each.call(null!=a?a:{},null!=(i=null!=a?a.entities:a)?i.media:i,{name:"each",hash:{},fn:e.program(14,l,0),inverse:e.noop,data:l}))?i:"")+" "},14:function(e,a,t,n,l){return' <div class="what mt10 pB15"> <img src="'+e.escapeExpression(e.lambda(null!=a?a.media_url_https:a,a))+'" class="contentimage" width="100px" onload="crmSocial.setImageWidthHeight(this);" ></img> </div> '},16:function(e,a,t,n,l){return"Undo Retweet"},18:function(e,a,t,n,l){return"Retweet"},20:function(e,a,t,n,l){return"crmSocial.submitQuoteTweet(this,'"+e.escapeExpression(e.lambda(null!=a?a.type:a,a))+"',false);"},22:function(e,a,t,n,l){return"crmSocial.submitQuoteTweet(this,'"+e.escapeExpression(e.lambda(null!=a?a.type:a,a))+"',true);"},24:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <div id="select_brand_quote" class="dIB vam pR p5 cP quote_tweet_brand" onclick="sE(event);"> <img id="quote_selector" height="30" width="30" class="bRadius3 dIB vam" title="'+o(s(null!=(i=null!=a?a.brand:a)?i.name:i,a))+'" src="'+o(s(null!=(i=null!=a?a.brand:a)?i.profile_image_url_https:i,a))+'"> <input id="quote_selected_brand" type="hidden" brand="'+o(s(null!=(i=null!=a?a.brand:a)?i.brid:i,a))+'" ></input> </div> '},26:function(e,a,t,n,l,i,s){var o,r=e.lambda,c=e.escapeExpression;return' <div id="select_brand_quote" class="dIB vam pR p5 cP quote_tweet_brand" onclick="sE(event); crmSocial.showQuoteTweetBrands(this);"> <img id="quote_selector" height="30" width="30" class="bRadius3 dIB vam" title="'+c(r(null!=(o=null!=(o=null!=a?a.brand_obj:a)?o[0]:o)?o.name:o,a))+'" src="'+c(r(null!=(o=null!=(o=null!=a?a.brand_obj:a)?o[0]:o)?o.profile_image_url_https:o,a))+'"> <span class="pA quoteTweetDropDown socialImgsvg"></span> <input id="quote_selected_brand" type="hidden" brand="'+c(r(null!=(o=null!=(o=null!=a?a.brand_obj:a)?o[0]:o)?o.brid:o,a))+'" ></input> </div> <table id="quote_brand_list" cellpadding="0" cellspacing="0" width="100%" class="pA bgwit change_quote_tweet dN" onclick="sE(event);"> '+(null!=(o=t.each.call(null!=a?a:{},null!=a?a.brand_obj:a,{name:"each",hash:{},fn:e.program(27,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" </table> "},27:function(e,a,t,n,l,i,s){var o=e.lambda,r=e.escapeExpression;return" <tr onclick=\"crmSocial.selectQuoteTweetHandle(this, '"+r(o(null!=a?a.brid:a,a))+"', '"+r(o(null!=s[1]?s[1].type:s[1],a))+'\');" data-zcqa="change_tw_handle" class="cP"> <td class="w30 pT5 pB5 pL10 pR15"> <img src="'+r(o(null!=a?a.profile_image_url_https:a,a))+'" class="smhandleImg"> </td> <td class="f13 color_3 w162">'+r(o(null!=a?a.name:a,a))+"</td> </tr> "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l,i,s){var o,r=e.lambda,c=e.escapeExpression,d=null!=a?a:{};return' <div class="socialQuoteTweet" id="'+c(r(null!=a?a.id_str:a,a))+"_"+(null!=(o=t.if.call(d,null!=a?a.brand:a,{name:"if",hash:{},fn:e.program(1,l,0,i,s),inverse:e.program(3,l,0,i,s),data:l}))?o:"")+'"> <div class="p20 pB0 '+(null!=(o=t.if.call(d,null!=a?a.retweeted:a,{name:"if",hash:{},fn:e.program(5,l,0,i,s),inverse:e.program(7,l,0,i,s),data:l}))?o:"")+'"> <textarea id="quote_tweet_box" class="zso-textarea fR" text_id="'+c(r(null!=a?a.id_str:a,a))+"_"+(null!=(o=t.if.call(d,null!=a?a.brand:a,{name:"if",hash:{},fn:e.program(1,l,0,i,s),inverse:e.program(3,l,0,i,s),data:l}))?o:"")+'" onfocus="$(\'#quote_char_limit\').removeClass(\'dN\');" onclick="sE(event);" onkeyup="crmSocial.processQuoteText(\''+c(r(null!=a?a.id_str:a,a))+"_"+(null!=(o=t.if.call(d,null!=a?a.brand:a,{name:"if",hash:{},fn:e.program(1,l,0,i,s),inverse:e.program(3,l,0,i,s),data:l}))?o:"")+"');crmSocial.processTwitterSuggestion(this, event, $(this).val(), 'compose');\"\" placeholder=\""+c(t.getI18n.call(d,"crm.nsocial.write.comment",{name:"getI18n",hash:{},data:l}))+'" data-zcqa="quote_tweet_textarea"/> <div style="display:none;" id="error_message" class="colorRed f12 clearBoth"></div> </div> <div id="tweet_div" style="border-bottom: 1px solid #e5e5e5" class="p20" tweet-id="'+c(r(null!=a?a.id_str:a,a))+'" retweet-id="'+(null!=(o=t.if.call(d,null!=(o=null!=a?a.current_user_retweet:a)?o.id_str:o,{name:"if",hash:{},fn:e.program(9,l,0,i,s),inverse:e.program(11,l,0,i,s),data:l}))?o:"")+'" screen-name="'+c(r(null!=(o=null!=a?a.user:a)?o.screen_name:o,a))+'"> <div class="pR"> <div class="w100per fL"> <div id="head" class="kso_content_container"> <div class="fL"> <img src="'+c(r(null!=(o=null!=a?a.user:a)?o.profile_image_url_https:o,a))+'" class="kso_retweet_photo cP" onclick="sE(event); window.open(\''+c(t.getRebrandKey.call(d,"TW_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+c(r(null!=(o=null!=a?a.user:a)?o.screen_name:o,a))+'\', \'_blank\');"> </div> <div class="pL10 dIB" style="width: 600px"> <div> <a onclick="sE(event);" href="'+c(t.getRebrandKey.call(d,"TW_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+c(r(null!=(o=null!=a?a.user:a)?o.screen_name:o,a))+'" target="_blank" class="whois fL remove_ud">'+c(r(null!=(o=null!=a?a.user:a)?o.name:o,a))+'</a> <div> <a onclick="sE(event);" href="'+c(t.getRebrandKey.call(d,"TW_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+c(r(null!=(o=null!=a?a.user:a)?o.screen_name:o,a))+"/status/"+c(r(null!=a?a.retweet_id:a,a))+'" target="_blank" class="when fR remove_ud" title="'+c(r(null!=a?a.title_time:a,a))+'">'+c(r(null!=a?a.disp_time:a,a))+'</a> </div> <div class="cB"></div> </div> <div class="what mt5 pB5 dIB">'+(null!=(o=r(null!=a?a.text:a,a))?o:"")+"</div> "+(null!=(o=t.if.call(d,null!=(o=null!=a?a.entities:a)?o.media:o,{name:"if",hash:{},fn:e.program(13,l,0,i,s),inverse:e.noop,data:l}))?o:"")+' </div> </div> </div> <div class="clearB"></div> </div> </div> <div id="retweet_actions" class="mB10 mR15 dIB fR mT10 pR" brid="'+(null!=(o=t.if.call(d,null!=a?a.brand:a,{name:"if",hash:{},fn:e.program(1,l,0,i,s),inverse:e.program(3,l,0,i,s),data:l}))?o:"")+'" > <span id="quote_char_limit" limit_id="'+c(r(null!=a?a.id_str:a,a))+"_"+(null!=(o=t.if.call(d,null!=a?a.brand:a,{name:"if",hash:{},fn:e.program(1,l,0,i,s),inverse:e.program(3,l,0,i,s),data:l}))?o:"")+'" class="vam mR10 color_6 dN">280</span> <input id="quote_retweet" type="button" button_id="'+c(r(null!=a?a.id_str:a,a))+"_"+(null!=(o=t.if.call(d,null!=a?a.brand:a,{name:"if",hash:{},fn:e.program(1,l,0,i,s),inverse:e.program(3,l,0,i,s),data:l}))?o:"")+'" class="greenbtn dIB vam mR15" value="'+(null!=(o=t.if.call(d,null!=a?a.retweeted:a,{name:"if",hash:{},fn:e.program(16,l,0,i,s),inverse:e.program(18,l,0,i,s),data:l}))?o:"")+'" onclick="sE(event);'+(null!=(o=t.if.call(d,null!=a?a.retweeted:a,{name:"if",hash:{},fn:e.program(20,l,0,i,s),inverse:e.program(22,l,0,i,s),data:l}))?o:"")+'" data-zcqa="quote_retweet"> <span class="dIB vam mR10 color_6"> via </span> '+(null!=(o=t.if.call(d,null!=a?a.brand:a,{name:"if",hash:{},fn:e.program(24,l,0,i,s),inverse:e.program(26,l,0,i,s),data:l}))?o:"")+' </div> </div> <div id="quoteTweetLoading" style="height:300px;" class="dN"><div class="socialImg socLoadingIcon pA"></div></div> '},useData:!0,useDepths:!0}),a.SocialSearch=e({1:function(e,a,t,n,l){return' <div id="ksoSearchList"> '},3:function(e,a,t,n,l){return' <div id="ksoSearchList" style="display: none;"> '},5:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.search:a,{name:"if",hash:{},fn:e.program(6,l,0),inverse:e.noop,data:l}))?i:"")+" "},6:function(e,a,t,n,l){var i;return" "+(null!=(i=e.invokePartial(n.searchKeywordList,a,{name:"searchKeywordList",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+" "},8:function(e,a,t,n,l){return' <div id="emptySearch" class="ksoempty_cont" style="display: none;"> '},10:function(e,a,t,n,l){return' <div id="emptySearch" class="ksoempty_cont"> '},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return'<div class="kso_add_col_menu sideMenu" id="kso_search_menu" style="display: none;" onclick="sE(event);"> <div id="ksomenuWrap" class="pR oH"> <div id="searchHeader" class="ksheader"> <div class="crm-font-regular ksColHead"> <a id="reset_search" href="javascript:crmSocial.resetSearch();" class="kso_back fL" style="display: none" data-zcqa="reset_search"></a> <span class="dIB">'+o(t.getI18n.call(s,"crm.nsocial.tooltip.keytrack",{name:"getI18n",hash:{},data:l}))+'</span> </div> <div style="display: none;"> <div class="pR bbccc"> <div class="searchUlOuter fL pR" onclick="$(\'#searchInpt\').focus()" style=\'padding:8px 14px\'> <div class="fL w100per pR"> <ul id="searchKeys" class="fL searchUlCont crm-font-bold fs"></ul> <input id="searchInpt" type="text" class="textField fL" placeholder="'+o(t.getI18n.call(s,"crm.nsocial.search.enter.keyword",{name:"getI18n",hash:{},data:l}))+'" \n\t\t\t\t\t\t\t\tonkeydown="crmSocial.processSearchKey(this, event);" size="23" data-zcqa="process_search" ></input> <span class="kso_add_search_icon socialImgsvg dIB pA cP" style="width: 6%; right: -13px; top: -1px;" onclick="crmSocial.searchClick(this, event);" data-zcqa="search"></span> </div> </div> <a class="kssearch-btn" onclick="crmSocial.getSearchFeeds(\'1\');" data-zcqa="get_search"></a> <div class="clearB"></div> </div> <div id="newColHead" class="pL20 pT15 pB15 tempHead" style="display: none;"></div> <div class="clearB"></div> </div> </div> <div class="kscontainer"> '+(null!=(i=t.if.call(s,null!=a?a.search:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l}))?i:"")+' <div id="ksoSearchOuter" class="kso_feed_col"> <div id="ksoSearchListInner" class="kso_feed_col_inner oA pR p20 pB0"> '+(null!=(i=t.each.call(s,null!=a?a.columns:a,{name:"each",hash:{},fn:e.program(5,l,0),inverse:e.noop,data:l}))?i:"")+' </div> </div> <div class="aligncenter saveCancelCol"> <button class="ks-greenbtn crm-font-bold pR" onclick="crmSocial.startNewSearch();" data-zcqa="new_search"> <span class="socialImg ksbtn_plus">+</span> '+o(t.getI18n.call(s,"crm.nsocial.button.add.new",{name:"getI18n",hash:{},data:l}))+" </button> </div> </div> "+(null!=(i=t.if.call(s,null!=a?a.search:a,{name:"if",hash:{},fn:e.program(8,l,0),inverse:e.program(10,l,0),data:l}))?i:"")+' <div class="pT25 pB35 mB15 aligncenter mAuto dB w180 pR"> <div class="f16 georgia mB15" style="font-style: italic; color: #555;">'+o(t.getI18n.call(s,"crm.nsocial.keyword.column.first.add",{name:"getI18n",hash:{},data:l}))+'</div> <span class="ksp_addarw_dwn"></span> <button class="ks-greenbtn crm-font-bold pR" onclick="crmSocial.startNewSearch();" data-zcqa="new_search"> <span class="socialImg ksbtn_plus">+</span> '+o(t.getI18n.call(s,"crm.nsocial.button.add.new",{name:"getI18n",hash:{},data:l}))+' </button> </div> <div class="pT25 pB35 mB15 aligncenter mAuto dB w150 pR" style="display: none;"> <div class="f16 georgia mB15" style="font-style: italic;color: #555;">'+o(t.getI18n.call(s,"crm.nsocial.keyword.column.enter",{name:"getI18n",hash:{},data:l}))+'</div> <span class="ksp_addarw_up"></span> </div> </div> <div id="newColSection" class="pR" style="display: none;"> <div id="newColSectionInner" class="newColSectionInner"> <ul id="newColSectionList" class="ks-colsecul"></ul> </div> </div> </div> </div> <div id="savecancelColumn" class="aligncenter saveCancelCol pA w100per" style="display: none; bottom: 0px; background-color: rgba(255, 255, 255, 0.8);"> <button id="saveColBtn" class="ks-greenbtn" onclick="crmSocial.saveSearch();" data-zcqa="save_search"> <span class="dIB"> <span>'+o(t.getI18n.call(s,"crm.nsocial.save.column",{name:"getI18n",hash:{},data:l}))+'</span> <span class="ksbtn_rawrw"></span> </span> </button> </div> </div> '},usePartial:!0,useData:!0}),a.SocialSidebar=e({1:function(e,a,t,n,l){var i;return' <div id="create_feed" class="kleft_compose cD"><span class="socialImgsvg ks_feeds"></span></div> <div id="all_posts" class="klefticon kclicon cD"><span class="socialImgsvg ks_filter"></span></div> <div id="search_menu" class="klefticon kclicon cD"><span class="socialImgsvg ks_search"></span></div> <div id="follow_menu" class="klefticon kclicon cD"><span class="socialImgsvg ks_collection"></span></div> <div id="activity_log_button" class="klefticon cD"><span class="socialImgsvg ks_activity"></div> '+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.admin:a,{name:"if",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l}))?i:"")+" "},2:function(e,a,t,n,l){return' <div id="settings_button" title="'+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.nsocial.tooltip.settings","Social",{name:"getI18n",hash:{},data:l}))+'" class="klefticon socialMenuBg" onclick="crmSocialSetup.getSettings();"> <span class="socialImgsvg ks_settings"> </div> '},4:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <div id="create_feed" class="kleft_compose" title="'+o(t.getI18n.call(s,"crm.nsocial.tooltip.mycomp",{name:"getI18n",hash:{},data:l}))+'" onclick="crmSocial.showMenu(\'compose\', this);" data-zcqa="menu_compose"> <span></span> <span class="socialImgsvg ks_feeds"></span> </div> <div id="all_posts" class="klefticon kclicon" title="'+o(t.getI18n.call(s,"crm.nsocial.tooltip.filter",{name:"getI18n",hash:{},data:l}))+'" onclick="crmSocial.showMenu(\'accounts\', this);" data-zcqa="menu_accounts"> <span class="socialImgsvg ks_filter"></span> </div> '+(null!=(i=t.if.call(s,null!=a?a.twitter:a,{name:"if",hash:{},fn:e.program(5,l,0),inverse:e.program(7,l,0),data:l}))?i:"")+' <div id="activity_log_button" class="klefticon" title="'+o(t.getI18n.call(s,"crm.nsocial.tooltip.log","Social",{name:"getI18n",hash:{},data:l}))+'" onclick="crmSocial.getActivityLog();" data-zcqa="menu_activity"> <span class="socialImgsvg ks_activity"> </div> '+(null!=(i=t.if.call(s,null!=a?a.admin:a,{name:"if",hash:{},fn:e.program(9,l,0),inverse:e.noop,data:l}))?i:"")+" "},5:function(e,a,t,n,l){var i=null!=a?a:{},s=e.escapeExpression;return' <div id="search_menu" class="klefticon kclicon" title="'+s(t.getI18n.call(i,"crm.nsocial.tooltip.keytrack",{name:"getI18n",hash:{},data:l}))+'" onclick="crmSocial.showMenu(\'search\', this);" data-zcqa="menu_search"> <span class="socialImgsvg ks_search"></span> </div> <div id="follow_menu" class="klefticon kclicon" title="'+s(t.getI18n.call(i,"crm.nsocial.tooltip.custom.streams",{name:"getI18n",hash:{},data:l}))+'" onclick="crmSocial.showMenu(\'follow\', this);" data-zcqa="menu_streams"> <span></span> <span class="socialImgsvg ks_collection"></span> </div> '},7:function(e,a,t,n,l){var i=null!=a?a:{},s=e.escapeExpression;return' <div id="search_menu" class="klefticon kclicon" title="'+s(t.getI18n.call(i,"crm.nsocial.tooltip.keytrack",{name:"getI18n",hash:{},data:l}))+'" onclick="crmSocial.notAccessibleAlert();" data-zcqa="menu_search"> <span class="socialImgsvg ks_search"></span> </div> <div id="follow_menu" class="klefticon kclicon" title="'+s(t.getI18n.call(i,"crm.nsocial.tooltip.custom.streams",{name:"getI18n",hash:{},data:l}))+'" onclick="crmSocial.notAccessibleAlert();" data-zcqa="menu_streams"> <span></span> <span class="socialImgsvg ks_collection"></span> </div> '},9:function(e,a,t,n,l){return' <div id="settings_button" title="'+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.nsocial.tooltip.settings","Social",{name:"getI18n",hash:{},data:l}))+'" class="klefticon socialMenuBg pR" onclick="crmSocialSetup.getSettings();" data-zcqa="menu_settings"> <span class="socialImgsvg ks_settings"> </div> '},11:function(e,a,t,n,l){return' <div id="zoho_social" class="klefticon socialMenuBg pA" onclick="crmSocial.showZohoSocialBanner();" style="bottom: 2px"> <span class="zSocIcon dB pR" onmouseenter="$(\'.soc_Msg\').fadeIn();" onmouseleave="$(\'.soc_Msg\').fadeOut();"> <div class="soc_Msg" style="display: none;"> <span class="outerBdr"></span> <span class="innerBdr"></span> The New Zoho Social! </div> </div> '},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=null!=a?a:{};return'<div id="social_sidebar_innerdiv" class="mT15" onclick="sE(event);" style="position:relative; height:97%;"> '+(null!=(i=t.if.call(s,null!=a?a.start_page:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(4,l,0),data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.zoho_social:a,{name:"if",hash:{},fn:e.program(11,l,0),inverse:e.noop,data:l}))?i:"")+" </div> "},useData:!0}),a.SocialTab=e({compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return'<div id="social_container" class="kanbansocialcontainer pR" onclick="crmSocial.hideMenu(event);" onscroll="crmSocial.loadCustomFeeds();" data-zcqa="social_container" data-zcqa="social_container"> <div id="social_sidebar" class="kanbansocialiconcontainer"></div> <div id="social_main" class="kanbansocialrightcontainer pR"></div> <div id="kso_auditlog_freezelayer" class="kso-flh"></div> <div id="kso_rightpanel_freezelayer" style="position: absolute; background-color: #000; display: none; z-index: 1;"></div> <div id="kso_companypost_popup" class="kso_auditlog_popup" style="margin-left: -450px; width: 885px; height: 500px; display: none; position: absolute;"></div> <div id="kso_auditlog_popup" class="kso_auditlog_popup" style="left: 314px; top: -825px; width: 680px; height: 500px; display: none; position: fixed; z-index: 2;"></div> <div id="kso_search_pop" class="kso_auditlog_popup" style="margin-left: -550px; width: 1200px; height: 500px; display: none; position: absolute;"></div> <div id="kso_setting_popup" class="kso_auditlog_popup" style="top: -825px; left: 114px; width: 1200px; height: 500px; display: none; position: fixed; z-index: 2;"></div> <div id="socOnboard" class="socOnboard"></div> <div id="feed_detail_container" class="dN details pA"> <div id="feed_detail_outer_div" class="dfLR facebook kso_detail_feed pR"> <div class="aligncenter" style="cursor: default; padding-top: 150px;"><img src="'+o(t.img_link.call(s,{name:"img_link",hash:{},data:l}))+'/spacer_e17b417_.gif" class="ks_loading_new"/></div> </div> <div id="kso_rightPanel_Card" class="pA right_panel_card"> <div class="aligncenter" style="cursor: default; padding-top: 150px;"><img src="'+o(t.img_link.call(s,{name:"img_link",hash:{},data:l}))+'/spacer_e17b417_.gif" class="ks_loading_new"/></div> </div> <div id="interaction_detail_outer_div" class="fL facebook pA dN" onclick="sE(event);" style="width: 65%; height: 96%; z-index: 2; overflow: hidden; background-color: #fff; box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);"></div> </div> <div id="likes_div" onclick="sE(event);" class="dN newPopup p15" style="max-height: 300px; height: auto !important; overflow: auto;"> <ul id="likes_list" style="padding:0; margin:0"></ul> </div> <div id="social_create" class="addEntityForm pR oH dN" style="border: 1px solid #ACACAC; box-shadow: rgb(188, 188, 188) 0px 0px 20px 0px;" onclick="crmSocial.hideEntityCreateMenus(event);"></div> <div id="choose_module" class="dN pA ddM"></div> <div id="WarningDiv" class="newPopup" style="display: none;" onclick="sE(event);"></div> <div id="quoteTweet" class="newPopup pF"> <div class="titleDiv pT20 pB20"> <span class="settingTitle fL dIB mL20">'+o(t.getI18n.call(s,"crm.social.tweet.this",{name:"getI18n",hash:{},data:l}))+'</span> <div class="posabs socialImgsvg dbBtnClose fR" onclick="sE(event); crmSocial.hideQuoteTweet();" data-zcqa="close_quote_tweet"></div> <div class="clearB"></div> </div> </div> <div id="reauth_alert" class="newPopup" style="display: none; top: -500px;" onclick="sE(event);"></div> <div id="scrollStart" class="socialImg scrollStart" onclick="crmSocial.scrollToStart(this);" data-zcqa="scrollStart"></div> <div id="fb-root"></div> </div> <div class="ksp_menu sideMenu" id="kso_compose_menu" style="display: none" onclick="sE(event);"> <div id="ksocomposeWrap" class="pR oH kso_compose_wrap"> <div id="self_feed_compose" class="comp-sm-top"> <div id="targetNetwork"></div> <p id="twitter_disclaimer" class="mB20 f13 p10 gBg4 color_3 dN">'+(null!=(i=t.getI18n.call(s,"crm.nsocial.tab.twitter.disclaimer",{name:"getI18n",hash:{},data:l}))?i:"")+'</p> <textarea id="compose_text" class="textField kso_cinpt bgwit" onkeypress="crmSocial.preventDefaultChar(event);" onfocus="crmSocial.compose();" data-zcqa="compose_text" \n\t\t\t\tonkeyup="crmSocial.processText(); crmSocial.processTwitterSuggestion(this, event, $(this).val(), \'compose\');" placeholder="'+o(e.lambda(null!=a?a.compose_literal:a,a))+'" ></textarea> <div id="compose" style="display: none;"></div> <div class="clearB"></div> </div> <div id="social_mytimeline"></div> </div> </div> '+(null!=(i=e.invokePartial(n.socialAccounts,a,{name:"socialAccounts",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+" "+(null!=(i=e.invokePartial(n.SocialSearch,a,{name:"SocialSearch",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+" "+(null!=(i=e.invokePartial(n.CustomFollowing,a,{name:"CustomFollowing",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+" "},usePartial:!0,useData:!0}),a.SocialTargetNetwork=e({1:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <span class="ks-post-img pR" onclick="crmSocial.toggleBrand(this);" brid="'+o(s(null!=a?a.brid:a,a))+'" data-zcqa="toggle_brand"> <img src="'+o(s(null!=a?a.image:a,a))+'" title="'+o(s(null!=a?a.name:a,a))+'" style="width: 35px;" ></img> '+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.facebook:a,{name:"if",hash:{},fn:e.program(2,l,0),inverse:e.program(4,l,0),data:l}))?i:"")+" </span> "},2:function(e,a,t,n,l){return' <span class="fbicon-small smallIconPosi"></span> '},4:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.twitter:a,{name:"if",hash:{},fn:e.program(5,l,0),inverse:e.program(7,l,0),data:l}))?i:"")+" "},5:function(e,a,t,n,l){return' <span class="twicon-small smallIconPosi"></span> '},7:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.googleplus:a,{name:"if",hash:{},fn:e.program(8,l,0),inverse:e.noop,data:l}))?i:"")+" "},8:function(e,a,t,n,l){return' <span class="gpicon-small smallIconPosi"></span> '},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=null!=a?a:{};return'<span class="ks-post-label cmpos_hed dIB color_4">'+e.escapeExpression(t.getI18n.call(s,"crm.nsocial.tab.post.on",{name:"getI18n",hash:{},data:l}))+'</span> <div id="target_network" class="post-on crm-font-regular"> '+(null!=(i=t.each.call(s,null!=a?a.accounts:a,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+" </div> "},useData:!0}),a.TimelineColumn=e({1:function(e,a,t,n,l){var i;return" "+(null!=(i=e.invokePartial(n.selectedEntities,a,{name:"selectedEntities",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+" "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <div id="column_'+o(s(null!=a?a.id:a,a))+'" class="ksocialbox new-socialbox activeSocialSection sortableCol" data-params=\'{"id" : "'+o(s(null!=a?a.id:a,a))+'", "type" : "'+o(s(null!=a?a.type:a,a))+'"}\'> <div id="column_'+o(s(null!=a?a.id:a,a))+'_inner" class="h2 p15 m0 posRel dragCol"> <span class="colhead"> <span class="socialImgsvg followIcon fL mR10"></span> <div class="fR pR kso_edCol gray2 f24 mL5"> <div class="posAbs kso_back_div dN top0" style="right: 0;" onclick="crmSocial.hideDetails();"><span class="kso_back_arrow socialImgsvg"></span></div> <div class="fR f20 gray2"> <a href="javascript:void(0);" class="zso_downarw dIB" style="margin-top:4px;" data-zcqa="stream_edit"\n\t\t\t\t\t\tonclick="sE(event); crmSocial.editColOption(\''+o(s(null!=a?a.id:a,a))+'\'); crmSocial.socialContactDetails(this, event);"></a> </div> <div id="editDelColumn" class="kso_editCol_ddwn"> <a href="javascript:crmSocial.editColumn(\''+o(s(null!=a?a.id:a,a))+"'); crmSocial.heightsetTracking(this, '"+o(s(null!=a?a.id:a,a))+'\');" class="crm-font-regular" data-zcqa="edit_stream"> '+o(t.getI18n.call(r,"crm.button.edit",{name:"getI18n",hash:{},data:l}))+' </a> <a href="javascript:void(0);" class="crm-font-regular" onclick="sE(event); crmSocial.deleteTracking(\''+o(s(null!=a?a.id:a,a))+'\');" data-zcqa="delete_stream"> '+o(t.getI18n.call(r,"crm.button.delete",{name:"getI18n",hash:{},data:l}))+' </a> <div class="clearB"></div> </div> <div id="profile_'+o(s(null!=a?a.id:a,a))+'_list" style="display: none; left: -200px" onclick="sE(event);" class="zso-profilelist top"></div> <div class="clearB"></div> </div> <div class="fR w32 mT4" onclick="crmSocial.hideDetails();"> <img id="column_'+o(s(null!=a?a.id:a,a))+'_refresh" src="'+o(t.img_link.call(r,{name:"img_link",hash:{},data:l}))+'/spacer_e17b417_.gif" class="socialImgsvg social_refresh_icon cP fR" onclick="crmSocial.getFilter(this, \''+o(s(null!=a?a.id:a,a))+'\', \'\');" data-zcqa="stream_refresh"> </div> <span id="column_'+o(s(null!=a?a.id:a,a))+'_heading">'+o(s(null!=a?a.keyword:a,a))+'</span> </span> </div> <div id="column_'+o(s(null!=a?a.id:a,a))+'_edit" class="m0 posRel dragCol" style="display: none;"> <div id="column_'+o(s(null!=a?a.id:a,a))+'_edit_container" class="m0 posRel dragCol boxShadow"> <div class="m0 posRel pB15"> <div class="pR"> <div id="lead_contact_Tab" class="fL w100per pLR20 pR boxsizbb leadcontTab" params="Contacts"> <div class="tabborder" style="left: 20px; width: 55px"></div> <div class="fL" id="ContactEdit" changeFunction="Contacts" data-zcqa="entities_contacts"\n\t\t\t\t\t\tonclick="crmSocial.leadContactTab(this, \'Contacts\'); crmSocial.socialContactDetails(this, event); crmSocial.menuAnimate(this)"> '+o(t.getI18n.call(r,null!=a?a.contacts:a,{name:"getI18n",hash:{},data:l}))+' </div> <div class="fL" id="LeadEdit" changeFunction="Leads" data-zcqa="entities_leads"\n\t\t\t\t\t\tonclick="crmSocial.leadContactTab(this ,\'Leads\'); crmSocial.socialContactDetails(this,event); crmSocial.menuAnimate(this)"> '+o(t.getI18n.call(r,null!=a?a.leads:a,{name:"getI18n",hash:{},data:l}))+' </div> </div> <div class="searchUlOuter fL bbdede pLR20" style="padding-top: 10px"> <input id="track_inpt" type="text" class="textField" placeholder="'+o(t.getI18n.call(r,"crm.nsocial.tab.filter.enter",null!=a?a.leads:a,null!=a?a.contacts:a,{name:"getI18n",hash:{},data:l}))+'" name="'+o(s(null!=a?a.id:a,a))+'" \n\t\t\t\t\t\t\tonkeyup="crmSocial.socialContactDetails(this, event);" data-zcqa="search_entities" ></input> </div> <div class="clearB"></div> </div> <div id="track_loading" class="pT10 aligncenter" style="display: none;"><span class="kso-hloader"></span></div> <div id="new_tracking_section" class="pR pT20 pR20 pL20" style="overflow: scroll;"> <div id="new_tracking_section_inner" class="newColSectionInner"> <ul id="new_tracking_list" class="ks-colsecul"></ul> <div id="sdhow_more_contacts" class="aligncenter saveCancelCol" style="display: inline-block;"> <a id="save_more_contact" class="newShowmore cP" onclick="crmSocial.socialContactDetails(this,event);" data-zcqa="more_entities">'+o(t.getI18n.call(r,"crm.nsocial.tab.show.more",{name:"getI18n",hash:{},data:l}))+'</a> </div> </div> </div> <div id="select_entities" class="oH mT10 pL20 pR20 mB20" style="height: 230px;"> <div class="crm-font-regular f14 grayTxt2 mT10">'+o(t.getI18n.call(r,"crm.nsocial.custom.selected",null!=a?a.leads:a,null!=a?a.contacts:a,{name:"getI18n",hash:{},data:l}))+'</div> <ul id="selected_tracking_list" class="searchUlSelect mT10" entities="'+o(s(null!=a?a.entities_attr:a,a))+'"> '+(null!=(i=t.if.call(r,null!=a?a.entities:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+' </ul> <div class="crm-font-regular f14 grayTxt2 mT10">Title</div> <input id="tracking_name" type="text" class="kso_cinpt" onfocusout="crmSocial.fucusoutSaveBtn(this);" onkeyup="crmSocial.focusSaveBtn(this)" value="'+o(s(null!=a?a.keyword:a,a))+'"\n\t\t\t\t\t\tdata-zcqa="streams_input" ></input> <div class="clearB"></div> </div> <div class="aligncenter saveCancelCol"> <button id="saveTrackingBtn" class="ks-bluebtn primarybtn" onclick="crmSocial.updateTracking(this, \''+o(s(null!=a?a.id:a,a))+'\');" style="opacity: 0.5" disabled="disabled" data-zcqa="update_stream"> <span class="dIB"> <span>'+o(t.getI18n.call(r,"crm.button.update",{name:"getI18n",hash:{},data:l}))+'</span> </span> </button> <button id="cancelTrackingBtn" class="ks-graybtn" onclick="crmSocial.cancelFilter(\''+o(s(null!=a?a.id:a,a))+'\');" data-zcqa="cancel_stream"> <span class="dIB"> <span>'+o(t.getI18n.call(r,"crm.button.cancel",{name:"getI18n",hash:{},data:l}))+'</span> </span> </button> </div> </div> </div> </div> <div id="parent_'+o(s(null!=a?a.id:a,a))+'_container" class="oH pR"> <div id="'+o(s(null!=a?a.id:a,a))+'_notification_banner" class="pA dN cP socialImg noti_banner" onclick="crmSocial.showNew(\''+o(s(null!=a?a.id:a,a))+"');\">"+o(t.getI18n.call(r,"crm.nsocial.noti.streams",{name:"getI18n",hash:{},data:l}))+'</div> <div id="'+o(s(null!=a?a.id:a,a))+'_container" class="posRel"> <div id="'+o(s(null!=a?a.id:a,a))+'_inner_container" class="ksocialinnerbox"> <ul id="'+o(s(null!=a?a.id:a,a))+'_ul" class="sortableDiv ui-sortable"> <li class="aligncenter" style="cursor: default; padding-top: 150px;"><img src="'+o(t.img_link.call(r,{name:"img_link",hash:{},data:l}))+'/spacer_e17b417_.gif" class="ks_loading_new"/></li> </ul> <ul id="'+o(s(null!=a?a.id:a,a))+'_ul_notification" class="dN notification_section"> <li id="noti_li" class="noti_li"> <span class="noti_demark_text">'+o(t.getI18n.call(r,"crm.nsocial.noti.streams.last.seen",{name:"getI18n",hash:{},data:l}))+'</span> <span class="noti_demark_line"></span> </li> </ul> </div> </div> </div> </div> '},usePartial:!0,useData:!0}),a.TrackingEntities=e({1:function(e,a,t,n,l){var i;return" "+(null!=(i=t.each.call(null!=a?a:{},null!=a?a.data:a,{name:"each",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l}))?i:"")+" "},2:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <li entity_id="'+o(s(null!=a?a.SEID:a,a))+'"> <a href="javascript:void(0);" class="list-account w100per s-justify cf" data-zcqa="sel_entity" onclick="crmSocial.timelineAppendList(this);"\r\n\t\t\t\tstyle="display:'+(null!=(i=t.if.call(r,null!=a?a.DISPLAY:a,{name:"if",hash:{},fn:e.program(3,l,0),inverse:e.program(5,l,0),data:l}))?i:"")+';"> '+(null!=(i=t.if.call(r,null!=a?a.PHOTO_FILEID:a,{name:"if",hash:{},fn:e.program(7,l,0),inverse:e.program(9,l,0),data:l}))?i:"")+' <div class="nbfc crm-font-regular pT0"> <div> <strong class="fullname fL">'+o(s(null!=a?a.FULLNAME:a,a))+'</strong> <div class="clearB"></div> </div> '+(null!=(i=t.if.call(r,null!=a?a.COMPANY:a,{name:"if",hash:{},fn:e.program(11,l,0),inverse:e.noop,data:l}))?i:"")+" </div> </a> </li> "},3:function(e,a,t,n,l){return e.escapeExpression(e.lambda(null!=a?a.DISPLAY:a,a))},5:function(e,a,t,n,l){return"inline-block"},7:function(e,a,t,n,l){var i=e.escapeExpression,s=e.lambda;return' <img width="32" src="'+i(t.getCrmBasePath.call(null!=a?a:{},{name:"getCrmBasePath",hash:{},data:l}))+"/EntityImageAttach.do?action_module="+i(s(null!=a?a.module:a,a))+"&entityId="+i(s(null!=a?a.SEID:a,a))+"&actionName=readImage&fileId="+i(s(null!=a?a.PHOTO_FILEID:a,a))+'" class="fL bRadius3" /> '},9:function(e,a,t,n,l){var i;return' <img width="30" src="'+(null!=(i=t.img_link.call(null!=a?a:{},{name:"img_link",hash:{},data:l}))?i:"")+'/nophoto_80ea3af_.png" class="fL" /> '},11:function(e,a,t,n,l){return' <span class="dB crm-font-regular mT2 kso_from_text1">'+e.escapeExpression(e.lambda(null!=a?a.COMPANY:a,a))+"</span> "},13:function(e,a,t,n,l){return' <div id="no_association" class="pT30 lightgraytxt f13 aligncenter">'+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.nsocial.no.records",{name:"getI18n",hash:{},data:l}))+"</div> "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.data:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(13,l,0),data:l}))?i:"")+" "},useData:!0}),a.composePin=e({1:function(e,a,t,n,l){return' <span id="pinTimeline" class="pinTimeline socialImgsvg compose_pined" onclick="crmSocial.updatePinTimelineStatus(false, this);" data-zcqa="pin_self"></span> '},3:function(e,a,t,n,l){return' <span id="pinTimeline" class="pinTimeline socialImgsvg compose_unpined" onclick="crmSocial.updatePinTimelineStatus(true, this);" data-zcqa="pin_self"></span> '},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i;return(null!=(i=t.if.call(null!=a?a:{},a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l}))?i:"")+" "},useData:!0}),a.fbPost=e({1:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <img src="'+o(s(null!=a?a.picture:a,a))+'" class="kso_user_photo cP" onclick="sE(event); window.open(\''+o(t.getRebrandKey.call(null!=a?a:{},"FB_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(s(null!=(i=null!=a?a.from:a)?i.id:i,a))+"', '_blank');\" /> "},3:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression,r=e.lambda;return' <img src="'+o(t.getRebrandKey.call(s,"FB_GRAPH_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(r(null!=(i=null!=a?a.from:a)?i.id:i,a))+'/picture" class="kso_user_photo cP" onclick="sE(event); window.open(\''+o(t.getRebrandKey.call(s,"FB_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(r(null!=(i=null!=a?a.from:a)?i.id:i,a))+"', '_blank');\" /> "},5:function(e,a,t,n,l){return' <div class="socialImgsvg socPostDel floatR kanbandel mT-3" style="display:none" data-zcqa="delete_comment"\n\t\t\t\t\t\t\t\t\tonclick="sE(event); crmSocial.confirmDelComment(this,\''+e.escapeExpression(e.lambda(null!=a?a.id:a,a))+"','facebook','post_kanban');\"></div> "},7:function(e,a,t,n,l){var i;return" "+(null!=(i=t.socialMarkingInfo.call(null!=a?a:{},a,{name:"socialMarkingInfo",hash:{},data:l}))?i:"")+" "},9:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=(i=null!=a?a.from:a)?i.mark_contact:i,{name:"if",hash:{},fn:e.program(10,l,0),inverse:e.program(12,l,0),data:l}))?i:"")+" "},10:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <a href="javascript:void(0);" class="mL5 kso_addto_span readOnlyMode" onclick="sE(event); crmSocialEntity.getProfileInfo(this, \''+o(t.encodeJS.call(s,null!=a?a.brid:a,{name:"encodeJS",hash:{},data:l}))+"', '"+o(t.encodeJS.call(s,null!=(i=null!=a?a.from:a)?i.id:i,{name:"encodeJS",hash:{},data:l}))+'\', \'facebook\');" data-zcqa="add_entity"> <span class="socAddLabel">+ '+o(t.getI18n.call(s,"crm.nsocial.setup.add",{name:"getI18n",hash:{},data:l}))+'</span> <span class="socAddLoading dN fR"> <span></span><span></span><span></span> </span> </a> <input type="hidden" value=\'{"modules":["Leads","Contacts"]}\' class="kso_unknown_conversion_permitted_modules" ></input> '},12:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <a href="javascript:void(0);" class="mL5 kso_addto_span readOnlyMode" onclick="sE(event); crmSocialEntity.getProfileInfo(this, \''+o(t.encodeJS.call(s,null!=a?a.brid:a,{name:"encodeJS",hash:{},data:l}))+"', '"+o(t.encodeJS.call(s,null!=(i=null!=a?a.from:a)?i.id:i,{name:"encodeJS",hash:{},data:l}))+'\', \'facebook\');" data-zcqa="add_entity"> <span class="socAddLabel">+ '+o(t.getI18n.call(s,"crm.nsocial.setup.add",{name:"getI18n",hash:{},data:l}))+'</span> <span class="socAddLoading dN fR"> <span></span><span></span><span></span> </span> </a> <input type="hidden" value=\'{"modules":["Leads"]}\' class="kso_unknown_conversion_permitted_modules" ></input> '},14:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=(i=null!=a?a.from:a)?i.mark_contact:i,{name:"if",hash:{},fn:e.program(15,l,0),inverse:e.program(17,l,0),data:l}))?i:"")+" "},15:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <a href="javascript:void(0);" class="mL5 kso_addto_span readOnlyMode" onclick="sE(event); crmSocialEntity.getProfileInfo(this, \''+o(t.encodeJS.call(s,null!=a?a.brid:a,{name:"encodeJS",hash:{},data:l}))+"', '"+o(t.encodeJS.call(s,null!=(i=null!=a?a.from:a)?i.id:i,{name:"encodeJS",hash:{},data:l}))+'\', \'facebook\');" data-zcqa="add_entity"> <span class="socAddLabel">+ '+o(t.getI18n.call(s,"crm.nsocial.setup.add",{name:"getI18n",hash:{},data:l}))+'</span> <span class="socAddLoading fR dN"> <span></span><span></span><span></span> </span> </a> <input type="hidden" value=\'{"modules":["Contacts"]}\' class="kso_unknown_conversion_permitted_modules" ></input> '},17:function(e,a,t,n,l){var i;return" "+(null!=(i=t.unless.call(null!=a?a:{},null!=a?a.search:a,{name:"unless",hash:{},fn:e.program(7,l,0),inverse:e.noop,data:l}))?i:"")+" "},19:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <a onclick="sE(event);" href="javascript:void(0)" class="when fR remove_ud cN" title="'+s(i(null!=a?a.title_time:a,a))+'"> <script type="text/javascript">onload=crmSocial.updateId(\''+s(t.findAndReplace.call(null!=a?a:{},null!=a?a.id:a,{name:"findAndReplace",hash:{},data:l}))+"', '"+s(i(null!=a?a.created_time:a,a))+"');<\/script> "+s(i(null!=a?a.disp_time:a,a))+" </a> "},21:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <a onclick="sE(event);" href="'+s(i(null!=a?a.permalink:a,a))+'" target="_blank" class="when fR remove_ud" title="'+s(i(null!=a?a.title_time:a,a))+'"> <script type="text/javascript">onload=crmSocial.updateId(\''+s(t.findAndReplace.call(null!=a?a:{},null!=a?a.id:a,{name:"findAndReplace",hash:{},data:l}))+"', '"+s(i(null!=a?a.created_time:a,a))+"');<\/script> "+s(i(null!=a?a.disp_time:a,a))+" </a> "},23:function(e,a,t,n,l){var i;return' <div class="kso_logo_from pT3"> <span class="kso_from_text1">'+(null!=(i=e.lambda(null!=a?a.action:a,a))?i:"")+"</span> </div> "},25:function(e,a,t,n,l){var i;return' <div class="what mt15 pB5">'+(null!=(i=e.lambda(null!=a?a.message:a,a))?i:"")+"</div> "},27:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <div class="what mt10 pB5 background_white" onclick="sE(event); window.open(\''+e.escapeExpression(t.encodeJS.call(s,null!=a?a.link:a,{name:"encodeJS",hash:{},data:l}))+'\', \'_newTab\');"> <div class="kso_sharedlink" style="margin-bottom:10px;border-radius: 2px;"> '+(null!=(i=t.if.call(s,null!=a?a.picture:a,{name:"if",hash:{},fn:e.program(28,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.name:a,{name:"if",hash:{},fn:e.program(30,l,0),inverse:e.noop,data:l}))?i:"")+' <div class="cB"></div> </div> </div> '},28:function(e,a,t,n,l){return' <img src="'+e.escapeExpression(e.lambda(null!=a?a.picture:a,a))+'" class="contentimage fL kso_fb_video_image" onload="crmSocial.setImageWidthHeight(this, \'video\');"></img> '},30:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <div style="background-color: white !important;padding:11px !important;"> <div class="linkTitle"> <a onmouseover="this.style.textDecoration=\'underline\';" onmouseout="this.style.textDecoration=\'none\';" href="'+s(i(null!=a?a.link:a,a))+'" onclick="sE(event);" target="_blank"> <div class="kso_link_title_kanbanview" title=\''+s(i(null!=a?a.name:a,a))+"'>"+s(i(null!=a?a.name:a,a))+'</div> </a> </div> <div class="linkDesc kso_desc_kanbanview" title=\''+s(i(null!=a?a.description:a,a))+"'>"+s(i(null!=a?a.description:a,a))+'</div> <div class="linkCapt" style="padding-top: 5px;">'+s(i(null!=a?a.caption:a,a))+"</div> </div> "},32:function(e,a,t,n,l){return' <div class="what mt10 pB5"> <img src="'+e.escapeExpression(e.lambda(null!=a?a.picture:a,a))+'" class="contentimage" onload="crmSocial.setImageWidthHeight(this);"></img> </div> '},34:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <div class="what mt10 pB5 background_white"> <div class="kso_sharedlink kso_fb_video_link"> '+(null!=(i=t.if.call(s,null!=a?a.source:a,{name:"if",hash:{},fn:e.program(35,l,0),inverse:e.program(37,l,0),data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.name:a,{name:"if",hash:{},fn:e.program(39,l,0),inverse:e.noop,data:l}))?i:"")+" </div> </div> "},35:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <img id="videoimage" src="'+s(i(null!=a?a.picture:a,a))+'" class="contentimage fL kso_fb_video_image" onload="crmSocial.setImageWidthHeight(this,\'video\');" onclick="sE(event); crmSocial.showVideoInFrame(this,\''+s(i(null!=a?a.source:a,a))+'\');" data-zcqa="video_image"></img> <div id="imagesvg" class="kso_fb_video"> <span class="socialImgsvg kso_fb_video_svg kso_fb_video_photo" onclick="sE(event); crmSocial.showVideoInFrame(this,\''+s(i(null!=a?a.source:a,a))+'\');" data-zcqa="show_video"></span> </div> <iframe id="videoframe" width="100%" height="100%" src="" frameborder="0" style="display:none;" class="social_fb_iframe"></iframe> '},37:function(e,a,t,n,l){return' <img src="'+e.escapeExpression(e.lambda(null!=a?a.picture:a,a))+'" class="contentimage fL mT10" onload="crmSocial.setImageWidthHeight(this);"></img> '},39:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <div class="background_white backgroung_padding"> <div class="linkTitle"> <a onmouseover="this.style.textDecoration=\'underline\';" onmouseout="this.style.textDecoration=\'none\';" href="'+s(i(null!=a?a.link:a,a))+'" onclick="sE(event);" target="_blank"> <div class = "kso_link_title_kanbanview" title=\''+s(i(null!=a?a.name:a,a))+"'>"+s(i(null!=a?a.name:a,a))+'</div> </a> </div> <div class="linkDesc kso_desc_kanbanview" title="'+s(i(null!=a?a.description:a,a))+'">'+s(i(null!=a?a.description:a,a))+'</div> <div class="linkCapt" style="padding-top: 5px;">'+s(i(null!=a?a.caption:a,a))+"</div> </div> "},41:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.attachments:a,{name:"if",hash:{},fn:e.program(42,l,0),inverse:e.noop,data:l}))?i:"")+" "},42:function(e,a,t,n,l){var i;return' <div class="kso_sharedlink p5 dIB pL20 pR20 mT5"> '+(null!=(i=t.each.call(null!=a?a:{},null!=(i=null!=a?a.attachments:a)?i.data:i,{name:"each",hash:{},fn:e.program(43,l,0),inverse:e.noop,data:l}))?i:"")+" </div> "},43:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.image:a,{name:"if",hash:{},fn:e.program(44,l,0),inverse:e.program(46,l,0),data:l}))?i:"")+" <br> "},44:function(e,a,t,n,l){return' <img src="'+e.escapeExpression(e.lambda(null!=a?a.image:a,a))+'" class="contentimage" onload="crmSocial.setImageWidthHeight(this);"></img> '},46:function(e,a,t,n,l){var i=e.escapeExpression,s=e.lambda;return' <a href="'+i(t.getRebrandKey.call(null!=a?a:{},"FB_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+i(s(null!=a?a.link:a,a))+'" onclick="sE(event);">'+i(s(null!=a?a.name:a,a))+"</a> "},48:function(e,a,t,n,l){var i;return' <div class="what mt15">'+(null!=(i=e.lambda(null!=a?a.snippet:a,a))?i:"")+"</div> "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <div class="kso_feed '+o(s(null!=a?a.network:a,a))+'"> <div class=\'kso_feed_inner w100per fL pR\'> <span class="twtr_retwited_visited_icn pA"></span> <span class="twtr_like_visited_icn pA"></span> <div id="head" class="kso_content_container"> <table cellpadding="0" cellspacing="0" width="100%"> <tr> <td class="kso_photo_td pR"> '+(null!=(i=t.if.call(r,null!=a?a.picture:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l}))?i:"")+' <span class="fbicon-small smallIconPosi T18"></span> </td> <td class="pL10"> <div class="pR"> <a onclick=\'sE(event);\' href="'+o(t.getRebrandKey.call(r,"FB_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(s(null!=(i=null!=a?a.from:a)?i.id:i,a))+'" target="_blank" class="whois fL remove_ud">'+o(s(null!=(i=null!=a?a.from:a)?i.name:i,a))+"</a> "+(null!=(i=t.if.call(r,null!=a?a.self:a,{name:"if",hash:{},fn:e.program(5,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(r,null!=a?a.search:a,{name:"if",hash:{},fn:e.program(7,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(r,null!=(i=null!=a?a.from:a)?i.mark_lead:i,{name:"if",hash:{},fn:e.program(9,l,0),inverse:e.program(14,l,0),data:l}))?i:"")+" <div id = '"+o(t.findAndReplace.call(r,null!=a?a.id:a,{name:"findAndReplace",hash:{},data:l}))+'\' class="pA right2 tLdate"> '+(null!=(i=t.if.call(r,null!=a?a.convo:a,{name:"if",hash:{},fn:e.program(19,l,0),inverse:e.program(21,l,0),data:l}))?i:"")+' </div> <div class="clearB"></div> </div> '+(null!=(i=t.if.call(r,null!=a?a.action:a,{name:"if",hash:{},fn:e.program(23,l,0),inverse:e.noop,data:l}))?i:"")+' </td> </tr> </table> </div> <div id="body" class="kso_footer_container"> '+(null!=(i=t.if.call(r,null!=a?a.message:a,{name:"if",hash:{},fn:e.program(25,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(r,null!=a?a.islink:a,{name:"if",hash:{},fn:e.program(27,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(r,null!=a?a.isPic:a,{name:"if",hash:{},fn:e.program(32,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(r,null!=a?a.isVid:a,{name:"if",hash:{},fn:e.program(34,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(r,null!=a?a.convo:a,{name:"if",hash:{},fn:e.program(41,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(r,null!=a?a.snippet:a,{name:"if",hash:{},fn:e.program(48,l,0),inverse:e.noop,data:l}))?i:"")+" </div> "+(null!=(i=e.invokePartial(n.fbPostActions,a,{name:"fbPostActions",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+" </div> <div class='clearB'></div> </div> "},usePartial:!0,useData:!0}),a.fbPostActions=e({1:function(e,a,t,n,l){var i;return' <div id="action" class="kso_action_Layer pB10 pT5" onclick="sE(event);" brid="'+e.escapeExpression(e.lambda(null!=a?a.brid:a,a))+'"> '+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.interact:a,{name:"if",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l}))?i:"")+" </div> "},2:function(e,a,t,n,l){return' <a class="color_7 p0 reply_over" href="javascript:void(0);" onclick="sE(event); crmSocial.toggleResponse(this, \'facebook\', \''+e.escapeExpression(e.lambda(null!=a?a.convo:a,a))+"');\" data-zcqa=\"toggle_fb_response\"> <span class='socialImgsvg kso_reply'></span> </a> "},4:function(e,a,t,n,l){var i;return' <div id="action" class="kso_action_Layer pB10 dIB cB w100per" onclick="sE(event);"> '+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.interact:a,{name:"if",hash:{},fn:e.program(5,l,0),inverse:e.noop,data:l}))?i:"")+" </div> "},5:function(e,a,t,n,l){var i,s=null!=a?a:{};return" "+(null!=(i=t.if.call(s,null!=a?a.comment_id:a,{name:"if",hash:{},fn:e.program(6,l,0),inverse:e.program(11,l,0),data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.liked:a,{name:"if",hash:{},fn:e.program(14,l,0),inverse:e.program(16,l,0),data:l}))?i:"")+" "},6:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return" "+(null!=(i=t.if.call(s,null!=a?a.liked:a,{name:"if",hash:{},fn:e.program(7,l,0),inverse:e.program(9,l,0),data:l}))?i:"")+' <a class="kso_fbComment fL mL15" href="javascript:void(0);" onclick="sE(event); crmSocial.toggleResponse(this, \'facebook\', \''+o(e.lambda(null!=a?a.convo:a,a))+'\', \'true\');" data-zcqa="toggle_com_reply"> <span class="socialImgsvg"></span> <span class="fR mL3" style="font-size: 14px">'+o(t.notEqualsZero.call(s,null!=a?a.comments_count:a,{name:"notEqualsZero",hash:{},data:l}))+"</span> </a> "},7:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <a class="kso_fbLiked fL" href="javascript:void(0);" onclick="sE(event); crmSocial.like(this, \'facebook\', \''+o(s(null!=a?a.comment_id:a,a))+'\');" liked="'+o(s(null!=(i=null!=a?a.history:a)?i.user_likes:i,a))+'" data-zcqa="com_like"> <span class="socialImgsvg"></span> <span class="fR mL3" style="font-size: 14px">'+o(t.notEqualsZero.call(null!=a?a:{},null!=a?a.likes_count:a,{name:"notEqualsZero",hash:{},data:l}))+"</span> </a> "},9:function(e,a,t,n,l){var i=e.escapeExpression;return' <a class="kso_fbLike fL" href="javascript:void(0);" onclick="sE(event); crmSocial.like(this, \'facebook\');" liked="'+i(e.lambda(null!=a?a.liked:a,a))+'" data-zcqa="like"> <span class="socialImgsvg"></span> <span class="fR mL3" style="font-size: 14px">'+i(t.notEqualsZero.call(null!=a?a:{},null!=a?a.likes_count:a,{name:"notEqualsZero",hash:{},data:l}))+"</span> </a> "},11:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return" "+(null!=(i=t.if.call(s,null!=a?a.liked:a,{name:"if",hash:{},fn:e.program(12,l,0),inverse:e.program(9,l,0),data:l}))?i:"")+' <a class="kso_fbComment fL mL15" href="javascript:void(0);" onclick="sE(event); crmSocial.toggleResponse(this, \'facebook\', \''+o(e.lambda(null!=a?a.convo:a,a))+'\');" data-zcqa="toggle_comment"> <span class="socialImgsvg"></span> <span class="fR mL3" style="font-size: 14px">'+o(t.notEqualsZero.call(s,null!=a?a.comments_count:a,{name:"notEqualsZero",hash:{},data:l}))+"</span> </a> "},12:function(e,a,t,n,l){var i=e.escapeExpression;return' <a class="kso_fbLiked fL" href="javascript:void(0);" onclick="sE(event); crmSocial.like(this, \'facebook\');" liked="'+i(e.lambda(null!=a?a.liked:a,a))+'" data-zcqa="like"> <span class="socialImgsvg"></span> <span class="fR mL3" style="font-size: 14px">'+i(t.notEqualsZero.call(null!=a?a:{},null!=a?a.likes_count:a,{name:"notEqualsZero",hash:{},data:l}))+"</span> </a> "},14:function(e,a,t,n,l){return' <a class="kso_fbLikedShow fR mL15" href="javascript:void(0)" onclick="sE(event);"> <span class="socialImgsvg"></span> </a> '},16:function(e,a,t,n,l){return' <a class="kso_fbLikedShow fR mL15 dN" href="javascript:void(0)" onclick="sE(event);"> <span class="socialImgsvg"></span> </a> '},18:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <div id="interactions" class="fL w100per"> '+(null!=(i=t.if.call(s,null!=a?a.likeDiv:a,{name:"if",hash:{},fn:e.program(19,l,0),inverse:e.program(21,l,0),data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.commentDiv:a,{name:"if",hash:{},fn:e.program(23,l,0),inverse:e.noop,data:l}))?i:"")+' <div id="comment_list" class="grayBg4"> '+(null!=(i=t.if.call(s,null!=a?a.comments:a,{name:"if",hash:{},fn:e.program(25,l,0),inverse:e.noop,data:l}))?i:"")+" </div> </div> "},19:function(e,a,t,n,l){var i;return' <div id="likes_list" class="grayBg4 p10 feedgrayborder feed_detail_like_more ksmalltxt">'+(null!=(i=e.lambda(null!=a?a.likeDiv:a,a))?i:"")+"</div> "},21:function(e,a,t,n,l){return' <div id="likes_list" class="dN grayBg4 p10 feedgrayborder feed_detail_like_more ksmalltxt"></div> '},23:function(e,a,t,n,l){var i;return' <div id="more_comments" class="grayBg4 p10 feedgrayborder feed_detail_like_more ksmalltxt">'+(null!=(i=e.lambda(null!=a?a.commentDiv:a,a))?i:"")+"</div> "},25:function(e,a,t,n,l){var i;return" "+(null!=(i=t.each.call(null!=a?a:{},null!=(i=null!=a?a.comments:a)?i.data:i,{name:"each",hash:{},fn:e.program(26,l,0),inverse:e.noop,data:l}))?i:"")+" "},26:function(e,a,t,n,l){var i;return" "+(null!=(i=e.invokePartial(n.CommentTemplate,a,{name:"CommentTemplate",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+" "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=null!=a?a:{};return"  "+(null!=(i=t.if.call(s,null!=a?a.convo:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(4,l,0),data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.self:a,{name:"if",hash:{},fn:e.program(18,l,0),inverse:e.noop,data:l}))?i:"")+' <div id="response" class="pB8 fL w100p" style="display: none" onclick="sE(event);"></div> <div class="clearB"></div>'},usePartial:!0,useData:!0}),a.fbPostDetail=e({1:function(e,a,t,n,l){return e.escapeExpression(e.lambda(null!=a?a.fb_conversation_id:a,a))},3:function(e,a,t,n,l){return e.escapeExpression(e.lambda(null!=a?a.id:a,a))},5:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <img src="'+o(s(null!=a?a.picture:a,a))+'" style="width:48px; height:48px;" class="kso_user_photo cP" onclick="sE(event); window.open(\''+o(t.getRebrandKey.call(null!=a?a:{},"FB_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(s(null!=(i=null!=a?a.from:a)?i.id:i,a))+"', '_blank');\" /> "},7:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression,r=e.lambda;return' <img src="'+o(t.getRebrandKey.call(s,"FB_GRAPH_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(r(null!=(i=null!=a?a.from:a)?i.id:i,a))+'/picture" style="width:48px; height:48px;" class="kso_user_photo cP" onclick="sE(event); window.open(\''+o(t.getRebrandKey.call(s,"FB_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(r(null!=(i=null!=a?a.from:a)?i.id:i,a))+"', '_blank');\" /> "},9:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <a href="javascript:void(0);" class="when cN" title="'+s(i(null!=a?a.title_time:a,a))+'">'+s(i(null!=a?a.disp_time:a,a))+"</a> "},11:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <a href="'+s(i(null!=a?a.permalink:a,a))+'" target="_blank" class="when" title="'+s(i(null!=a?a.title_time:a,a))+'">'+s(i(null!=a?a.disp_time:a,a))+"</a> "},13:function(e,a,t,n,l){var i;return' <div id="feed_detail_convo"> '+(null!=(i=e.invokePartial(n.ConvoTemplate,a,{name:"ConvoTemplate",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+" </div> "},15:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression,r=e.lambda;return' <table id="kso_feed_hd_1" cellpadding="0" cellspacing="0" width="100%" class="kso_feed_hd_1 pT20"> <tr> <td class="kso_photo_td"> <div class="pR"> '+(null!=(i=t.if.call(s,null!=a?a.picture:a,{name:"if",hash:{},fn:e.program(5,l,0),inverse:e.program(7,l,0),data:l}))?i:"")+' <span class="fbicon-small smallIconPosi"></span> </div> </td> <td class="pL10" valign="top"> <div> <a href="'+o(t.getRebrandKey.call(s,"FB_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(r(null!=(i=null!=a?a.from:a)?i.id:i,a))+'" target="_blank" class="whois">'+o(r(null!=(i=null!=a?a.from:a)?i.name:i,a))+"</a> </div> <div> "+(null!=(i=t.if.call(s,null!=a?a.convo:a,{name:"if",hash:{},fn:e.program(9,l,0),inverse:e.program(11,l,0),data:l}))?i:"")+' </div> </td> </tr> </table> <div class="fL w100per"> '+(null!=(i=t.if.call(s,null!=a?a.message:a,{name:"if",hash:{},fn:e.program(16,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.create:a,{name:"if",hash:{},fn:e.program(18,l,0),inverse:e.noop,data:l}))?i:"")+" </div> "+(null!=(i=t.if.call(s,null!=a?a.islink:a,{name:"if",hash:{},fn:e.program(20,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.isPic:a,{name:"if",hash:{},fn:e.program(23,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.isVid:a,{name:"if",hash:{},fn:e.program(25,l,0),inverse:e.noop,data:l}))?i:"")+' <div id="feed_detail_action" brid="'+o(r(null!=a?a.brid:a,a))+'" class="mt5 kso_action_Layer"> '+(null!=(i=t.if.call(s,null!=a?a.interact:a,{name:"if",hash:{},fn:e.program(32,l,0),inverse:e.noop,data:l}))?i:"")+' </div> <div id="feed_detail_convo" class="mT10 graybgf3f3 fL w100per"> '+(null!=(i=t.if.call(s,null!=a?a.likeDiv:a,{name:"if",hash:{},fn:e.program(37,l,0),inverse:e.program(39,l,0),data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.commentDiv:a,{name:"if",hash:{},fn:e.program(41,l,0),inverse:e.noop,data:l}))?i:"")+' <div id="comment_list"> '+(null!=(i=t.if.call(s,null!=a?a.comments:a,{name:"if",hash:{},fn:e.program(43,l,0),inverse:e.noop,data:l}))?i:"")+" </div> </div> "},16:function(e,a,t,n,l){var i;return' <div class="feed_detail_maincontant fL">'+(null!=(i=e.lambda(null!=a?a.message:a,a))?i:"")+"</div> "},18:function(e,a,t,n,l){return' <div class="socialImgsvg socPostDel fR detailDel" onclick="crmSocial.confirmDelComment(this,\''+e.escapeExpression(e.lambda(null!=a?a.id:a,a))+"','facebook','post_detail');\"></div> "},20:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <div class="feed_detail_maincontant" onclick="window.open(\''+o(s(null!=a?a.link:a,a))+'\',\'_newTab\');"> <div class="kso_sharedlink" style="border-radius:3px;margin-bottom: 10px;"> <img  align="left" src="'+o(s(null!=a?a.picture:a,a))+'" class="contentimage fL kso_fb_video_image" onload="crmSocial.setImageWidthHeightDetailView(this);"></img> '+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.name:a,{name:"if",hash:{},fn:e.program(21,l,0),inverse:e.noop,data:l}))?i:"")+' <div class="clearB"></div> </div> </div> '},21:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <div style="padding:12px;"> <div class="linkTitle"> <a onmouseover="this.style.textDecoration=\'underline\';" onmouseout="this.style.textDecoration=\'none\';" href="'+s(i(null!=a?a.link:a,a))+'" onclick="sE(event);" target="_blank"> <div class="kso_linktitle_detailview" title="'+s(i(null!=a?a.name:a,a))+'">'+s(i(null!=a?a.name:a,a))+'</div> </a> </div> <div class="linkDesc kso_desc_detailview" title=\''+s(i(null!=a?a.description:a,a))+"'>"+s(i(null!=a?a.description:a,a))+'</div> <div class="linkCapt" style="padding-top: 20px;">'+s(i(null!=a?a.caption:a,a))+"</div> </div> "},23:function(e,a,t,n,l){return' <div class="feed_detail_maincontant"> <img src="'+e.escapeExpression(e.lambda(null!=a?a.picture:a,a))+'" class="contentimage" onload="crmSocial.setImageWidthHeightDetailView(this);"></img> </div> '},25:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <div class="feed_detail_maincontant" style="border-radius: 3px;"> <div class="kso_sharedlink kso_fb_video_link"> '+(null!=(i=t.if.call(s,null!=a?a.source:a,{name:"if",hash:{},fn:e.program(26,l,0),inverse:e.program(28,l,0),data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.name:a,{name:"if",hash:{},fn:e.program(30,l,0),inverse:e.noop,data:l}))?i:"")+" </div> </div> "},26:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <img id="videoimage" src="'+s(i(null!=a?a.picture:a,a))+'" class="contentimage fL kso_fb_video_image" onload="crmSocial.setImageWidthHeight(this,\'video\');" onclick="sE(event); crmSocial.showVideoInFrame(this,\''+s(i(null!=a?a.source:a,a))+'\');"></img> <div id="imagesvg" class="kso_fb_video"><span class="socialImgsvg kso_fb_video_svg kso_fb_video_photo" onclick="sE(event); crmSocial.showVideoInFrame(this,\''+s(i(null!=a?a.source:a,a))+'\');"></span></div> <iframe id="videoframe" width="100%" height="100%" src="" frameborder="0" style="display:none" class="social_fbdetail_iframe"></iframe> '},28:function(e,a,t,n,l){return' <img src="'+e.escapeExpression(e.lambda(null!=a?a.picture:a,a))+'" class="contentimage fL mT10" onload="crmSocial.setImageWidthHeight(this);"></img> '},30:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <div class="background_white backgroung_padding"> <div class="linkTitle"> <a onmouseover="this.style.textDecoration=\'underline\';" onmouseout="this.style.textDecoration=\'none\';" href="'+s(i(null!=a?a.link:a,a))+'" onclick="sE(event);" target="_blank"> <div class = "kso_link_title_kanbanview" title=\''+s(i(null!=a?a.name:a,a))+"'>"+s(i(null!=a?a.name:a,a))+'</div> </a> </div> <div class="linkDesc kso_desc_kanbanview" title=\''+s(i(null!=a?a.description:a,a))+"'>"+s(i(null!=a?a.description:a,a))+'</div> <div class="linkCapt" style="padding-top: 5px;">'+s(i(null!=a?a.caption:a,a))+"</div> </div> "},32:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return" "+(null!=(i=t.if.call(s,null!=a?a.liked:a,{name:"if",hash:{},fn:e.program(33,l,0),inverse:e.program(35,l,0),data:l}))?i:"")+' <a class="kso_fbComment fL mL15" href="javascript:void(0);" onclick="sE(event); crmSocial.toggleResponse(this, \'facebook\', \''+o(e.lambda(null!=a?a.convo:a,a))+'\');" data-zcqa="toggle_comment"> <span class="socialImgsvg"></span> <span class="fR mL3" style="font-size: 14px">'+o(t.notEqualsZero.call(s,null!=a?a.comments_count:a,{name:"notEqualsZero",hash:{},data:l}))+"</span> </a> "},33:function(e,a,t,n,l){var i=e.escapeExpression;return' <a class="kso_fbLiked fL" href="javascript:void(0);" onclick="sE(event); crmSocial.like(this, \'facebook\');" liked="'+i(e.lambda(null!=a?a.liked:a,a))+'" data-zcqa="like"> <span class="socialImgsvg"></span> <span class="fR mL3" style="font-size: 14px">'+i(t.notEqualsZero.call(null!=a?a:{},null!=a?a.likes_count:a,{name:"notEqualsZero",hash:{},data:l}))+"</span> </a> "},35:function(e,a,t,n,l){var i=e.escapeExpression;return' <a class="kso_fbLike fL" href="javascript:void(0);" onclick="sE(event); crmSocial.like(this, \'facebook\');" liked="'+i(e.lambda(null!=a?a.liked:a,a))+'" data-zcqa="like"> <span class="socialImgsvg"></span> <span class="fR mL3" style="font-size: 14px">'+i(t.notEqualsZero.call(null!=a?a:{},null!=a?a.likes_count:a,{name:"notEqualsZero",hash:{},data:l}))+"</span> </a> "},37:function(e,a,t,n,l){var i;return' <div id="like_list" class="p10 feedgrayborder feed_detail_like_more ksmalltxt">'+(null!=(i=e.lambda(null!=a?a.likeDiv:a,a))?i:"")+"</div> "},39:function(e,a,t,n,l){return' <div id="like_list" class="dN p10 feedgrayborder feed_detail_like_more ksmalltxt"></div> '},41:function(e,a,t,n,l){var i;return' <div id="more_comments" class="grayBg4 p10 feedgrayborder feed_detail_like_more ksmalltxt">'+(null!=(i=e.lambda(null!=a?a.commentDiv:a,a))?i:"")+"</div> "},43:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=(i=null!=a?a.comments:a)?i.data:i,{name:"if",hash:{},fn:e.program(44,l,0),inverse:e.noop,data:l}))?i:"")+" "},44:function(e,a,t,n,l){var i;return" "+(null!=(i=t.each.call(null!=a?a:{},null!=(i=null!=a?a.comments:a)?i.data:i,{name:"each",hash:{},fn:e.program(45,l,0),inverse:e.noop,data:l}))?i:"")+" "},45:function(e,a,t,n,l){var i;return" "+(null!=(i=e.invokePartial(n.CommentTemplate,a,{name:"CommentTemplate",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+" "},47:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.convo:a,{name:"if",hash:{},fn:e.program(48,l,0),inverse:e.program(53,l,0),data:l}))?i:"")+" "},48:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.lambda,r=e.escapeExpression;return" "+(null!=(i=t.if.call(s,null!=a?a.isSignalDetailView:a,{name:"if",hash:{},fn:e.program(49,l,0),inverse:e.program(51,l,0),data:l}))?i:"")+' <div class="fL mR10 imgwth"><img src="'+r(o(null!=a?a.br_img:a,a))+'" class="kso_user_photo fL" title="'+r(o(null!=a?a.br_name:a,a))+'"></div> <div class="fL txtwth"> <textarea id="resp_box" class="zso_twreplyBox w100p fLimp detailTextBox" placeholder="'+r(t.getI18n.call(s,"crm.nsocial.convo.reply",{name:"getI18n",hash:{},data:l}))+'" onclick="sE(event);" onkeyup="crmSocial.showHideButton(this);"></textarea> </div> <div class="fR btnwth mL10"> <button id="resp_button" class="feedcommentbtn btnWth fR pR mR0" style="opacity:0.5; width:80px;" value="'+r(t.getI18n.call(s,"crm.nsocial.reply",{name:"getI18n",hash:{},data:l}))+'" convo_id="'+r(o(null!=a?a.fb_conversation_id:a,a))+'" onclick="sE(event); crmSocial.replyToConvo(this, \'facebook\');" disabled="disabled"> <span class="repy">'+r(t.getI18n.call(s,"crm.nsocial.reply",{name:"getI18n",hash:{},data:l}))+'</span> <div class="socNewLoding"> <span></span><span></span><span></span> </div> </button> </div> <div class="clearB"></div> </div> '},49:function(e,a,t,n,l){return' <div id="response" brid="'+e.escapeExpression(e.lambda(null!=a?a.brid:a,a))+'" class="borTopED pA w100per botm0 newReply ntcReply"> '},51:function(e,a,t,n,l){return' <div id="response" brid="'+e.escapeExpression(e.lambda(null!=a?a.brid:a,a))+'" class="borTopED pA w100per botm0 newReply"> '},53:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.lambda,r=e.escapeExpression;return" "+(null!=(i=t.if.call(s,null!=a?a.isSignalDetailView:a,{name:"if",hash:{},fn:e.program(49,l,0),inverse:e.program(51,l,0),data:l}))?i:"")+' <div> <div class="fL mR10 imgwth"><img src="'+r(o(null!=a?a.br_img:a,a))+'" class="kso_user_photo fL" title="'+r(o(null!=a?a.br_name:a,a))+'"></div> <div class="fL txtwth"> <textarea id="resp_box" class="fLimp zso_twreplyBox detailTextBox" placeholder="'+r(t.getI18n.call(s,"crm.nsocial.write.comment",{name:"getI18n",hash:{},data:l}))+'" onclick="sE(event);" onkeyup="crmSocial.showHideButton(this);"></textarea> </div> <div class="fR btnwth mL10"> <button id="resp_button" class="feedcommentbtn btnWth fR pR mR0" style="opacity:0.5; width:88px;" onclick="sE(event); crmSocial.comment(this, \'facebook\',\'detail\');" disabled="disabled"> <span class="repy">'+r(t.getI18n.call(s,"crm.nsocial.comment",{name:"getI18n",hash:{},data:l}))+'</span> <div class="socNewLoding"> <span></span><span></span><span></span> </div> </button> <a class="img-option comp-image sodet_compose" href="javascript:;" data-id="image"> <input type="file" id="commentimage" accept="image/*" onchange="crmSocial.onImageSelected(event, this,\'facebook\',\'detail\');"> <span class="socialImgsvg ks-addimg fL"></span> </a> </div> <div class="clearB"></div> </div> <div class="dN pR soc_compose_img" style="vertical-align: top; margin-top: 7px;"> <img id="soc_comment_img" width="80" height="80"> <div class="posabs socialImgsvg soc_reply_close fR opc0" onclick="sE(event);crmSocial.removeImage(this);"></div> <div class=\'sode_hover\' onclick="sE(event);"></div> </div> <div class="clearB"></div> </div> '},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.lambda,r=e.escapeExpression;return'  <div id="feed_detail_inner_div" class=\'heitInhert\' p_id="'+(null!=(i=t.if.call(s,null!=a?a.convo:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l}))?i:"")+'" c_id="'+r(o(null!=a?a.comment_id:a,a))+'" t_id="'+r(o(null!=a?a.thread_id:a,a))+'" b_id="'+r(o(null!=a?a.brid:a,a))+'" pro_id="'+r(o(null!=(i=null!=a?a.from:a)?i.id:i,a))+'" m_name="'+r(o(null!=(i=null!=a?a.from:a)?i.module:i,a))+'" e_id="'+r(o(null!=(i=null!=a?a.from:a)?i.entityid:i,a))+'" b_img="'+r(o(null!=a?a.br_img:a,a))+'" > <div class="pR heitInhert"> <div id="feed_detail_close" class="socialImgsvg dbBtnClose fR feed_detail_close r0" style=\'display:none\' onclick="sE(event);crmSocial.feedDetailclose(this)"></div> <table id="kso_feed_hd" cellpadding="0" cellspacing="0" width="100%" class="kso_feed_hd"> <tr> <td class="kso_photo_td"> <div class="pR"> '+(null!=(i=t.if.call(s,null!=a?a.picture:a,{name:"if",hash:{},fn:e.program(5,l,0),inverse:e.program(7,l,0),data:l}))?i:"")+' <span class="fbicon-small smallIconPosi"></span> </div> </td> <td class="pL10" valign="top"> <div> <a href="'+r(t.getRebrandKey.call(s,"FB_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+r(o(null!=(i=null!=a?a.from:a)?i.id:i,a))+'" target="_blank" class="whois">'+r(o(null!=(i=null!=a?a.from:a)?i.name:i,a))+"</a> </div> <div> "+(null!=(i=t.if.call(s,null!=a?a.convo:a,{name:"if",hash:{},fn:e.program(9,l,0),inverse:e.program(11,l,0),data:l}))?i:"")+' </div> </td> </tr> </table> <div id="feed_detail_head_outer" class="feed_wrapper pR pT0"> <div id="feed_detail_head" class="fL w100per"> '+(null!=(i=t.if.call(s,null!=a?a.convo:a,{name:"if",hash:{},fn:e.program(13,l,0),inverse:e.program(15,l,0),data:l}))?i:"")+" </div> </div> </div> "+(null!=(i=t.if.call(s,null!=a?a.interact:a,{name:"if",hash:{},fn:e.program(47,l,0),inverse:e.noop,data:l}))?i:"")+' <div class="clearB"></div> </div> '},usePartial:!0,useData:!0}),a.gpPost=e({1:function(e,a,t,n,l){var i;return" "+(null!=(i=t.socialMarkingInfo.call(null!=a?a:{},a,{name:"socialMarkingInfo",hash:{},data:l}))?i:"")+" "},3:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=(i=null!=a?a.actor:a)?i.mark_contact:i,{name:"if",hash:{},fn:e.program(4,l,0),inverse:e.program(6,l,0),data:l}))?i:"")+" "},4:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <a href="javascript:void(0);" class="mL5 kso_addto_span readOnlyMode" onclick="sE(event); crmSocialEntity.getProfileInfo(this, \''+o(t.encodeJS.call(s,null!=a?a.brid:a,{name:"encodeJS",hash:{},data:l}))+"', '"+o(t.encodeJS.call(s,null!=(i=null!=a?a.actor:a)?i.id:i,{name:"encodeJS",hash:{},data:l}))+'\', \'googleplus\');" data-zcqa="add_entity"> <span class="socAddLabel">+ '+o(t.getI18n.call(s,"crm.nsocial.setup.add",{name:"getI18n",hash:{},data:l}))+'</span> <span class="socAddLoading fR dN"> <span></span><span></span><span></span> </span> </a> <input type="hidden" value=\'{"modules":["Leads","Contacts"]}\' class="kso_unknown_conversion_permitted_modules" ></input> '},6:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <a href="javascript:void(0);" class="mL5 kso_addto_span readOnlyMode" onclick="sE(event); crmSocialEntity.getProfileInfo(this, \''+o(t.encodeJS.call(s,null!=a?a.brid:a,{name:"encodeJS",hash:{},data:l}))+"', '"+o(t.encodeJS.call(s,null!=(i=null!=a?a.actor:a)?i.id:i,{name:"encodeJS",hash:{},data:l}))+'\', \'googleplus\');" data-zcqa="add_entity"> <span class="socAddLabel">+ '+o(t.getI18n.call(s,"crm.nsocial.setup.add",{name:"getI18n",hash:{},data:l}))+'</span> <span class="socAddLoading fR dN"> <span></span><span></span><span></span> </span> </a> <input type="hidden" value=\'{"modules":["Leads"]}\' class="kso_unknown_conversion_permitted_modules" ></input> '},8:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=(i=null!=a?a.actor:a)?i.mark_contact:i,{name:"if",hash:{},fn:e.program(9,l,0),inverse:e.program(11,l,0),data:l}))?i:"")+" "},9:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <a href="javascript:void(0);" class="mL5 kso_addto_span readOnlyMode" onclick="sE(event); crmSocialEntity.getProfileInfo(this, \''+o(t.encodeJS.call(s,null!=a?a.brid:a,{name:"encodeJS",hash:{},data:l}))+"', '"+o(t.encodeJS.call(s,null!=(i=null!=a?a.actor:a)?i.id:i,{name:"encodeJS",hash:{},data:l}))+'\', \'googleplus\');" data-zcqa="add_entity"> <span class="socAddLabel">+ '+o(t.getI18n.call(s,"crm.nsocial.setup.add",{name:"getI18n",hash:{},data:l}))+'</span> <span class="socAddLoading fR dN"> <span></span><span></span><span></span> </span> </a> <input type="hidden" value=\'{"modules":["Contacts"]}\' class="kso_unknown_conversion_permitted_modules" ></input> '},11:function(e,a,t,n,l){var i;return" "+(null!=(i=t.unless.call(null!=a?a:{},null!=a?a.search:a,{name:"unless",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+" "},13:function(e,a,t,n,l){var i;return' <div class="kso_logo_from pT3"> <span class="kso_from_text1">'+(null!=(i=e.lambda(null!=a?a.action:a,a))?i:"")+"</span> </div> "},15:function(e,a,t,n,l){var i;return' <div class="what mt15">'+(null!=(i=e.lambda(null!=a?a.title:a,a))?i:"")+"</div> "},17:function(e,a,t,n,l){var i;return' <div class="what mt10"> <img src="'+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=a?a.photo:a)?i.image:i)?i.url:i,a))+'" class="contentimage" onload="crmSocial.setImageWidthHeight(this);"></img> </div> '},19:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <div class="what mt10 cP" onclick="sE(event); window.open(\''+o(s(null!=(i=null!=a?a.video:a)?i.url:i,a))+'\',\'_newTab\');"> <div class="kso_sharedlink"> <img src="'+o(s(null!=(i=null!=(i=null!=a?a.video:a)?i.image:i)?i.url:i,a))+'" class="contentimage" onload="crmSocial.setImageWidthHeight(this);"></img> <div class="p15"> <div class="linkTitle">'+o(s(null!=(i=null!=a?a.video:a)?i.displayName:i,a))+'</div> <div class="linkDesc">'+o(s(null!=(i=null!=a?a.video:a)?i.content:i,a))+"</div> </div> </div> </div> "},21:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <div class="what mt10 cP" onclick="sE(event); window.open(\''+o(s(null!=(i=null!=a?a.article:a)?i.url:i,a))+'\',\'_newTab\');"> <div class="kso_sharedlink"> <img src="'+o(s(null!=(i=null!=(i=null!=a?a.article:a)?i.image:i)?i.url:i,a))+'" class="contentimage fL mR20" onload="crmSocial.setImageWidthHeight(this);"></img> <div class="p15"> <div class="linkTitle">'+o(s(null!=(i=null!=a?a.article:a)?i.displayName:i,a))+'</div> </div> <div class="cB"></div> </div> </div> '},23:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <div class="what mt10 cP" onclick="sE(event); window.open(\''+o(s(null!=(i=null!=a?a.event:a)?i.url:i,a))+'\',\'_newTab\');"> <div class="kso_sharedlink"> <div class="p15"> <div class="linkTitle">'+o(s(null!=(i=null!=a?a.event:a)?i.displayName:i,a))+'</div> <div class="linkCapt">'+o(s(null!=(i=null!=a?a.event:a)?i.content:i,a))+'</div> </div> <div class="cB"></div> </div> </div> '},25:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <div id="feed_detail_'+o(s(null!=a?a.id:a,a))+'_tail" brid="'+o(s(null!=a?a.brid:a,a))+'" class="mt5 kso_action_Layer w100per mB5"> '+(null!=(i=t.if.call(r,null!=a?a.interact:a,{name:"if",hash:{},fn:e.program(26,l,0),inverse:e.noop,data:l}))?i:"")+' </div> <div id="interactions"> '+(null!=(i=t.if.call(r,null!=a?a.commentDiv:a,{name:"if",hash:{},fn:e.program(28,l,0),inverse:e.program(30,l,0),data:l}))?i:"")+' <div id="comment_list" class="grayBg4 mB15"> '+(null!=(i=t.if.call(r,null!=(i=null!=a?a.object:a)?i.replies:i,{name:"if",hash:{},fn:e.program(32,l,0),inverse:e.noop,data:l}))?i:"")+' </div> </div> <div id="response" brid="'+o(s(null!=a?a.brid:a,a))+'" class="pB10 fL dN w100per"></div> '},26:function(e,a,t,n,l){return' <a href="javascript:void(0);" class="kso_fb_comment ksmalllink" onclick="sE(event); crmSocial.toggleResponse(this, \'googleplus\');" data-zcqa="toggle_gp_comment"> '+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.nsocial.comment",{name:"getI18n",hash:{},data:l}))+" </a> "},28:function(e,a,t,n,l){var i;return' <div id="more_comments" class="grayBg4 p10 feedgrayborder feed_detail_like_more ksmalltxt">'+(null!=(i=e.lambda(null!=a?a.commentDiv:a,a))?i:"")+"</div> "},30:function(e,a,t,n,l){return' <div id="more_comments" class="grayBg4 p10 feedgrayborder feed_detail_like_more ksmalltxt dN"></div> '},32:function(e,a,t,n,l){var i;return" "+(null!=(i=t.each.call(null!=a?a:{},null!=(i=null!=(i=null!=a?a.object:a)?i.replies:i)?i.data:i,{name:"each",hash:{},fn:e.program(33,l,0),inverse:e.noop,data:l}))?i:"")+" "},33:function(e,a,t,n,l){var i;return" "+(null!=(i=e.invokePartial(n.CommentTemplate,a,{name:"CommentTemplate",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+" "},35:function(e,a,t,n,l){return' <div id="action" brid="'+e.escapeExpression(e.lambda(null!=a?a.brid:a,a))+'" class=" mt15 kso_action_Layer pT15"></div> '},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return'  <div class="kso_feed '+o(s(null!=a?a.network:a,a))+'"> <div class=\'kso_feed_inner w100per fL\'> <div id="head" class="kso_content_container"> <table cellpadding="0" cellspacing="0" width="100%"> <tr> <td class="kso_photo_td pR"> <img src="'+o(s(null!=(i=null!=(i=null!=a?a.actor:a)?i.image:i)?i.url:i,a))+'" class="kso_user_photo cP" onclick="sE(event); window.open(\''+o(s(null!=(i=null!=a?a.actor:a)?i.url:i,a))+"', '_blank');\" ></img> <span class='gpicon-small smallIconPosi T18'></span> </td> <td class=\"pL10\"> <div> <a onclick='sE(event);' href=\""+o(s(null!=(i=null!=a?a.actor:a)?i.url:i,a))+'" target="_blank" class="whois remove_ud fL">'+o(s(null!=(i=null!=a?a.actor:a)?i.displayName:i,a))+"</a> "+(null!=(i=t.if.call(r,null!=a?a.search:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(r,null!=(i=null!=a?a.actor:a)?i.mark_lead:i,{name:"if",hash:{},fn:e.program(3,l,0),inverse:e.program(8,l,0),data:l}))?i:"")+" <div id = '"+o(t.findAndReplace.call(r,null!=a?a.comment_id:a,{name:"findAndReplace",hash:{},data:l}))+'\'> <a onclick="sE(event);" href="'+o(s(null!=a?a.url:a,a))+'" target="_blank" class="when fR remove_ud" title="'+o(s(null!=a?a.title_time:a,a))+'"> <script type="text/javascript">onload=crmSocial.updateId(\''+o(t.findAndReplace.call(r,null!=a?a.comment_id:a,{name:"findAndReplace",hash:{},data:l}))+"', '"+o(s(null!=a?a.title_time:a,a))+"');<\/script> "+o(s(null!=a?a.disp_time:a,a))+' </a> </div> <div class="clearB"></div> </div> '+(null!=(i=t.if.call(r,null!=a?a.action:a,{name:"if",hash:{},fn:e.program(13,l,0),inverse:e.noop,data:l}))?i:"")+' </td> </tr> </table> </div> <div id="body" class="kso_footer_container"> '+(null!=(i=t.if.call(r,null!=a?a.title:a,{name:"if",hash:{},fn:e.program(15,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(r,null!=a?a.photo:a,{name:"if",hash:{},fn:e.program(17,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(r,null!=a?a.video:a,{name:"if",hash:{},fn:e.program(19,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(r,null!=a?a.article:a,{name:"if",hash:{},fn:e.program(21,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(r,null!=a?a.event:a,{name:"if",hash:{},fn:e.program(23,l,0),inverse:e.noop,data:l}))?i:"")+" </div> "+(null!=(i=t.if.call(r,null!=a?a.self:a,{name:"if",hash:{},fn:e.program(25,l,0),inverse:e.program(35,l,0),data:l}))?i:"")+" <div class='clearB'></div> </div> <div class='clearB'></div> </div> "},usePartial:!0,useData:!0}),a.gpPostDetail=e({1:function(e,a,t,n,l){var i;return' <i class="from mR10"> @'+e.escapeExpression(e.lambda(null!=(i=null!=a?a.user:a)?i.screen_name:i,a))+"</i> "},3:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <div class="mT10 pL60 clearFix"> '+(null!=(i=t.each.call(s,null!=(i=null!=a?a.selected_profile:a)?i.placesLived:i,{name:"each",hash:{},fn:e.program(4,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.each.call(s,null!=(i=null!=a?a.selected_profile:a)?i.organizations:i,{name:"each",hash:{},fn:e.program(7,l,0),inverse:e.noop,data:l}))?i:"")+" </div> "},4:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.pimary:a,{name:"if",hash:{},fn:e.program(5,l,0),inverse:e.noop,data:l}))?i:"")+" "},5:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <a class="zsoProfileInfoIcon zsoURLIcon fL ellipsistext mR20" href="'+s(i(null!=a?a.value:a,a))+'" target="_blank" onclick="sE(event);">'+s(i(null!=a?a.value:a,a))+"</a> "},7:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.primary:a,{name:"if",hash:{},fn:e.program(8,l,0),inverse:e.noop,data:l}))?i:"")+" "},8:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if_eq.call(null!=a?a:{},null!=a?a.type:a,"work",{name:"if_eq",hash:{},fn:e.program(9,l,0),inverse:e.noop,data:l}))?i:"")+" "},9:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.title:a,{name:"if",hash:{},fn:e.program(10,l,0),inverse:e.program(12,l,0),data:l}))?i:"")+" "},10:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <span class="zsoProfileInfoIcon zsoCompanyIcon fL ellipsistext mR20">'+s(i(null!=a?a.title:a,a))+", "+s(i(null!=a?a.name:a,a))+"</span> "},12:function(e,a,t,n,l){return' <span class="zsoProfileInfoIcon zsoCompanyIcon fL ellipsistext mR20">'+e.escapeExpression(e.lambda(null!=a?a.name:a,a))+"</span> "},14:function(e,a,t,n,l){var i;return' <div class="feed_detail_maincontant">'+(null!=(i=e.lambda(null!=a?a.title:a,a))?i:"")+"</div> "},16:function(e,a,t,n,l){var i;return' <div class="feed_detail_maincontant mt10"> <img src="'+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=a?a.photo:a)?i.image:i)?i.url:i,a))+'" class="contentimage" onload="crmSocial.setImageWidthHeightDetailView(this);"></img> </div> '},18:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <div class="feed_detail_maincontant mt10 cP" onclick="sE(event); window.open(\''+o(s(null!=(i=null!=a?a.video:a)?i.url:i,a))+'\',\'_newTab\');"> <div class="kso_sharedlink"> <img src="'+o(s(null!=(i=null!=(i=null!=a?a.video:a)?i.image:i)?i.url:i,a))+'" class="contentimage" onload="crmSocial.setImageWidthHeightDetailView(this);"></img> <div class="p15"> <div class="linkTitle">'+o(s(null!=(i=null!=a?a.video:a)?i.displayName:i,a))+'</div> <div class="linkDesc">'+o(s(null!=(i=null!=a?a.video:a)?i.content:i,a))+"</div> </div> </div> </div> "},20:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <div class="feed_detail_maincontant mt10 cP" onclick="sE(event); window.open(\''+o(s(null!=(i=null!=a?a.article:a)?i.url:i,a))+'\',\'_newTab\');"> <div class="kso_sharedlink"> <img src="'+o(s(null!=(i=null!=(i=null!=a?a.article:a)?i.image:i)?i.url:i,a))+'" class="contentimage fL mR20" onload="crmSocial.setImageWidthHeightDetailView(this);"></img> <div class="p15"> <div class="linkTitle">'+o(s(null!=(i=null!=a?a.article:a)?i.displayName:i,a))+'</div> </div> <div class="cB"></div> </div> </div> '},22:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <div class="feed_detail_maincontant mt10 cP" onclick="sE(event); window.open(\''+o(s(null!=(i=null!=a?a.event:a)?i.url:i,a))+'\',\'_newTab\');"> <div class="kso_sharedlink"> <div class="p15"> <div class="linkTitle">'+o(s(null!=(i=null!=a?a.event:a)?i.displayName:i,a))+'</div> <div class="linkCapt">'+o(s(null!=(i=null!=a?a.event:a)?i.content:i,a))+'</div> </div> <div class="cB"></div> </div> </div> '},24:function(e,a,t,n,l){return' <a href="javascript:void(0);" class="kso_fb_comment ksmalllink" onclick="$(this).closest(\'#feed_detail_inner_div\').find(\'#resp_box\').focus();"> '+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.nsocial.comment",{name:"getI18n",hash:{},data:l}))+" </a> "},26:function(e,a,t,n,l){var i;return' <div id="more_comments" class="grayBg4 p10 feedgrayborder feed_detail_like_more ksmalltxt">'+(null!=(i=e.lambda(null!=a?a.commentDiv:a,a))?i:"")+"</div> "},28:function(e,a,t,n,l){return' <div id="more_comments" class="grayBg4 p10 feedgrayborder feed_detail_like_more ksmalltxt dN"></div> '},30:function(e,a,t,n,l){var i;return" "+(null!=(i=t.each.call(null!=a?a:{},null!=(i=null!=(i=null!=a?a.object:a)?i.replies:i)?i.data:i,{name:"each",hash:{},fn:e.program(31,l,0),inverse:e.noop,data:l}))?i:"")+" "},31:function(e,a,t,n,l){var i;return" "+(null!=(i=e.invokePartial(n.CommentTemplate,a,{name:"CommentTemplate",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+" "},33:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression,o=null!=a?a:{};return' <div id="response" brid="'+s(i(null!=a?a.brid:a,a))+'" class="borTopED pA w100per botm0 newReply pL20"> <div class="fL w100per"> <div class="fL mR10 imgwth"> <img src="'+s(i(null!=a?a.br_img:a,a))+'" id="interaction_pic" class="kso_user_photo fL" title="'+s(i(null!=a?a.br_name:a,a))+'"> </div> <div class="fL txtwth"> <textarea id="resp_box" style="border:none" class="zso_twreplyBox fLimp w100p detailTextBox" placeholder="'+s(t.getI18n.call(o,"crm.nsocial.write.comment",{name:"getI18n",hash:{},data:l}))+'" onclick="sE(event);" onkeyup="crmSocial.showHideButton(this);" data-zcqa="gp_comment_box"></textarea> </div> <div class="fR btnwth mL10"> <button id="resp_button" style="opacity:0.5; width:80px" class="feedcommentbtn pR btnWth mT2 fR mR0 mL8" type="button" onclick="sE(event); crmSocial.comment(this, \'googleplus\');" disabled="disabled" data-zcqa="gp_comment_button"> <span class="repy">'+s(t.getI18n.call(o,"crm.nsocial.comment",{name:"getI18n",hash:{},data:l}))+'</span> <div class="socNewLoding"> <span></span><span></span><span></span> </div> </button> </div> </div> </div> '},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <div id="feed_detail_inner_div" class=\'heitInhert\' p_id="'+o(s(null!=a?a.id:a,a))+'" c_id="'+o(s(null!=a?a.comment_id:a,a))+'" t_id="'+o(s(null!=a?a.thread_id:a,a))+'" b_id="'+o(s(null!=a?a.brid:a,a))+'" pro_id="'+o(s(null!=(i=null!=a?a.actor:a)?i.id:i,a))+'" m_name="'+o(s(null!=(i=null!=a?a.actor:a)?i.module:i,a))+'" e_id="'+o(s(null!=(i=null!=a?a.actor:a)?i.entityid:i,a))+'"> <div class="pR heitInhert"> <div id="feed_detail_close" class="socialImgsvg dbBtnClose fR feed_detail_close r0" style="display: none;" onclick="crmSocial.feedDetailclose(this)"></div> <div id="kso_feed_hd" class="kso_feed_hd pT20 pR20 pL20 pB10"> <div class="pR10 fL clearFix"> <div class="pR dIB"> <img src="'+o(s(null!=(i=null!=(i=null!=a?a.selected_profile:a)?i.image:i)?i.url:i,a))+'" class="kso_user_photo cP" style="width: 48px; height: 48px" onclick="sE(event); window.open(\''+o(s(null!=(i=null!=a?a.selected_profile:a)?i.url:i,a))+'\', \'_blank\');" ></img> <span class="gpicon-small smallIconPosi"></span> </div> </div> <div> <a href="'+o(s(null!=(i=null!=a?a.selected_profile:a)?i.url:i,a))+'" target="_blank" class="whois" onclick="sE(event)">'+o(s(null!=(i=null!=a?a.selected_profile:a)?i.displayName:i,a))+"</a> "+(null!=(i=t.if.call(r,null!=(i=null!=a?a.user:a)?i.screen_name:i,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+' <div class="description" title="'+o(s(null!=(i=null!=a?a.selected_profile:a)?i.tagline:i,a))+'">'+o(s(null!=(i=null!=a?a.selected_profile:a)?i.tagline:i,a))+"</div> "+(null!=(i=t.if_either.call(r,null!=(i=null!=a?a.selected_profile:a)?i.placesLiveds:i,null!=(i=null!=a?a.selected_profile:a)?i.organizations:i,{name:"if_either",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l}))?i:"")+' </div> </div> <div id="feed_detail_head_outer" class="pR pT0 pL20 pR20"> <div id="feed_detail_head" class="pT20"> <table id="kso_feed_hd_1" cellpadding="0" cellspacing="0" width="100%" class="kso_feed_hd_1"> <tr> <td class="kso_photo_td"> <div class="pR"> <img src="'+o(s(null!=(i=null!=(i=null!=a?a.actor:a)?i.image:i)?i.url:i,a))+'" class="kso_user_photo cP" style="width: 48px; height: 48px" onclick="sE(event); window.open(\''+o(s(null!=(i=null!=a?a.actor:a)?i.url:i,a))+'\', \'_blank\');" ></img> <span class="gpicon-small smallIconPosi"></span> </div> </td> <td class="pL10" valign="top"> <div> <a href="'+o(s(null!=(i=null!=a?a.actor:a)?i.url:i,a))+'" target="_blank" class="whois">'+o(s(null!=(i=null!=a?a.actor:a)?i.displayName:i,a))+'</a> </div> <div> <a href="'+o(s(null!=a?a.url:a,a))+'" target="_blank" class="when" title="'+o(s(null!=a?a.title_time:a,a))+'">'+o(s(null!=a?a.disp_time:a,a))+"</a> </div> </td> </tr> </table> "+(null!=(i=t.if.call(r,null!=a?a.title:a,{name:"if",hash:{},fn:e.program(14,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(r,null!=a?a.photo:a,{name:"if",hash:{},fn:e.program(16,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(r,null!=a?a.video:a,{name:"if",hash:{},fn:e.program(18,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(r,null!=a?a.article:a,{name:"if",hash:{},fn:e.program(20,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(r,null!=a?a.event:a,{name:"if",hash:{},fn:e.program(22,l,0),inverse:e.noop,data:l}))?i:"")+' <div id="feed_detail_action" brid="'+o(s(null!=a?a.brid:a,a))+'" class="mt5 kso_action_Layer"> '+(null!=(i=t.if.call(r,null!=a?a.interact:a,{name:"if",hash:{},fn:e.program(24,l,0),inverse:e.noop,data:l}))?i:"")+' </div> <div id="feed_detail_convo" class="graybgf3f3 mT10"> '+(null!=(i=t.if.call(r,null!=a?a.commentDiv:a,{name:"if",hash:{},fn:e.program(26,l,0),inverse:e.program(28,l,0),data:l}))?i:"")+' <div id="comment_list"> '+(null!=(i=t.if.call(r,null!=(i=null!=a?a.object:a)?i.replies:i,{name:"if",hash:{},fn:e.program(30,l,0),inverse:e.noop,data:l}))?i:"")+" </div> </div> </div> </div> </div> "+(null!=(i=t.if.call(r,null!=a?a.interact:a,{name:"if",hash:{},fn:e.program(33,l,0),inverse:e.noop,data:l}))?i:"")+" </div> "},usePartial:!0,useData:!0}),a.mytimeline_header=e({1:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if_any_truthy.call(null!=a?a:{},null!=(i=null!=a?a.soc_config:a)?i.fb:i,null!=(i=null!=a?a.soc_config:a)?i.gp:i,{name:"if_any_truthy",hash:{},fn:e.program(2,l,0),inverse:e.program(4,l,0),data:l}))?i:"")+" "},2:function(e,a,t,n,l){return" "+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.nsocial.tab.compose.title",{name:"getI18n",hash:{},data:l}))+" "},4:function(e,a,t,n,l){return" "+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.nsocial.tab.compose.title.twonly",{name:"getI18n",hash:{},data:l}))+" "},6:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if_any_truthy.call(null!=a?a:{},null!=(i=null!=a?a.soc_config:a)?i.fb:i,null!=(i=null!=a?a.soc_config:a)?i.gp:i,{name:"if_any_truthy",hash:{},fn:e.program(7,l,0),inverse:e.noop,data:l}))?i:"")+" "},7:function(e,a,t,n,l){return" "+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.nsocial.tab.compose.title.fbonly",{name:"getI18n",hash:{},data:l}))+" "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return'<div id="my_timeline_head" class="h2 p15 m0 borderBottom posRel zI1"> <span> '+(null!=(i=t.if.call(s,null!=(i=null!=a?a.soc_config:a)?i.tw:i,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(6,l,0),data:l}))?i:"")+" </span> "+(null!=(i=e.invokePartial(n.composePin,null!=a?a.unpinTimelineStatus:a,{name:"composePin",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+' <img id="self_refresh" src="'+o(t.img_link.call(s,{name:"img_link",hash:{},data:l}))+'/spacer_e17b417_.gif" class="socialImgsvg social_refresh_icon cP fR mT7 mR7" onclick="crmSocial.loadMyFeeds(this);"> </div> <div id="parent_timeline_container" class="oH pR"> <div id="my_timeline_notification_banner" class="pA dN cP socialImg noti_banner" onclick="crmSocial.showNew(\'my_timeline\');">'+o(t.getI18n.call(s,"crm.nsocial.notification.updates",{name:"getI18n",hash:{},data:l}))+'</div> <div id="my_timeline_outer" class="pR"> <div id="my_timeline_inner" class="kso-comp-inner"> <ul id="my_timeline" style="margin: 0; padding: 0;"> <li class="aligncenter" style="cursor: default; padding-top: 150px;"> <img src="'+o(t.img_link.call(s,{name:"img_link",hash:{},data:l}))+'/spacer_e17b417_.gif" class="ks_loading_new" /> </li> </ul> <ul id="my_timeline_notification" class="dN"> <li id="noti_li" class="noti_li"> <span class="noti_demark_text">'+o(t.getI18n.call(s,"crm.nsocial.noti.streams.last.seen",{name:"getI18n",hash:{},data:l}))+'</span> <span class="noti_demark_line"></span> </li> </ul> </div> </div> </div> '},usePartial:!0,useData:!0}),a.searchKeywordList=e({compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <a id="search_list_'+s(i(null!=a?a.id:a,a))+'" href="javascript:void(0);" onclick="sE(event); crmSocial.goToColumn(\''+s(i(null!=a?a.id:a,a))+'\');" class="col-search dB p10 pR" data-zcqa="goto_search_column"> <span class="col-search-name">'+s(i(null!=a?a.key:a,a))+'</span> <span id="search_'+s(i(null!=a?a.id:a,a))+'_noti_count" class="highlight-count crm-font-regular" style="display: none"></span> <div class="searcListEdit"> <span class="socialImgsvg soc_editIcon" onclick="crmSocial.editColumn(\''+s(i(null!=a?a.id:a,a))+'\');" data-zcqa="edit_search"></span> <span class="socialImgsvg soc_delIcon mL10" onclick="event.stopPropagation();crmSocial.removeSearchKeyword(\''+s(i(null!=a?a.id:a,a))+'\');" data-zcqa="remove_search"></span> </div> </a> '},useData:!0}),a.selectedEntities=e({1:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <li id="'+s(i(null!=a?a.entity_id:a,a))+'_selected" class="search-choice-tag" entity_id="'+s(i(null!=a?a.entity_id:a,a))+'"> <span class="fL search-choice-cont" style="max-width: '+s(i(null!=a?a.width:a,a))+'"> <span> '+s(i(null!=a?a.entity_name:a,a))+' </span> <a href="javascript:void(0);" class="search-choice-close" onclick="crmSocial.removeSelectedEntity(this);" entity_id="'+s(i(null!=a?a.entity_id:a,a))+'" data-zcqa="remove_entity"></a> </span> </li> '},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i;return(null!=(i=t.each.call(null!=a?a:{},null!=a?a.entities:a,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+" "},useData:!0}),a.socialAccounts=e({1:function(e,a,t,n,l){return' <div id=\'allCheckBox\'> <a class="kso_fa check_id" id="fAll" onclick="crmSocial.newCheckBox(this);" data-zcqa="select_all"> <span class="kso_check_cover"> <label> <div class=\'pR\'> <i class=\'socialImgsvg zso_checkmark pA\'></i> </div> </label> </span> <label class=\'f14 crm-font-regular mL5\' for="all">'+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.label.all",{name:"getI18n",hash:{},data:l}))+"</label> </a> </div> "},3:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <h6 class="kso_head"> <label for="t">'+e.escapeExpression(t.getI18n.call(s,"crm.nsocial.title.twitter",{name:"getI18n",hash:{},data:l}))+'</label> </h6> <div id="twFilterOuter" class="pR"> <div id="twFilterInner"> '+(null!=(i=t.each.call(s,null!=a?a.twitter:a,{name:"each",hash:{},fn:e.program(4,l,0),inverse:e.noop,data:l}))?i:"")+" </div> </div> "},4:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <a href="javascript:void(0);" class="kso_fa count" onclick="crmSocial.newCheckBox(this);" data-zcqa="select_twitter"> <span class="kso_check_cover"> <label> <div class=\'pR\'> <i class=\'socialImgsvg zso_checkmark pA\' name="'+o(s(null!=a?a.brid:a,a))+'" id="'+o(s(null!=a?a.brid:a,a))+'" accId="'+o(s(null!=a?a.config_id:a,a))+'"></i> </div> </label> </span> <img src="'+o(s(null!=(i=null!=a?a.info:a)?i.profile_image_url_https:i,a))+'" class="kso_user_photo"> <label class=\'f14 crm-font-regular lH30 mL5\' for="'+o(s(null!=a?a.brid:a,a))+'">@'+o(s(null!=(i=null!=a?a.info:a)?i.screen_name:i,a))+"</label> </a> "},6:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <h6 class="kso_head"> <label for="f-facebook">'+e.escapeExpression(t.getI18n.call(s,"crm.nsocial.title.facebook",{name:"getI18n",hash:{},data:l}))+'</label> </h6> <div id="fbFilterOuter" class="pR"> <div id="fbFilterInner"> '+(null!=(i=t.each.call(s,null!=a?a.facebook:a,{name:"each",hash:{},fn:e.program(7,l,0),inverse:e.noop,data:l}))?i:"")+" </div> </div> "},7:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <a href="javascript:void(0);" class="kso_fa count" onclick="crmSocial.newCheckBox(this);" data-zcqa="select_facebook"> <span class="kso_check_cover"> <label> <div class=\'pR\'> <i class=\'socialImgsvg zso_checkmark pA\' name="'+o(s(null!=a?a.brid:a,a))+'" id="'+o(s(null!=a?a.brid:a,a))+'" accId="'+o(s(null!=a?a.config_id:a,a))+'"></i> </div> </label> </span> '+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.picture:a,{name:"if",hash:{},fn:e.program(8,l,0),inverse:e.program(10,l,0),data:l}))?i:"")+" <label class='f14 crm-font-regular lH30 mL5' for=\""+o(s(null!=a?a.brid:a,a))+'">'+o(s(null!=(i=null!=a?a.info:a)?i.name:i,a))+"</label> </a> "},8:function(e,a,t,n,l){return' <img src="'+e.escapeExpression(e.lambda(null!=a?a.picture:a,a))+'" class="kso_user_photo"> '},10:function(e,a,t,n,l){var i,s=e.escapeExpression;return' <img src="'+s(t.getRebrandKey.call(null!=a?a:{},"FB_GRAPH_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+s(e.lambda(null!=(i=null!=a?a.info:a)?i.id:i,a))+'/picture" class="kso_user_photo"> '},12:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <h6 class="kso_head"> <label>'+e.escapeExpression(t.getI18n.call(s,"crm.nsocial.title.gplus",{name:"getI18n",hash:{},data:l}))+'</label> </h6> <div id="gpFilterOuter" class="pR"> <div id="gpFilterInner"> '+(null!=(i=t.each.call(s,null!=a?a.googleplus:a,{name:"each",hash:{},fn:e.program(13,l,0),inverse:e.noop,data:l}))?i:"")+" </div> </div> "},13:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <a href="javascript:void(0);" class="kso_fa count" onclick="crmSocial.newCheckBox(this);" data-zcqa="select_gplus"> <span class="kso_check_cover"> <label> <div class=\'pR\'> <i class=\'socialImgsvg zso_checkmark pA\' name="'+o(s(null!=a?a.brid:a,a))+'" id="'+o(s(null!=a?a.brid:a,a))+'" accId="'+o(s(null!=a?a.config_id:a,a))+'"></i> </div> </label> </span> <img src="'+o(s(null!=(i=null!=(i=null!=(i=null!=a?a.info:a)?i.data:i)?i.image:i)?i.url:i,a))+'" class="kso_user_photo"> <label class=\'f14 crm-font-regular lH30 mL5\' for="'+o(s(null!=a?a.brid:a,a))+'">'+o(s(null!=(i=null!=(i=null!=a?a.info:a)?i.data:i)?i.displayName:i,a))+"</label> </a> "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <div class="ksp_menu sideMenu" id="kso_accounts_menu" style="display:none;" onclick="sE(event);"> <div class="p20"> '+(null!=(i=t.ifAll.call(s,a,"all",{name:"ifAll",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+" <div id='brandCheckBox'> "+(null!=(i=t.if.call(s,null!=a?a.twitter:a,{name:"if",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.facebook:a,{name:"if",hash:{},fn:e.program(6,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.googleplus:a,{name:"if",hash:{},fn:e.program(12,l,0),inverse:e.noop,data:l}))?i:"")+' </div> </div> <div id="saveFilter" class="saveCancelCol"> <button class="ks-greenbtn crm-font-bold mL15" onclick="crmSocial.getFeeds();" data-zcqa="apply_filter">'+o(t.getI18n.call(s,"crm.button.apply.filter",{name:"getI18n",hash:{},data:l}))+'</button> <button class="ks-graybtn crm-font-bold mL10" onclick="crmSocial.hideMenu();" data-zcqa="cancel_filter">'+o(t.getI18n.call(s,"crm.button.cancel",{name:"getI18n",hash:{},data:l}))+"</button> </div> </div> "},useData:!0}),a.socialFeedResponse=e({1:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.convo:a,{name:"if",hash:{},fn:e.program(2,l,0),inverse:e.program(4,l,0),data:l}))?i:"")+" "},2:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression,o=null!=a?a:{};return' <div> <img src="'+s(i(null!=a?a.img:a,a))+'" class="kso_user_photo fL" title="'+s(i(null!=a?a.name:a,a))+'" ></img> <div class="zskn_replaybox_outer"> <textarea id="resp_box" class="zskn_replybox fR" onclick="sE(event);" onkeyup="crmSocial.showHideButton(this);" placeholder="'+s(t.getI18n.call(o,"crm.nsocial.convo.reply",{name:"getI18n",hash:{},data:l}))+'" data-zcqa="tw_reply_box"></textarea> </div> <div> <div class="btnwth fR pB8 mT5"> <button id="resp_button" style="height:28px; width:65px; opacity:0.5;" class="feedcommentbtn mT2 pR fR mR0 mL8" value="'+s(t.getI18n.call(o,"crm.nsocial.reply",{name:"getI18n",hash:{},data:l}))+'" onclick="sE(event); crmSocial.replyToConvo(this, \'twitter\');" disabled="disabled" data-zcqa="tw_reply_button"> <span class="repy">'+s(t.getI18n.call(o,"crm.nsocial.reply",{name:"getI18n",hash:{},data:l}))+'</span> <div class="socNewLoding"><span></span><span></span><span></span></div> </button> </div> '},4:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression,o=null!=a?a:{};return' <div id="twt_img"> <img src="'+s(i(null!=a?a.img:a,a))+'" class="kso_user_photo fL" title="'+s(i(null!=a?a.name:a,a))+'" ></img> <div class="zskn_replaybox_outer"> <textarea id="resp_box" class="zskn_replybox" onclick="sE(event);" onkeydown="crmSocial.preventCursor(event);" onkeypress="crmSocial.preventDefaultChar(event);" onkeyup="crmSocial.showHideButton(this); crmSocial.processText(this);crmSocial.processTwitterSuggestion(this, event, $(this).val(),\'kanban\');" u_name="'+s(i(null!=a?a.screen_name:a,a))+'" data-zcqa="tw_reply_box">@'+s(i(null!=a?a.screen_name:a,a))+' </textarea> <div class="resp_box_bdr"></div> <div class="dN pR soc_compose_img fL" style="vertical-align: top"> <img id="soc_comment_img" width="80" height="80" ></img> <div class="posabs socialImgsvg soc_reply_close fR opc0" onclick="sE(event);crmSocial.removeImage(this);" data-zcqa="tw_remove_image"></div> <div class=\'sode_hover\' onclick="sE(event);"></div> </div> </div> </div> <div class="btnwth fR pB8 mT5"> <span id="twitter_limit" class="tw_limit">'+s(t.process.call(o,null!=a?a.screen_name:a,{name:"process",hash:{},data:l}))+'</span> <button id="resp_button" style="height:28px; width:65px; opacity:0.5;" class="feedcommentbtn mT2 pR fR mR0 mL8" value="'+s(t.getI18n.call(o,"crm.nsocial.reply",{name:"getI18n",hash:{},data:l}))+'" onclick="sE(event); crmSocial.reply(this, \'twitter\');" disabled="disabled" data-zcqa="tw_reply_button"> <span class="repy">'+s(t.getI18n.call(o,"crm.nsocial.reply",{name:"getI18n",hash:{},data:l}))+'</span> <div class="socNewLoding"><span></span><span></span><span></span></div> </button> <a class="img-option comp-image sodet_compose" href="javascript:;" data-id="image"> <input type="file" id="commentimage" accept="image/*" onclick="sE(event);" onchange="crmSocial.onImageSelected(event,this,\'twitter\');" data-zcqa="tw_attach_image" /> <span class="socialImgsvg ks-addimg fL"></span> </a> </div> '},6:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.convo:a,{name:"if",hash:{},fn:e.program(7,l,0),inverse:e.program(9,l,0),data:l}))?i:"")+" <div class='clearB'></div> "},7:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression,o=null!=a?a:{};return' <img src="'+s(i(null!=a?a.img:a,a))+'" class="kso_user_photo fL" title="'+s(i(null!=a?a.name:a,a))+'" ></img> <div class="zskn_replaybox_outer"> <textarea id="resp_box" class="zskn_replybox" placeholder="'+s(t.getI18n.call(o,"crm.nsocial.convo.reply",{name:"getI18n",hash:{},data:l}))+'" onclick="sE(event);" onkeyup="crmSocial.showHideButton(this);" data-zcqa="fb_reply_box"></textarea> </div> <div class="fR btnwth mL10"> <button id="resp_button" class="feedcommentbtn btnWth fR pR mR0 mT5" style="width:80px; opacity:0.5" value="'+s(t.getI18n.call(o,"crm.nsocial.reply",{name:"getI18n",hash:{},data:l}))+'" onclick="sE(event); crmSocial.replyToConvo(this, \'facebook\');" disabled="disabled" data-zcqa="fb_reply_button"> <span class="repy">'+s(t.getI18n.call(o,"crm.nsocial.reply",{name:"getI18n",hash:{},data:l}))+'</span> <div class="socNewLoding"><span></span><span></span><span></span></div> </button> </div> '},9:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.comment:a,{name:"if",hash:{},fn:e.program(10,l,0),inverse:e.program(15,l,0),data:l}))?i:"")+" "},10:function(e,a,t,n,l){var i,s=null!=a?a:{};return" "+(null!=(i=t.if.call(s,null!=a?a.detailViewPage:a,{name:"if",hash:{},fn:e.program(11,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.kanbanViewPage:a,{name:"if",hash:{},fn:e.program(13,l,0),inverse:e.noop,data:l}))?i:"")+" "},11:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression,o=null!=a?a:{};return' <img src="'+s(i(null!=a?a.img:a,a))+'" class="kso_user_photo fL" title="'+s(i(null!=a?a.name:a,a))+'" style= "padding-right: 10px;" ></img> <div class="zskn_replaybox_outer"> <textarea id="resp_box" class="zskn_replybox" placeholder="'+s(t.getI18n.call(o,"crm.nsocial.write.comment",{name:"getI18n",hash:{},data:l}))+'" onclick="sE(event);" onkeyup="crmSocial.showHideButton(this);" data-zcqa="fb_comment_box" ></textarea> </div> <div class="fL btnwth mL10 mT1"> <button id="resp_button" class="feedcommentbtn btnWth pR fR mR0" style="width:88px; opacity:0.5;" onclick="sE(event); crmSocial.replyToComment(this,\''+s(t.encodeJS.call(o,null!=a?a.comment_id:a,{name:"encodeJS",hash:{},data:l}))+'\',\'detail\');" disabled="disabled" data-zcqa="fb_comment_button"> <span class="repy">'+s(t.getI18n.call(o,"crm.nsocial.reply",{name:"getI18n",hash:{},data:l}))+'</span> <div class="socNewLoding"><span></span><span></span><span></span></div> </button> </div> '},13:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression,o=null!=a?a:{};return' <img src="'+s(i(null!=a?a.img:a,a))+'" class="kso_user_photo fL" title="'+s(i(null!=a?a.name:a,a))+'" style= "padding-right: 10px;" ></img> <div class="zskn_replaybox_outer"> <textarea id="resp_box" class="zskn_replybox" placeholder="'+s(t.getI18n.call(o,"crm.nsocial.write.comment",{name:"getI18n",hash:{},data:l}))+'" onclick="sE(event);" onkeyup="crmSocial.showHideButton(this);" data-zcqa="fb_comment_box" ></textarea> </div> <div class="fR btnwth mL10"> <button id="resp_button" class="feedcommentbtn btnWth pR fR mR0 mL10 mT5" style="width:88px; opacity:0.5;" onclick="sE(event); crmSocial.replyToComment(this,\''+s(t.encodeJS.call(o,null!=a?a.comment_id:a,{name:"encodeJS",hash:{},data:l}))+'\',\'kanban\');" disabled="disabled" data-zcqa="fb_comment_button"> <span class="repy">'+s(t.getI18n.call(o,"crm.nsocial.reply",{name:"getI18n",hash:{},data:l}))+'</span> <div class="socNewLoding"><span></span><span></span><span></span></div> </button> </div> '},15:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression,o=null!=a?a:{};return' <img src="'+s(i(null!=a?a.img:a,a))+'" class="kso_user_photo fL" title="'+s(i(null!=a?a.name:a,a))+'" ></img> <div class="zskn_replaybox_outer"> <textarea id="resp_box" class="zskn_replybox fL" placeholder="'+s(t.getI18n.call(o,"crm.nsocial.write.comment",{name:"getI18n",hash:{},data:l}))+'" onclick="sE(event);" onkeypress="crmSocial.preventDefaultChar(event);" onkeyup="crmSocial.showHideButton(this);" data-zcqa="fb_comment_box" ></textarea> <div class="resp_box_bdr"></div> <div class="dN pR soc_compose_img fL" style="vertical-align: top"> <img id="soc_comment_img" width="80" height="80" ></img> <div class="posabs socialImgsvg soc_reply_close fR opc0" onclick="sE(event);crmSocial.removeImage(this);" data-zcqa="fb_remove_image"></div> <div class=\'sode_hover\' onclick="sE(event);"></div> </div> </div> <div class="fR btnwth mL10"> <button id="resp_button" class="feedcommentbtn btnWth fR pR mR0 mL10 mT5" style="width:88px; opacity:0.5" onclick="sE(event); crmSocial.comment(this, \'facebook\');" disabled="disabled" data-zcqa="fb_comment_button"> <span class="repy">'+s(t.getI18n.call(o,"crm.nsocial.comment",{name:"getI18n",hash:{},data:l}))+'</span> <div class="socNewLoding"><span></span><span></span><span></span></div> </button> <a class="img-option comp-image sodet_compose" href="javascript:;" data-id="image"> <input type="file" id="commentimage" accept="image/*" onclick="sE(event);" onchange="crmSocial.onImageSelected(event,this,\'facebook\');" data-zcqa="fb_attach_image"> <span class="socialImgsvg ks-addimg fL"></span> </a> </div> '},17:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression,o=null!=a?a:{};return' <img src="'+s(i(null!=a?a.img:a,a))+'" class="kso_user_photo fL" title="'+s(i(null!=a?a.name:a,a))+'" ></img> <div class="zskn_replaybox_outer"> <textarea id="resp_box" class="zskn_replybox" placeholder="'+s(t.getI18n.call(o,"crm.nsocial.write.comment",{name:"getI18n",hash:{},data:l}))+'" onclick="sE(event);" onkeyup="crmSocial.showHideButton(this);" data-zcqa="gp_comment_box"></textarea> </div> <div class="fR btnwth mL10 mT10"> <button id="resp_button" style="width:80px; opacity:0.5;" class="feedcommentbtn pR btnWth mT2 fR mR0 mL8" type="button" onclick="sE(event); crmSocial.comment(this, \'googleplus\');" disabled="disabled" data-zcqa="gp_comment_button"> <span class="repy">'+s(t.getI18n.call(o,"crm.nsocial.comment",{name:"getI18n",hash:{},data:l}))+'</span> <div class="socNewLoding"><span></span><span></span><span></span></div> </button> </div> <div class="clearB"></div> '},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=null!=a?a:{};return(null!=(i=t.if.call(s,null!=a?a.twitter:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.facebook:a,{name:"if",hash:{},fn:e.program(6,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.googleplus:a,{name:"if",hash:{},fn:e.program(17,l,0),inverse:e.noop,data:l}))?i:"")+" "},useData:!0}),a.trackingNameList=e({compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <a id="tracking_'+s(i(null!=a?a.id:a,a))+'" class="col-search dB p10 pR" href="javascript:void(0);" onclick="sE(event); crmSocial.goToColumn(\''+s(i(null!=a?a.id:a,a))+"'); crmSocial.showNew('"+s(i(null!=a?a.id:a,a))+'\');" data-zcqa="go_to_filter"> <span class="col-search-name">'+s(i(null!=a?a.keyword:a,a))+'</span> <span id="tracking_'+s(i(null!=a?a.id:a,a))+'_noti_count" class="highlight-count crm-font-regular" style="display: none">0</span> </a> '},useData:!0}),a.twPost=e({1:function(e,a,t,n,l){var i;return" "+(null!=(i=t.socialMarkingInfo.call(null!=a?a:{},a,{name:"socialMarkingInfo",hash:{},data:l}))?i:"")+" "},3:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=(i=null!=a?a.user:a)?i.mark_lead:i,{name:"if",hash:{},fn:e.program(4,l,0),inverse:e.program(9,l,0),data:l}))?i:"")+" "},4:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=(i=null!=a?a.user:a)?i.mark_contact:i,{name:"if",hash:{},fn:e.program(5,l,0),inverse:e.program(7,l,0),data:l}))?i:"")+" "},5:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <a href="javascript:void(0);" class="mL5 kso_addto_span readOnlyMode" onclick="sE(event); crmSocialEntity.getProfileInfo(this, \''+o(t.encodeJS.call(s,null!=a?a.brid:a,{name:"encodeJS",hash:{},data:l}))+"', '"+o(t.encodeJS.call(s,null!=(i=null!=a?a.user:a)?i.id_str:i,{name:"encodeJS",hash:{},data:l}))+'\', \'twitter\');" data-zcqa="add_entity"> <span class="socAddLabel">+ '+o(t.getI18n.call(s,"crm.nsocial.setup.add",{name:"getI18n",hash:{},data:l}))+'</span> <span class="socAddLoading fR dN"> <span></span><span></span><span></span> </span> </a> <input type="hidden" value=\'{"modules":["Leads","Contacts"]}\' class="kso_unknown_conversion_permitted_modules" ></input> '},7:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <a href="javascript:void(0);" class="mL5 kso_addto_span readOnlyMode" onclick="sE(event); crmSocialEntity.getProfileInfo(this, \''+o(t.encodeJS.call(s,null!=a?a.brid:a,{name:"encodeJS",hash:{},data:l}))+"', '"+o(t.encodeJS.call(s,null!=(i=null!=a?a.user:a)?i.id_str:i,{name:"encodeJS",hash:{},data:l}))+'\', \'twitter\');" data-zcqa="add_entity"> <span class="socAddLabel">+ '+o(t.getI18n.call(s,"crm.nsocial.setup.add",{name:"getI18n",hash:{},data:l}))+'</span> <span class="socAddLoading fR dN"> <span></span><span></span><span></span> </span> </a> <input type="hidden" value=\'{"modules":["Leads"]}\' class="kso_unknown_conversion_permitted_modules" ></input> '},9:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=(i=null!=a?a.user:a)?i.mark_contact:i,{name:"if",hash:{},fn:e.program(10,l,0),inverse:e.program(12,l,0),data:l}))?i:"")+" "},10:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <a href="javascript:void(0);" class="mL5 kso_addto_span readOnlyMode" onclick="sE(event); crmSocialEntity.getProfileInfo(this, \''+o(t.encodeJS.call(s,null!=a?a.brid:a,{name:"encodeJS",hash:{},data:l}))+"', '"+o(t.encodeJS.call(s,null!=(i=null!=a?a.user:a)?i.id_str:i,{name:"encodeJS",hash:{},data:l}))+'\', \'twitter\');" data-zcqa="add_entity"> <span class="socAddLabel">+ '+o(t.getI18n.call(s,"crm.nsocial.setup.add",{name:"getI18n",hash:{},data:l}))+'</span> <span class="socAddLoading fR dN"> <span></span><span></span><span></span> </span> </a> <input type="hidden" value=\'{"modules":["Contacts"]}\' class="kso_unknown_conversion_permitted_modules" ></input> '},12:function(e,a,t,n,l){var i;return" "+(null!=(i=t.unless.call(null!=a?a:{},null!=a?a.search:a,{name:"unless",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+" "},14:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <a onclick="sE(event);" href="javascript:void(0);" class="when fR remove_ud cN" title="'+s(i(null!=a?a.title_time:a,a))+'" onclick="sE(event);"> <script type="text/javascript">onload=crmSocial.updateId(\''+s(t.findAndReplace.call(null!=a?a:{},null!=a?a.id_str:a,{name:"findAndReplace",hash:{},data:l}))+"', '"+s(i(null!=a?a.created_at:a,a))+"');<\/script> "+s(i(null!=a?a.disp_time:a,a))+" </a> "},16:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression,r=e.lambda;return' <a onclick="sE(event);" href="'+o(t.getRebrandKey.call(s,"TW_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(r(null!=(i=null!=a?a.user:a)?i.screen_name:i,a))+"/status/"+o(r(null!=a?a.retweet_id:a,a))+'" target="_blank" class="when fR remove_ud" title="'+o(r(null!=a?a.title_time:a,a))+'"> <script type="text/javascript">onload=crmSocial.updateId(\''+o(t.findAndReplace.call(s,null!=a?a.id_str:a,{name:"findAndReplace",hash:{},data:l}))+"', '"+o(r(null!=a?a.created_at:a,a))+"');<\/script> "+o(r(null!=a?a.disp_time:a,a))+" </a> "},18:function(e,a,t,n,l){var i;return' <div class="kso_logo_from pT3"> <span class="kso_from_text1">'+(null!=(i=e.lambda(null!=a?a.action:a,a))?i:"")+"</span> </div> "},20:function(e,a,t,n,l){var i;return" "+(null!=(i=t.each.call(null!=a?a:{},null!=(i=null!=a?a.entities:a)?i.media:i,{name:"each",hash:{},fn:e.program(21,l,0),inverse:e.noop,data:l}))?i:"")+" "},21:function(e,a,t,n,l){return' <div class="what mt10 pB5"> <img src="'+e.escapeExpression(e.lambda(null!=a?a.media_url_https:a,a))+'" class="contentimage" onload="crmSocial.setImageWidthHeight(this);"></img> </div> '},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <div class="kso_feed '+o(s(null!=a?a.network:a,a))+' pR"> <div class=\'kso_feed_inner w100per fL\'> <div id="head" class="kso_content_container"> <table cellpadding="0" cellspacing="0" width="100%"> <tr> <td class="kso_photo_td pR"> <img src="'+o(s(null!=(i=null!=a?a.user:a)?i.profile_image_url_https:i,a))+'" class="kso_user_photo cP" onerror="crmSocialUtil.getImageFromTwitter(this, \''+o(t.encodeJS.call(r,null!=(i=null!=a?a.user:a)?i.id_str:i,{name:"encodeJS",hash:{},data:l}))+"');\"\n\t\t\t\t\t\t\tonclick=\"sE(event); window.open('"+o(t.getRebrandKey.call(r,"TW_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(s(null!=(i=null!=a?a.user:a)?i.screen_name:i,a))+"', '_blank');\" /> <span class='twicon-small smallIconPosi T18'></span> </td> <td class=\"pL10\"> <div> <a onclick='sE(event);' href=\""+o(t.getRebrandKey.call(r,"TW_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(s(null!=(i=null!=a?a.user:a)?i.screen_name:i,a))+'" target="_blank" class="whois fL remove_ud">'+o(s(null!=(i=null!=a?a.user:a)?i.name:i,a))+"</a> "+(null!=(i=t.if.call(r,null!=a?a.search:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.unless.call(r,null!=a?a.newSearch:a,{name:"unless",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l}))?i:"")+' <div id="'+o(t.findAndReplace.call(r,null!=a?a.id_str:a,{name:"findAndReplace",hash:{},data:l}))+'"> '+(null!=(i=t.if.call(r,null!=a?a.convo:a,{name:"if",hash:{},fn:e.program(14,l,0),inverse:e.program(16,l,0),data:l}))?i:"")+' </div> <div class="clearB"></div> </div> '+(null!=(i=t.if.call(r,null!=a?a.action:a,{name:"if",hash:{},fn:e.program(18,l,0),inverse:e.noop,data:l}))?i:"")+' </td> </tr> </table> </div> <div id="body" class="kso_footer_container"> <div class="what mt15 pB5">'+(null!=(i=s(null!=a?a.text:a,a))?i:"")+"</div> "+(null!=(i=t.if.call(r,null!=(i=null!=a?a.entities:a)?i.media:i,{name:"if",hash:{},fn:e.program(20,l,0),inverse:e.noop,data:l}))?i:"")+" </div> "+(null!=(i=e.invokePartial(n.twPostActions,a,{name:"twPostActions",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+" </div> <div class='clearB'></div> </div> "},usePartial:!0,useData:!0}),a.twPostActions=e({1:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.interact:a,{name:"if",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l}))?i:"")+" "},2:function(e,a,t,n,l){return' <a class="kso_twReply fL" href="javascript:void(0)" onclick="sE(event); crmSocial.toggleResponse(this, \'twitter\', \''+e.escapeExpression(e.lambda(null!=a?a.convo:a,a))+'\');" data-zcqa="toggle_tw_reply"> <span class="socialImgsvg"></span> </a> '},4:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.lambda,r=e.escapeExpression;return" "+(null!=(i=t.if.call(s,null!=a?a.interact:a,{name:"if",hash:{},fn:e.program(5,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.favorited:a,{name:"if",hash:{},fn:e.program(14,l,0),inverse:e.program(16,l,0),data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.retweeted:a,{name:"if",hash:{},fn:e.program(18,l,0),inverse:e.program(20,l,0),data:l}))?i:"")+' <input type="hidden" id="info" retweeted="'+r(o(null!=a?a.retweeted:a,a))+'" favorited="'+r(o(null!=a?a.favorited:a,a))+'" ></input> '},5:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <a class="kso_twReply fL" href="javascript:void(0)" onclick="sE(event); crmSocial.toggleResponse(this, \'twitter\', \''+e.escapeExpression(e.lambda(null!=a?a.convo:a,a))+'\');" data-zcqa="toggle_tw_reply"> <span class="socialImgsvg"></span> </a> '+(null!=(i=t.if.call(s,null!=a?a.retweeted:a,{name:"if",hash:{},fn:e.program(6,l,0),inverse:e.program(8,l,0),data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.favorited:a,{name:"if",hash:{},fn:e.program(10,l,0),inverse:e.program(12,l,0),data:l}))?i:"")+" "},6:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <a id="retweet" class="kso_twRetweeted fL mL15"  href="javascript:void(0)" deletable="'+s(i(null!=a?a.deletable:a,a))+'" retweetid="'+s(i(null!=a?a.retweet_id:a,a))+'"> <span class="socialImgsvg" onclick="sE(event); crmSocial.showQuoteTweet(this, \''+s(i(null!=a?a.id_str:a,a))+"','"+s(i(null!=a?a.brid:a,a))+'\',\'tab\');" data-zcqa="retweet"></span> <span class="fR mL3" style="font-size: 14px">'+s(t.notEqualsZero.call(null!=a?a:{},null!=a?a.retweet_count:a,{name:"notEqualsZero",hash:{},data:l}))+"</span> </a> "},8:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <a id="retweet" class="kso_twRetweet fL mL15" href="javascript:void(0)" deletable="'+s(i(null!=a?a.deletable:a,a))+'" retweetid="'+s(i(null!=a?a.retweet_id:a,a))+'"> <span class="socialImgsvg" onclick="sE(event); crmSocial.showQuoteTweet(this, \''+s(i(null!=a?a.id_str:a,a))+"','"+s(i(null!=a?a.brid:a,a))+'\',\'tab\');" data-zcqa="retweet"></span> <span class="fR mL3" style="font-size: 14px">'+s(t.notEqualsZero.call(null!=a?a:{},null!=a?a.retweet_count:a,{name:"notEqualsZero",hash:{},data:l}))+"</span> </a> "},10:function(e,a,t,n,l){return' <a id="favorite" class="kso_twFavorited fL mL15" href="javascript:void(0)" onclick="sE(event); crmSocial.favorite(this);" data-zcqa="favorite"> <span class="socialImgsvg"></span> <span class="fR mL3" style="font-size: 14px">'+e.escapeExpression(t.notEqualsZero.call(null!=a?a:{},null!=a?a.favorite_count:a,{name:"notEqualsZero",hash:{},data:l}))+"</span> </a> "},12:function(e,a,t,n,l){return' <a id="favorite" class="kso_twFavorite fL mL15" href="javascript:void(0)" onclick="sE(event); crmSocial.favorite(this);" data-zcqa="favorite"> <span class="socialImgsvg"></span> <span class="fR mL3" style="font-size: 14px">'+e.escapeExpression(t.notEqualsZero.call(null!=a?a:{},null!=a?a.favorite_count:a,{name:"notEqualsZero",hash:{},data:l}))+"</span> </a> "},14:function(e,a,t,n,l){return' <a class="kso_twFavoritedShow fR mL15" href="javascript:void(0)" onclick="sE(event);"> <span class="socialImgsvg"></span> </a> '},16:function(e,a,t,n,l){return' <a class="kso_twFavoritedShow dN fR mL15" href="javascript:void(0)" onclick="sE(event);"> <span class="socialImgsvg"></span> </a> '},18:function(e,a,t,n,l){return' <a class="kso_twRetweetedShow fR mL15" href="javascript:void(0)" onclick="sE(event);"> <span class="socialImgsvg"></span> </a> '},20:function(e,a,t,n,l){return' <a class="kso_twRetweetedShow dN fR mL15" href="javascript:void(0)" onclick="sE(event);"> <span class="socialImgsvg"></span> </a> '},22:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <div id="interactions"> '+(null!=(i=t.if.call(s,null!=a?a.replyDiv:a,{name:"if",hash:{},fn:e.program(23,l,0),inverse:e.noop,data:l}))?i:"")+' <div id="reply_list" class="grayBg4"> '+(null!=(i=t.if.call(s,null!=a?a.replies:a,{name:"if",hash:{},fn:e.program(25,l,0),inverse:e.noop,data:l}))?i:"")+" </div> </div> "},23:function(e,a,t,n,l){var i;return' <div id="more_replies" class="grayBg4 p10 feedgrayborder feed_detail_like_more ksmalltxt">'+(null!=(i=e.lambda(null!=a?a.replyDiv:a,a))?i:"")+"</div> "},25:function(e,a,t,n,l){var i;return" "+(null!=(i=t.each.call(null!=a?a:{},null!=(i=null!=a?a.replies:a)?i.data:i,{name:"each",hash:{},fn:e.program(26,l,0),inverse:e.noop,data:l}))?i:"")+" "},26:function(e,a,t,n,l){var i;return" "+(null!=(i=e.invokePartial(n.ReplyList,a,{name:"ReplyList",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+" "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <div id="action" brid="'+e.escapeExpression(e.lambda(null!=a?a.brid:a,a))+'" class="kso_action_Layer pB10 dIB cB w100per"> '+(null!=(i=t.if.call(s,null!=a?a.convo:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(4,l,0),data:l}))?i:"")+" </div> "+(null!=(i=t.if.call(s,null!=a?a.self:a,{name:"if",hash:{},fn:e.program(22,l,0),inverse:e.noop,data:l}))?i:"")+' <div id="response" class="w100per fL" style="display: none"></div> <div class="clearB"></div>'},usePartial:!0,useData:!0}),a.twPostDetail=e({1:function(e,a,t,n,l){var i;return' <i class="from mR10"> @'+e.escapeExpression(e.lambda(null!=(i=null!=a?a.user:a)?i.screen_name:i,a))+"</i> "},3:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=(i=null!=a?a.user:a)?i.follow_request_sent:i,{name:"if",hash:{},fn:e.program(4,l,0),inverse:e.program(6,l,0),data:l}))?i:"")+" "},4:function(e,a,t,n,l){return' <span class="profileFollow">'+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.tw.label.pending",{name:"getI18n",hash:{},data:l}))+"</span> "},6:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=(i=null!=a?a.user:a)?i.following:i,{name:"if",hash:{},fn:e.program(7,l,0),inverse:e.program(12,l,0),data:l}))?i:"")+" "},7:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <span class="profileFollow" data-zcqa="social_twitter_follow" onmouseover="$(this).html(\''+o(t.getI18n.call(s,"crm.tw.label.unfollow",{name:"getI18n",hash:{},data:l}))+"').css('color', '#ababab');\" onmouseout=\"$(this).html('"+o(t.getI18n.call(s,"crm.tw.label.following",{name:"getI18n",hash:{},data:l}))+"').css('color', '#3a7cab');\" data-zcqa=\"folow\" "+(null!=(i=t.if.call(s,null!=(i=null!=a?a.user:a)?i.protected:i,{name:"if",hash:{},fn:e.program(8,l,0),inverse:e.program(10,l,0),data:l}))?i:"")+" "+o(t.getI18n.call(s,"crm.tw.label.following",{name:"getI18n",hash:{},data:l}))+" </span> "},8:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return" onclick=\"crmSocial.unfollow(this, '"+o(s(null!=a?a.brid:a,a))+"', '"+o(s(null!=(i=null!=a?a.user:a)?i.id:i,a))+"', true); sE(event);\"> "},10:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return" onclick=\"crmSocial.unfollow(this, '"+o(s(null!=a?a.brid:a,a))+"', '"+o(s(null!=(i=null!=a?a.user:a)?i.id:i,a))+"', false); sE(event);\"> "},12:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <span class="profileFollow" data-zcqa="social_twitter_follow" data-zcqa="follow" '+(null!=(i=t.if.call(s,null!=(i=null!=a?a.user:a)?i.protected:i,{name:"if",hash:{},fn:e.program(13,l,0),inverse:e.program(15,l,0),data:l}))?i:"")+" "+e.escapeExpression(t.getI18n.call(s,"crm.tw.label.follow",{name:"getI18n",hash:{},data:l}))+" </span> "},13:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return" onclick=\"crmSocial.follow(this, '"+o(s(null!=a?a.brid:a,a))+"', '"+o(s(null!=(i=null!=a?a.user:a)?i.id:i,a))+"', true); sE(event);\"> "},15:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return" onclick=\"crmSocial.follow(this, '"+o(s(null!=a?a.brid:a,a))+"', '"+o(s(null!=(i=null!=a?a.user:a)?i.id:i,a))+"', false); sE(event);\"> "},17:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.singleUserFollowing:a,{name:"if",hash:{},fn:e.program(18,l,0),inverse:e.program(20,l,0),data:l}))?i:"")+' <span class="followArrow socialImgsvg cP" data-zcqa="social_twitter_follow_toggle" onclick="$(\'#folwHandle\').toggle(); sE(event);" data-zcqa="follow_toggle"></span> '},18:function(e,a,t,n,l){return' <span id="twFollowDetail" class="profileFollow" data-zcqa="social_twitter_follow_status" onclick="crmSocial.followHandle(this);sE(event);" data-zcqa="follow">'+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.tw.label.following",{name:"getI18n",hash:{},data:l}))+"</span> "},20:function(e,a,t,n,l){return' <span id="twFollowDetail" class="profileFollow" data-zcqa="social_twitter_follow_status" onclick="crmSocial.followHandle(this);sE(event);" data-zcqa="follow">'+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.tw.label.follow",{name:"getI18n",hash:{},data:l}))+"</span> "},22:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <div class="mT10 pL60 clearFix"> '+(null!=(i=t.if.call(s,null!=(i=null!=a?a.user:a)?i.location:i,{name:"if",hash:{},fn:e.program(23,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=(i=null!=a?a.user:a)?i.url:i,{name:"if",hash:{},fn:e.program(25,l,0),inverse:e.noop,data:l}))?i:"")+" </div> "},23:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <span class="zsoProfileInfoIcon zsoLocationIcon fL ellipsistext mR20" title="'+o(s(null!=(i=null!=a?a.user:a)?i.location:i,a))+'">'+o(s(null!=(i=null!=a?a.user:a)?i.location:i,a))+"</span> "},25:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <a class="zsoProfileInfoIcon zsoURLIcon fL ellipsistext mR20" href="'+o(s(null!=(i=null!=a?a.user:a)?i.url:i,a))+'" target="_blank" onclick="sE(event);">'+o(s(null!=(i=null!=a?a.user:a)?i.url:i,a))+"</a> "},27:function(e,a,t,n,l){var i,s=null!=a?a:{};return" "+(null!=(i=t.ifNotEquals.call(s,null!=(i=null!=a?a.user:a)?i.id_str:i,null!=a?a.watching_profile_id:a,{name:"ifNotEquals",hash:{},fn:e.program(28,l,0),inverse:e.noop,data:l}))?i:"")+' <a id="soc_sndtwt" class="newwhitebtn fR mT10" onclick="crmSocial.sendTweet(this);" data-zcqa="sent_tweet"> <span class="socFeedsIcon socDM cP mR5 dIB vam mB1 mT_3"></span><span class="vam">'+e.escapeExpression(t.getI18n.call(s,"crm.tw.button.label.tweet",{name:"getI18n",hash:{},data:l}))+"</span> </a> "},28:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=(i=null!=(i=null!=a?a.currentBrand:a)?i.source:i)?i.can_dm:i,{name:"if",hash:{},fn:e.program(29,l,0),inverse:e.program(33,l,0),data:l}))?i:"")+" "},29:function(e,a,t,n,l){var i;return" "+(null!=(i=t.unless.call(null!=a?a:{},null!=a?a.convo:a,{name:"unless",hash:{},fn:e.program(30,l,0),inverse:e.noop,data:l}))?i:"")+" "},30:function(e,a,t,n,l){var i;return" "+(null!=(i=t.unless.call(null!=a?a:{},null!=a?a.mulitpleHanldeDm:a,{name:"unless",hash:{},fn:e.program(31,l,0),inverse:e.program(31,l,0),data:l}))?i:"")+" "},31:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <a id="soc_dirmsg" class="newwhitebtn fR mT10 mR0" data-zcqa="social_twitter_direct_msg" onclick="crmSocial.directMsg(this, \''+o(s(null!=(i=null!=a?a.user:a)?i.id_str:i,a))+"_"+o(s(null!=a?a.watching_profile_id:a,a))+"', '"+o(s(null!=a?a.brid:a,a))+'\');" data-zcqa="send_dm"> <span class="socFeedsIcon socTweet cP mR5 dIB vam"></span><span class="vam">'+o(t.getI18n.call(null!=a?a:{},"crm.nsocial.direct.message",{name:"getI18n",hash:{},data:l}))+"</span> </a> "},33:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.dmHandle:a,{name:"if",hash:{},fn:e.program(31,l,0),inverse:e.noop,data:l}))?i:"")+" "},35:function(e,a,t,n,l){return' <tr> <td colspan="3" class="directMsgcont" id="directMsgcont"> <div id="directMsgoutercont" class="pR"><div id="directMsginnercont"></div></div> </td> </tr> '},37:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <tr> <td class="w30 p0 pB10 vat"><img src="'+o(s(null!=(i=null!=(i=null!=a?a.currentBrand:a)?i.source:i)?i.profile_image_url_https:i,a))+'" class="smhandleImg"></td> <td class="f13 color_3 pL20 vat">'+o(s(null!=(i=null!=(i=null!=a?a.currentBrand:a)?i.source:i)?i.screen_name:i,a))+'</td> <td class="w75 vat"> '+(null!=(i=t.if.call(null!=a?a:{},null!=(i=null!=(i=null!=a?a.currentBrand:a)?i.source:i)?i.following:i,{name:"if",hash:{},fn:e.program(38,l,0),inverse:e.program(43,l,0),data:l}))?i:"")+" </td> </tr> "},38:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <span class="selTick socialImgsvg"></span> <span class="profileFollow fR f13 crm-font-regular" onmouseover="$(this).html(\''+o(t.getI18n.call(s,"crm.tw.label.unfollow",{name:"getI18n",hash:{},data:l}))+"').css('color', '#ababab');$(this).prev().hide()\" onmouseout=\"$(this).html('"+o(t.getI18n.call(s,"crm.tw.label.following",{name:"getI18n",hash:{},data:l}))+"').css('color', '#3a7cab');$(this).prev().show()\" data-zcqa=\"follow\" "+(null!=(i=t.if.call(s,null!=(i=null!=a?a.user:a)?i.protected:i,{name:"if",hash:{},fn:e.program(39,l,0),inverse:e.program(41,l,0),data:l}))?i:"")+" "+o(t.getI18n.call(s,"crm.tw.label.following",{name:"getI18n",hash:{},data:l}))+" </span> "},39:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return" onclick=\"crmSocial.unfollow(this, '"+o(s(null!=(i=null!=a?a.currentBrand:a)?i.brid:i,a))+"', '"+o(s(null!=(i=null!=(i=null!=a?a.currentBrand:a)?i.target:i)?i.id:i,a))+"', true);sE(event);\"> "},41:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return" onclick=\"crmSocial.unfollow(this, '"+o(s(null!=(i=null!=a?a.currentBrand:a)?i.brid:i,a))+"', '"+o(s(null!=(i=null!=(i=null!=a?a.currentBrand:a)?i.target:i)?i.id:i,a))+"', false);sE(event);\"> "},43:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <span class="socialImgsvg"></span> <span class="profileFollow fR f13 crm-font-regular" data-zcqa="follow" '+(null!=(i=t.if.call(s,null!=(i=null!=a?a.user:a)?i.protected:i,{name:"if",hash:{},fn:e.program(44,l,0),inverse:e.program(46,l,0),data:l}))?i:"")+" "+e.escapeExpression(t.getI18n.call(s,"crm.tw.label.follow",{name:"getI18n",hash:{},data:l}))+" </span> "},44:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return" onclick=\"crmSocial.follow(this, '"+o(s(null!=(i=null!=a?a.currentBrand:a)?i.brid:i,a))+"', '"+o(s(null!=(i=null!=(i=null!=a?a.currentBrand:a)?i.target:i)?i.id:i,a))+"', true);sE(event);\"> "},46:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return" onclick=\"crmSocial.follow(this, '"+o(s(null!=(i=null!=a?a.currentBrand:a)?i.brid:i,a))+"', '"+o(s(null!=(i=null!=(i=null!=a?a.currentBrand:a)?i.target:i)?i.id:i,a))+"', false);sE(event);\"> "},48:function(e,a,t,n,l){var i;return" "+(null!=(i=t.each.call(null!=a?a:{},null!=a?a.followInformation:a,{name:"each",hash:{},fn:e.program(49,l,0),inverse:e.noop,data:l}))?i:"")+" "},49:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <tr> <td class="w30 vat p0 pB10"><img src="'+o(s(null!=(i=null!=a?a.source:a)?i.profile_image_url_https:i,a))+'" class="smhandleImg"></td> <td class="f13 vat color_3 pL20">'+o(s(null!=(i=null!=a?a.source:a)?i.screen_name:i,a))+'</td> <td class="w70 vat"> '+(null!=(i=t.if.call(null!=a?a:{},null!=(i=null!=a?a.source:a)?i.following:i,{name:"if",hash:{},fn:e.program(50,l,0),inverse:e.program(55,l,0),data:l}))?i:"")+" </td> </tr> "},50:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <span class="selTick socialImgsvg"></span> <span class="profileFollow fR f13 crm-font-regular" onmouseover="$(this).html(\''+o(t.getI18n.call(s,"crm.tw.label.unfollow",{name:"getI18n",hash:{},data:l}))+"').css('color', '#ababab');$(this).prev().hide()\" onmouseout=\"$(this).html('"+o(t.getI18n.call(s,"crm.tw.label.following",{name:"getI18n",hash:{},data:l}))+"').css('color', '#3a7cab');$(this).prev().show()\" data-zcqa=\"follow\" "+(null!=(i=t.if.call(s,null!=(i=null!=a?a.user:a)?i.protected:i,{name:"if",hash:{},fn:e.program(51,l,0),inverse:e.program(53,l,0),data:l}))?i:"")+" "+o(t.getI18n.call(s,"crm.tw.label.following",{name:"getI18n",hash:{},data:l}))+" </span> "},51:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return" onclick=\"crmSocial.unfollow(this, '"+o(s(null!=a?a.brid:a,a))+"', '"+o(s(null!=(i=null!=a?a.target:a)?i.id:i,a))+"', true);sE(event);\"> "},53:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return" onclick=\"crmSocial.unfollow(this, '"+o(s(null!=a?a.brid:a,a))+"', '"+o(s(null!=(i=null!=a?a.target:a)?i.id:i,a))+"', false);sE(event);\"> "},55:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <span class="socialImgsvg"></span> <span class="profileFollow fR f13 crm-font-regular" data-zcqa="follow" '+(null!=(i=t.if.call(s,null!=(i=null!=a?a.user:a)?i.protected:i,{name:"if",hash:{},fn:e.program(56,l,0),inverse:e.program(58,l,0),data:l}))?i:"")+" "+e.escapeExpression(t.getI18n.call(s,"crm.tw.label.follow",{name:"getI18n",hash:{},data:l}))+" </span> "},56:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return" onclick=\"crmSocial.follow(this, '"+o(s(null!=a?a.brid:a,a))+"', '"+o(s(null!=(i=null!=a?a.target:a)?i.id:i,a))+"', true);sE(event);\"> "},58:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return" onclick=\"crmSocial.follow(this, '"+o(s(null!=a?a.brid:a,a))+"', '"+o(s(null!=(i=null!=a?a.target:a)?i.id:i,a))+"', false);sE(event);\"> "},60:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression,r=e.lambda;return' <div id="dmHandle" class="dmHandle pA dN"> <table cellpadding="0" cellspacing="0" width="100%"> '+(null!=(i=t.if.call(s,null!=a?a.currentBrand:a,{name:"if",hash:{},fn:e.program(61,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.followInformation:a,{name:"if",hash:{},fn:e.program(67,l,0),inverse:e.noop,data:l}))?i:"")+' </table> </div> <div id="twHandle" class="twHandle pA dN"> <table cellpadding="0" cellspacing="0" width="100%"> '+(null!=(i=t.if.call(s,null!=a?a.currentBrand:a,{name:"if",hash:{},fn:e.program(71,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.followInformation:a,{name:"if",hash:{},fn:e.program(73,l,0),inverse:e.noop,data:l}))?i:"")+' </table> </div> <div id="dmsection" class="dmsection dN pA"> <div class="directMessage boxsizbb" id="directMessage"> <div class="aligncenter dmLoading dN" id="dmLoad"><img src="'+o(t.getCrmImageUrl.call(s,"spacer_e17b417_.gif",{name:"getCrmImageUrl",hash:{},data:l}))+'" class="ks_loading_new pA" style="z-index: 11;"></div> <div class="pA dmClose"> <span class="socialImgsvg socBtnClose fR" onclick="crmSocial.directMsg(this,\''+o(r(null!=(i=null!=a?a.user:a)?i.id_str:i,a))+"_"+o(r(null!=a?a.watching_profile_id:a,a))+"','"+o(r(null!=a?a.brid:a,a))+'\')" style="margin: 7px;" data-zcqa="dm"></span> </div> <div id="dmConvoOuter" class="dmConvo bgwit pR"> <div id="dmConvoInner" class="dmConvoInner"></div> </div> <div id="dmAction" class="dmAction bgwit"> <div id="response" brid="'+o(r(null!=a?a.brid:a,a))+'" class="borTopED w100per newReply"> <div class="fL w100per"> <div id="twt_img_dm" class="fL mR10 imgwth pR dMres"> '+(null!=(i=t.if.call(s,null!=(i=null!=(i=null!=a?a.currentBrand:a)?i.source:i)?i.can_dm:i,{name:"if",hash:{},fn:e.program(76,l,0),inverse:e.program(78,l,0),data:l}))?i:"")+" "+(null!=(i=t.unless.call(s,null!=a?a.singleBrand:a,{name:"unless",hash:{},fn:e.program(81,l,0),inverse:e.noop,data:l}))?i:"")+' </div> <div class="fL txtwth"> <textarea data-zcqa="social_twitter_direct_text" id="resp_box" style="border: none" class="zso_twreplyBox detailTextBox fLimp" placeholder="'+o(t.getI18n.call(s,"crm.nsocial.convo.reply",{name:"getI18n",hash:{},data:l}))+'" onclick="sE(event);" onkeyup="crmSocial.showHideButton(this);" onfocus="$(\'#dmHandle\').hide();" ></textarea> </div> <div class="fR btnwth"> <button data-zcqa="social_twitter_direct_button" id="resp_button" style="opacity:0.5; height:28px; width:65px" class="feedcommentbtn mT2 pR fR mR0 mL8" value="'+o(t.getI18n.call(s,"crm.nsocial.reply",{name:"getI18n",hash:{},data:l}))+'" onclick="sE(event); crmSocial.replyToConvoInDetail(this,\'twitter\');" disabled="disabled"> <span class="repy">'+o(t.getI18n.call(s,"crm.nsocial.reply",{name:"getI18n",hash:{},data:l}))+'</span> <div class="socNewLoding"><span></span><span></span><span></span></div> </button> </div> </div> <div class=\'clearB\'></div> </div> </div> </div> <div class="sendTweetcont boxsizbb pA" id="sendTweetcont" style="display: none"> <div id="sndtweetOuter" brid="'+o(r(null!=a?a.brid:a,a))+'" class="pL0 pR0"> <div class="fL w100per sndtweetInner pT10" id="sndtweetInner"> <div id="twt_img" class="fL mR15 pR sTres"> <img src="'+o(r(null!=a?a.br_img:a,a))+'" class="kso_user_photo fL " title="'+o(r(null!=a?a.br_name:a,a))+'" ></img> '+(null!=(i=t.unless.call(s,null!=a?a.singleBrand:a,{name:"unless",hash:{},fn:e.program(84,l,0),inverse:e.noop,data:l}))?i:"")+' </div> <div class="fL pR pT6" id="twt_textwid"> <textarea data-zcqa="social_twitter_tweet_text" id="text_to_be_posted" style="border:none; height: inherit;height:86px;" class="zso_twreplyBox w100p detailTextBox fLimp p0" onclick="sE(event);" onkeypress="crmSocial.preventDefaultChar(event);" onkeydown="crmSocial.preventCursor(event);" onkeyup="crmSocial.showHideButton(this); crmSocial.dmProcessText(this);crmSocial.processTwitterSuggestion(this, event, $(this).val());" onfocus="$(\'#twHandle\').hide();" u_name="'+o(r(null!=(i=null!=a?a.user:a)?i.screen_name:i,a))+'">@'+o(r(null!=(i=null!=a?a.user:a)?i.screen_name:i,a))+'</textarea> </div> <div class="pR soc_compose_img fL dN" style="vertical-align: top; margin-top: 7px;"> <img id="soc_tw_detail_img" width="80" height="80" ></img> <div class="posabs socialImgsvg soc_reply_close fR opc0" onclick="sE(event); crmSocial.removeImage(this,\'Twdetail\');" data-zcqa="remove_tw_image"></div> <div class="sode_hover" onclick="sE(event);"></div> </div> </div> <div class=\'clearB\'></div> </div> <div class="detail_twit_action"> <div class="fR pT12 pB12 pR20"> <div class="fR" id="twt_btn"> <div id="twitter_limit" class="tw_limit mL10">'+o(t.process.call(s,null!=(i=null!=a?a.user:a)?i.screen_name:i,{name:"process",hash:{},data:l}))+'</div> <button data-zcqa="social_twitter_tweet_button" id="cancelBtn" class="ks-graybtn mR5 mL10" onclick="sE(event); crmSocial.sendTweet();">'+o(t.getI18n.call(s,"crm.button.cancel",{name:"getI18n",hash:{},data:l}))+'</button> <button data-zcqa="social_twitter_tweetcn_button" id="resp_button" class="ks-greenbtn" style="opacity: 0.5;" onclick="crmSocial.postTweet(this,\''+o(r(null!=a?a.brid:a,a))+"');\">"+o(t.getI18n.call(s,"crm.button.post",{name:"getI18n",hash:{},data:l}))+'</button> </div> </div> <a class="img-option comp-image sodet_compose fLimp" href="javascript:;" data-id="image"> <input type="file" id="commentimage" accept="image/*" onchange="crmSocial.onImageSelected(event,this,\'twitter\',\'Twdetail\');" data-zcqa="add_tw_image" /> <span class="socialImgsvg ks-addimg fL"></span> </a> <div class="clearB"></div> </div> </div> </div> '},61:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=(i=null!=(i=null!=a?a.currentBrand:a)?i.source:i)?i.can_dm:i,{name:"if",hash:{},fn:e.program(62,l,0),inverse:e.program(64,l,0),data:l}))?i:"")+" "},62:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <tr onclick="crmSocial.changeTwHandle(this, \'DM\');" t_id="'+o(s(null!=(i=null!=(i=null!=a?a.currentBrand:a)?i.target:i)?i.id_str:i,a))+"_"+o(s(null!=(i=null!=(i=null!=a?a.currentBrand:a)?i.source:i)?i.id_str:i,a))+'" user_name="'+o(s(null!=(i=null!=(i=null!=a?a.currentBrand:a)?i.source:i)?i.screen_name:i,a))+'" screen_name="'+o(s(null!=(i=null!=(i=null!=a?a.currentBrand:a)?i.target:i)?i.screen_name:i,a))+'" br_id="'+o(s(null!=(i=null!=a?a.currentBrand:a)?i.brid:i,a))+'" user_id="'+o(s(null!=(i=null!=(i=null!=a?a.currentBrand:a)?i.target:i)?i.id_str:i,a))+'" data-zcqa="change_tw_handle"> <td class="pL10 dmHandleChange socialImgsvg"></td> <td class="w30 pR10"><img src="'+o(s(null!=(i=null!=(i=null!=a?a.currentBrand:a)?i.source:i)?i.profile_image_url_https:i,a))+'" class="smhandleImg"></td> <td class="f13 color_3">'+o(s(null!=(i=null!=(i=null!=a?a.currentBrand:a)?i.source:i)?i.screen_name:i,a))+"</td> </tr> "},64:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.dmHandle:a,{name:"if",hash:{},fn:e.program(65,l,0),inverse:e.noop,data:l}))?i:"")+" "},65:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <tr onclick="crmSocial.changeTwHandle(this, \'DM\');" t_id="'+o(s(null!=(i=null!=(i=null!=a?a.dmHandle:a)?i.target:i)?i.id_str:i,a))+"_"+o(s(null!=(i=null!=(i=null!=a?a.dmHandle:a)?i.source:i)?i.id_str:i,a))+'" user_name="'+o(s(null!=(i=null!=(i=null!=a?a.dmHandle:a)?i.source:i)?i.screen_name:i,a))+'" screen_name="'+o(s(null!=(i=null!=(i=null!=a?a.dmHandle:a)?i.target:i)?i.screen_name:i,a))+'" br_id="'+o(s(null!=(i=null!=a?a.dmHandle:a)?i.brid:i,a))+'" user_id="'+o(s(null!=(i=null!=(i=null!=a?a.dmHandle:a)?i.target:i)?i.id_str:i,a))+'" data-zcqa="change_tw_handle"> <td class="pL10 dmHandleChange socialImgsvg"></td> <td class="w30 pR10"><img src="'+o(s(null!=(i=null!=(i=null!=a?a.dmHandle:a)?i.source:i)?i.profile_image_url_https:i,a))+'" class="smhandleImg"></td> <td class="f13 color_3">'+o(s(null!=(i=null!=(i=null!=a?a.dmHandle:a)?i.source:i)?i.screen_name:i,a))+"</td> </tr> "},67:function(e,a,t,n,l){var i;return" "+(null!=(i=t.each.call(null!=a?a:{},null!=a?a.followInformation:a,{name:"each",hash:{},fn:e.program(68,l,0),inverse:e.noop,data:l}))?i:"")+" "},68:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=(i=null!=a?a.source:a)?i.can_dm:i,{name:"if",hash:{},fn:e.program(69,l,0),inverse:e.noop,data:l}))?i:"")+" "},69:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <tr onclick="crmSocial.changeTwHandle(this, \'DM\');" t_id="'+o(s(null!=(i=null!=a?a.target:a)?i.id_str:i,a))+"_"+o(s(null!=(i=null!=a?a.source:a)?i.id_str:i,a))+'" user_name="'+o(s(null!=(i=null!=a?a.source:a)?i.screen_name:i,a))+'" screen_name="'+o(s(null!=(i=null!=a?a.target:a)?i.screen_name:i,a))+'" br_id="'+o(s(null!=a?a.brid:a,a))+'" user_id="'+o(s(null!=(i=null!=a?a.target:a)?i.id_str:i,a))+'" data-zcqa="change_tw_handle"> <td class="pL10"></td> <td class="w30 pR10"><img src="'+o(s(null!=(i=null!=a?a.source:a)?i.profile_image_url_https:i,a))+'" class="smhandleImg"></td> <td class="f13 color_3">'+o(s(null!=(i=null!=a?a.source:a)?i.screen_name:i,a))+"</td> </tr> "},71:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return" <tr onclick=\"crmSocial.changeTwHandle(this, 'TW', '"+o(s(null!=(i=null!=a?a.currentBrand:a)?i.brid:i,a))+"', '"+o(s(null!=(i=null!=(i=null!=a?a.currentBrand:a)?i.source:i)?i.screen_name:i,a))+'\');" data-zcqa="change_tw_handle"> <td class="pL10 dmHandleChange socialImgsvg"></td> <td class="w30 pR10"><img src="'+o(s(null!=(i=null!=(i=null!=a?a.currentBrand:a)?i.source:i)?i.profile_image_url_https:i,a))+'" class="smhandleImg"></td> <td class="f13 color_3 w162px">'+o(s(null!=(i=null!=(i=null!=a?a.currentBrand:a)?i.source:i)?i.screen_name:i,a))+"</td> </tr> "},73:function(e,a,t,n,l){var i;return" "+(null!=(i=t.each.call(null!=a?a:{},null!=a?a.followInformation:a,{name:"each",hash:{},fn:e.program(74,l,0),inverse:e.noop,data:l}))?i:"")+" "},74:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return" <tr onclick=\"crmSocial.changeTwHandle(this, 'TW', '"+o(s(null!=a?a.brid:a,a))+"', '"+o(s(null!=(i=null!=a?a.source:a)?i.screen_name:i,a))+'\');" data-zcqa="change_tw_handle"> <td class="pL10"></td> <td class="w30 pR10"><img src="'+o(s(null!=(i=null!=a?a.source:a)?i.profile_image_url_https:i,a))+'" class="smhandleImg"></td> <td class="f13 color_3 w162px">'+o(s(null!=(i=null!=a?a.source:a)?i.screen_name:i,a))+"</td> </tr> "},76:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <img src="'+s(i(null!=a?a.br_img:a,a))+'" class="kso_user_photo fL" title="'+s(i(null!=a?a.br_name:a,a))+'" ></img> '},78:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.dmHandle:a,{name:"if",hash:{},fn:e.program(79,l,0),inverse:e.noop,data:l}))?i:"")+" "},79:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <img src="'+o(s(null!=(i=null!=(i=null!=a?a.dmHandle:a)?i.source:i)?i.profile_image_url_https:i,a))+'" class="kso_user_photo fL" title="'+o(s(null!=(i=null!=(i=null!=a?a.dmHandle:a)?i.source:i)?i.screen_name:i,a))+'" ></img> '},81:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.mulitpleHanldeDm:a,{name:"if",hash:{},fn:e.program(82,l,0),inverse:e.noop,data:l}))?i:"")+" "},82:function(e,a,t,n,l){return' <div class="twDrop pA dB cP" onclick="$(\'#dmHandle\').toggle();sE(event);"><span class="dmdropArrow socialImgsvg"></span></div> '},84:function(e,a,t,n,l){return' <div class="twDrop pA dB cP" onclick="$(\'#twHandle\').toggle();sE(event);"><span class="dmdropArrow socialImgsvg"></span></div> '},86:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <div class="fL w100per bgwit pB15 boxsizbb" id="feed_detail_mention"> <div class="fL mR10"> <img src="'+o(s(null!=(i=null!=a?a.user:a)?i.profile_image_url_https:i,a))+'" class="kso_user_photo" ></img> </div> '+(null!=(i=t.if.call(r,null!=a?a.isSignalDetailView:a,{name:"if",hash:{},fn:e.program(87,l,0),inverse:e.program(89,l,0),data:l}))?i:"")+' <div> <a href="'+o(t.getRebrandKey.call(r,"TW_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(s(null!=(i=null!=a?a.user:a)?i.screen_name:i,a))+'" target="_blank" class="whois kso_link">'+o(s(null!=(i=null!=a?a.user:a)?i.name:i,a))+'</a> <i class="from mR10"> @'+o(s(null!=(i=null!=a?a.user:a)?i.screen_name:i,a))+'</i> <div id="'+o(t.findAndReplace.call(r,null!=a?a.id_str:a,{name:"findAndReplace",hash:{},data:l}))+'" class="fR"> '+(null!=(i=t.if.call(r,null!=a?a.convo:a,{name:"if",hash:{},fn:e.program(91,l,0),inverse:e.program(93,l,0),data:l}))?i:"")+' </div> </div> <div class="feed_detail_maincontant wwbw mt5"> '+(null!=(i=s(null!=a?a.text:a,a))?i:"")+" </div> "+(null!=(i=t.if.call(r,null!=(i=null!=a?a.entities:a)?i.media:i,{name:"if",hash:{},fn:e.program(95,l,0),inverse:e.noop,data:l}))?i:"")+' <div id="feed_detail_action" brid="'+o(s(null!=a?a.brid:a,a))+'" class="kso_action_Layer"> '+(null!=(i=t.if.call(r,null!=a?a.interact:a,{name:"if",hash:{},fn:e.program(98,l,0),inverse:e.noop,data:l}))?i:"")+' <input type="hidden" id="info" retweeted="'+o(s(null!=a?a.retweeted:a,a))+'" favorited="'+o(s(null!=a?a.favorited:a,a))+'" ></input> </div> </div> </div> </div> '},87:function(e,a,t,n,l){return' <div class="fL mR10" style="width: 85%"> '},89:function(e,a,t,n,l){return' <div class="fL mR10" style="width: 90%"> '},91:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <a onclick="sE(event);" href="javascript:void(0);" class="when fR remove_ud cN" title="'+s(i(null!=a?a.title_time:a,a))+'" onclick="sE(event);"> <script type="text/javascript">onload=crmSocial.updateId(\''+s(t.findAndReplace.call(null!=a?a:{},null!=a?a.id_str:a,{name:"findAndReplace",hash:{},data:l}))+"', '"+s(i(null!=a?a.created_at:a,a))+"');<\/script> "+s(i(null!=a?a.disp_time:a,a))+" </a> "},93:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression,r=e.lambda;return' <a onclick="sE(event);" href="'+o(t.getRebrandKey.call(s,"TW_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(r(null!=(i=null!=a?a.user:a)?i.screen_name:i,a))+"/status/"+o(r(null!=a?a.id_str:a,a))+'" target="_blank" class="when fR remove_ud" title="'+o(r(null!=a?a.title_time:a,a))+'"> <script type="text/javascript">onload=crmSocial.updateId(\''+o(t.findAndReplace.call(s,null!=a?a.id_str:a,{name:"findAndReplace",hash:{},data:l}))+"', '"+o(r(null!=a?a.created_at:a,a))+"');<\/script> "+o(r(null!=a?a.disp_time:a,a))+" </a> "},95:function(e,a,t,n,l){var i;return" "+(null!=(i=t.each.call(null!=a?a:{},null!=(i=null!=a?a.entities:a)?i.media:i,{name:"each",hash:{},fn:e.program(96,l,0),inverse:e.noop,data:l}))?i:"")+" "},96:function(e,a,t,n,l){return' <div class="what mt10"> <img src="'+e.escapeExpression(e.lambda(null!=a?a.media_url_https:a,a))+'" class="contentimage" onload="crmSocial.setImageWidthHeightDetailView(this);"></img> </div> '},98:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <a class="kso_twReply fL" href="javascript:void(0)" onclick="sE(event); crmSocial.toggleResponse(this, \'twitter\', \''+e.escapeExpression(e.lambda(null!=a?a.convo:a,a))+'\');" data-zcqa="toggle_tw_reply"> <span class="socialImgsvg"></span> </a> '+(null!=(i=t.if.call(s,null!=a?a.retweeted:a,{name:"if",hash:{},fn:e.program(99,l,0),inverse:e.program(102,l,0),data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.favorited:a,{name:"if",hash:{},fn:e.program(104,l,0),inverse:e.program(106,l,0),data:l}))?i:"")+" "},99:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <a id="retweet" class="kso_twRetweeted fL mL15" href="javascript:void(0)" res_brid="'+o(s(null!=a?a.brid:a,a))+'" deletable="'+o(s(null!=a?a.deletable:a,a))+'" retweetid="'+o(s(null!=a?a.id_str:a,a))+'"> '+(null!=(i=t.if.call(r,null!=a?a.isSignalDetailView:a,{name:"if",hash:{},fn:e.program(100,l,0),inverse:e.program(100,l,0),data:l}))?i:"")+' <span class="fR mL3" style="font-size: 14px">'+o(t.notEqualsZero.call(r,null!=a?a.retweet_count:a,{name:"notEqualsZero",hash:{},data:l}))+"</span> </a> "},100:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <span class="socialImgsvg" onclick="sE(event); crmSocial.showQuoteTweet(this, \''+s(i(null!=a?a.id_str:a,a))+"','"+s(i(null!=a?a.brid:a,a))+"','tab');\" data-zcqa=\"retweet\"></span> "},102:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <a id="retweet" class="kso_twRetweet fL mL15" href="javascript:void(0)" res_brid="'+s(i(null!=a?a.brid:a,a))+'" deletable="'+s(i(null!=a?a.deletable:a,a))+'" retweetid="'+s(i(null!=a?a.id_str:a,a))+'"> <span class="socialImgsvg" onclick="sE(event); crmSocial.showQuoteTweet(this, \''+s(i(null!=a?a.id_str:a,a))+"','"+s(i(null!=a?a.brid:a,a))+'\',\'tab\');" data-zcqa="retweet"></span> <span class="fR mL3" style="font-size: 14px">'+s(t.notEqualsZero.call(null!=a?a:{},null!=a?a.retweet_count:a,{name:"notEqualsZero",hash:{},data:l}))+"</span> </a> "},104:function(e,a,t,n,l){return' <a id="favorite" class="kso_twFavorited fL mL15" href="javascript:void(0)" onclick="sE(event); crmSocial.favorite(this);" data-zcqa="favorite"> <span class="socialImgsvg"></span> <span class="fR mL3" style="font-size: 14px">'+e.escapeExpression(t.notEqualsZero.call(null!=a?a:{},null!=a?a.favorite_count:a,{name:"notEqualsZero",hash:{},data:l}))+"</span> </a> "},106:function(e,a,t,n,l){return' <a id="favorite" class="kso_twFavorite fL mL15" href="javascript:void(0)" onclick="sE(event); crmSocial.favorite(this);" data-zcqa="favorite"> <span class="socialImgsvg"></span> <span class="fR mL3" style="font-size: 14px">'+e.escapeExpression(t.notEqualsZero.call(null!=a?a:{},null!=a?a.favorite_count:a,{name:"notEqualsZero",hash:{},data:l}))+"</span> </a> "},108:function(e,a,t,n,l){var i;return' <div id="feed_detail_convo" class="mT10"> '+(null!=(i=e.invokePartial(n.ConvoTemplate,a,{name:"ConvoTemplate",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+" </div> "},110:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <div id="feed_detail_convo" class="mT10"> '+(null!=(i=t.if.call(s,null!=a?a.replyDiv:a,{name:"if",hash:{},fn:e.program(111,l,0),inverse:e.program(113,l,0),data:l}))?i:"")+" <div class='clearB'></div> <div id=\"reply_list\"> "+(null!=(i=t.if.call(s,null!=a?a.replies:a,{name:"if",hash:{},fn:e.program(115,l,0),inverse:e.noop,data:l}))?i:"")+" </div> </div> "},111:function(e,a,t,n,l){var i;return' <div id="more_comments" class="grayBg4 p10 feedgrayborder feed_detail_like_more ksmalltxt">'+(null!=(i=e.lambda(null!=a?a.replyDiv:a,a))?i:"")+"</div> "},113:function(e,a,t,n,l){return' <div id="more_comments" class="grayBg4 p10 feedgrayborder feed_detail_like_more ksmalltxt dN"></div> '},115:function(e,a,t,n,l){var i;return" "+(null!=(i=t.each.call(null!=a?a:{},null!=(i=null!=a?a.replies:a)?i.data:i,{name:"each",hash:{},fn:e.program(116,l,0),inverse:e.noop,data:l}))?i:"")+" "},116:function(e,a,t,n,l){var i;return" "+(null!=(i=e.invokePartial(n.ReplyList,a,{name:"ReplyList",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+" "},118:function(e,a,t,n,l){var i;return" "+(null!=(i=e.invokePartial(n.twReply,a,{name:"twReply",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+" "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return'  <div id="feed_detail_inner_div" class=\'heitInhert\' p_id="'+o(s(null!=a?a.id_str:a,a))+'" c_id="'+o(s(null!=a?a.comment_id:a,a))+'" t_id="'+o(s(null!=a?a.thread_id:a,a))+'" b_id="'+o(s(null!=a?a.brid:a,a))+'" pro_id="'+o(s(null!=(i=null!=a?a.user:a)?i.id:i,a))+'" m_name="'+o(s(null!=(i=null!=a?a.user:a)?i.module:i,a))+'" e_id="'+o(s(null!=(i=null!=a?a.user:a)?i.entityid:i,a))+'" u_name="'+o(s(null!=(i=null!=a?a.user:a)?i.screen_name:i,a))+'" u_id="'+o(s(null!=(i=null!=a?a.user:a)?i.id_str:i,a))+'"> <div class=\'pR heitInhert\'> <div id=\'feed_detail_close\' class="socialImgsvg dbBtnClose fR feed_detail_close r0" style=\'display:none\' onclick="crmSocial.feedDetailclose(this)"></div> <div id="kso_feed_hd" class="pT20 pR20 pL20 pB10"> <div class="pR10 fL clearFix"> <div class="pR dIB"> <img src="'+o(s(null!=(i=null!=a?a.user:a)?i.profile_image_url_https:i,a))+'" class="kso_user_photo cP" style=" width:48px; height:48px;" onclick="sE(event); window.open(\''+o(t.getRebrandKey.call(r,"TW_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(s(null!=(i=null!=a?a.user:a)?i.screen_name:i,a))+"', '_blank');\" /> <span class=\"twicon-small smallIconPosi\"></span> </div> </div> <div> <a onclick='sE(event);' href=\""+o(t.getRebrandKey.call(r,"TW_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(s(null!=(i=null!=a?a.user:a)?i.screen_name:i,a))+'" target="_blank" class="whois">'+o(s(null!=(i=null!=a?a.user:a)?i.name:i,a))+"</a> "+(null!=(i=t.if.call(r,null!=(i=null!=a?a.user:a)?i.screen_name:i,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+' <span class="selTick dNimp"></span> '+(null!=(i=t.if.call(r,null!=a?a.singleBrand:a,{name:"if",hash:{},fn:e.program(3,l,0),inverse:e.program(17,l,0),data:l}))?i:"")+' <div class="description" title="'+o(s(null!=(i=null!=a?a.user:a)?i.description:i,a))+'">'+o(s(null!=(i=null!=a?a.user:a)?i.description:i,a))+"</div> "+(null!=(i=t.if_either.call(r,null!=(i=null!=a?a.user:a)?i.location:i,null!=(i=null!=a?a.user:a)?i.url:i,{name:"if_either",hash:{},fn:e.program(22,l,0),inverse:e.noop,data:l}))?i:"")+' </div> </div> <table cellpadding="0" cellspacing="0" width="100%" class="kso_feed_hd pT0 pL80"> <tr> <td></td> <td valign="top" class="pT5" style="border-top: 1px solid #ececec;"> <table class="fL"> <tr> <td class="pR25 f11 uppercase color_7 pT0 pB0 fsmooth"> '+o(t.getI18n.call(r,"crm.tw.label.tweets",{name:"getI18n",hash:{},data:l}))+' <a class="mT5 titlethin cP dB" href="'+o(t.getRebrandKey.call(r,"TW_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(s(null!=(i=null!=a?a.user:a)?i.screen_name:i,a))+'" target="_blank">'+o(s(null!=(i=null!=a?a.user:a)?i.statuses_count:i,a))+'</a> </td> <td class="pR25 f11 uppercase color_7 pT0 pB0 fsmooth"> '+o(t.getI18n.call(r,"crm.tw.label.following",{name:"getI18n",hash:{},data:l}))+' <a class="mT5 titlethin cP dB" href="'+o(t.getRebrandKey.call(r,"TW_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(s(null!=(i=null!=a?a.user:a)?i.screen_name:i,a))+'/following" target="_blank">'+o(s(null!=(i=null!=a?a.user:a)?i.friends_count:i,a))+'</a> </td> <td class="f11 uppercase color_7 pT0 pB0 fsmooth"> '+o(t.getI18n.call(r,"crm.tw.label.followers",{name:"getI18n",hash:{},data:l}))+' <a class="mT5 titlethin cP dB" href="'+o(t.getRebrandKey.call(r,"TW_URL",{name:"getRebrandKey",hash:{},data:l}))+"/"+o(s(null!=(i=null!=a?a.user:a)?i.screen_name:i,a))+'/followers" target="_blank">'+o(s(null!=(i=null!=a?a.user:a)?i.followers_count:i,a))+"</a> </td> </tr> </table> "+(null!=(i=t.unless.call(r,null!=a?a.socialInteg:a,{name:"unless",hash:{},fn:e.program(27,l,0),inverse:e.noop,data:l}))?i:"")+" </td> </tr> "+(null!=(i=t.unless.call(r,null!=a?a.socialInteg:a,{name:"unless",hash:{},fn:e.program(35,l,0),inverse:e.noop,data:l}))?i:"")+' </table> <div id="postSuccess" class="postSuccess"> <div class="socialImg dmSuccessMsg postSusBtm" id="dmSuccessMsg"> <span>'+o(t.getI18n.call(r,"crm.nsocial.post.success",{name:"getI18n",hash:{},data:l}))+'</span> </div> </div> <div id="folwHandle" class="folwHandle pA dN" data-close="true"> <table cellpadding="0" cellspacing="0" width="100%"> '+(null!=(i=t.if.call(r,null!=a?a.currentBrand:a,{name:"if",hash:{},fn:e.program(37,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(r,null!=a?a.followInformation:a,{name:"if",hash:{},fn:e.program(48,l,0),inverse:e.noop,data:l}))?i:"")+" </table> </div> <div id='soc_tooltip' class='soc_tooltip'>"+o(t.getI18n.call(r,"crm.nsocial.no.convo.new",{name:"getI18n",hash:{},data:l}))+'</div> <div id="detail_post_freez" class="detail_post_freez" style="display: none;"></div> '+(null!=(i=t.unless.call(r,null!=a?a.socialInteg:a,{name:"unless",hash:{},fn:e.program(60,l,0),inverse:e.noop,data:l}))?i:"")+' <div id="feed_detail_head_outer" class="pR pT0 pL20 pR20"> <div id="feed_detail_head" class="pT20"> '+(null!=(i=t.unless.call(r,null!=a?a.convo:a,{name:"unless",hash:{},fn:e.program(86,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(r,null!=a?a.convo:a,{name:"if",hash:{},fn:e.program(108,l,0),inverse:e.program(110,l,0),data:l}))?i:"")+' <div class="cB"></div> </div> </div> </div> '+(null!=(i=t.if.call(r,null!=a?a.interact:a,{name:"if",hash:{},fn:e.program(118,l,0),inverse:e.noop,data:l}))?i:"")+" </div> </div>"},usePartial:!0,useData:!0}),a.twReply=e({1:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=(i=null!=(i=null!=a?a.currentBrand:a)?i.source:i)?i.can_dm:i,{name:"if",hash:{},fn:e.program(2,l,0),inverse:e.program(7,l,0),data:l}))?i:"")+" "},2:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.lambda,r=e.escapeExpression;return" "+(null!=(i=t.if.call(s,null!=a?a.isSignalDetailView:a,{name:"if",hash:{},fn:e.program(3,l,0),inverse:e.program(5,l,0),data:l}))?i:"")+' <div class="fL w100per"> <div class="fL mR10 imgwth"><img src="'+r(o(null!=a?a.br_img:a,a))+'" class="kso_user_photo fL" title="'+r(o(null!=a?a.br_name:a,a))+'" ></img></div> <div class="fL txtwth w75per"> <textarea id="resp_box" style="border:none" class="zso_twreplyBox detailTextBox fLimp" placeholder="'+r(t.getI18n.call(s,"crm.nsocial.convo.reply",{name:"getI18n",hash:{},data:l}))+'" onclick="sE(event);" onkeyup="crmSocial.showHideButton(this);" data-zcqa="tw_reply_box"></textarea> </div> <div class="fR btnwth"> <button id="resp_button" style="opacity:0.5; height:28px; width:65px" class="feedcommentbtn mT2 pR fR mR0 mL8" value="'+r(t.getI18n.call(s,"crm.nsocial.reply",{name:"getI18n",hash:{},data:l}))+'" onclick="sE(event); crmSocial.replyToConvo(this, \'twitter\');" disabled="disabled" data-zcqa="tw_reply_button"> <span class="repy">'+r(t.getI18n.call(s,"crm.nsocial.reply",{name:"getI18n",hash:{},data:l}))+"</span> <div class=\"socNewLoding\"><span></span><span></span><span></span></div> </button> </div> </div> <div class='clearB'></div> </div> "},3:function(e,a,t,n,l){return' <div id="response" brid="'+e.escapeExpression(e.lambda(null!=a?a.brid:a,a))+'" class="borTopED pA w100per botm0 newReply ntcReply"> '},5:function(e,a,t,n,l){return' <div id="response" brid="'+e.escapeExpression(e.lambda(null!=a?a.brid:a,a))+'" class="borTopED pA w100per botm0 newReply"> '},7:function(e,a,t,n,l){var i,s=null!=a?a:{};return" "+(null!=(i=t.if.call(s,null!=a?a.isSignalDetailView:a,{name:"if",hash:{},fn:e.program(3,l,0),inverse:e.program(8,l,0),data:l}))?i:"")+" <span>"+e.escapeExpression(t.getI18n.call(s,"crm.nsocial.no.convo.new",{name:"getI18n",hash:{},data:l}))+"</span> </div> "},8:function(e,a,t,n,l){return' <div id="response" brid="'+e.escapeExpression(e.lambda(null!=a?a.brid:a,a))+'" class="borTopED pA w100per botm0 newReply pL20"> '},10:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.lambda,r=e.escapeExpression;return" "+(null!=(i=t.if.call(s,null!=a?a.isSignalDetailView:a,{name:"if",hash:{},fn:e.program(11,l,0),inverse:e.program(8,l,0),data:l}))?i:"")+' <div class="fL w100per"> <div class="fL mR10 imgwth"><img src="'+r(o(null!=a?a.br_img:a,a))+'" class="kso_user_photo fL" title="'+r(o(null!=a?a.br_name:a,a))+'" ></img></div> <div class="fL txtwth pR w75per"> <textarea id="resp_box" style="border:none" class="zso_twreplyBox tTnd75 detailTextBox fLimp" onclick="sE(event);" onkeydown="crmSocial.preventCursor(event);" onkeypress="crmSocial.preventDefaultChar(event);" onkeyup="crmSocial.showHideButton(this); crmSocial.processText(this);crmSocial.processTwitterSuggestion(this, event, $(this).val(),\'detail\')" u_name="'+r(o(null!=(i=null!=a?a.user:a)?i.screen_name:i,a))+'" data-zcqa="tw_reply_box">@'+r(o(null!=(i=null!=a?a.user:a)?i.screen_name:i,a))+' </textarea> </div> <div class="fR btnwth"> '+(null!=(i=t.if.call(s,null!=(i=null!=a?a.user:a)?i.screen_name:i,{name:"if",hash:{},fn:e.program(13,l,0),inverse:e.noop,data:l}))?i:"")+' <a class="img-option comp-image sodet_compose  fLimp mR5" href="javascript:;" data-id="image"> <input type="file" id="commentimage" accept="image/*" onchange="crmSocial.onImageSelected(event, this, \'twitter\', \'detail\');" data-zcqa="tw_image_attach" /> <span class="socialImgsvg ks-addimg fL"></span> </a> <button id="resp_button" style="opacity:0.5;" class="feedcommentbtn mT2 pR fR mR0 mL8 btnWth" onclick="sE(event); crmSocial.reply(this,\'detail\');" disabled="disabled" data-zcqa="tw_reply_button"> <span class="repy">'+r(t.getI18n.call(s,"crm.nsocial.reply",{name:"getI18n",hash:{},data:l}))+'</span> <div class="socNewLoding"><span></span><span></span><span></span></div> </button> </div> </div> <div class="dN pR soc_compose_img fL" style="vertical-align: top; margin-top: 7px;"> <img id="soc_comment_img" width="80" height="80" ></img> <div class="posabs socialImgsvg soc_reply_close fR opc0" onclick="sE(event); crmSocial.removeImage(this);" data-zcqa="tw_image_remove"></div> <div class=\'sode_hover\' onclick="sE(event);"></div> </div> <div class=\'clearB\'></div> <div> '},11:function(e,a,t,n,l){return' <div id="response" brid="'+e.escapeExpression(e.lambda(null!=a?a.brid:a,a))+'" class="borTopED pR w100per newReply ntcReply" style="bottom: 30px;"> '},13:function(e,a,t,n,l){var i;return' <div id="twitter_limit" class="tw_limit">'+e.escapeExpression(t.process.call(null!=a?a:{},null!=(i=null!=a?a.user:a)?i.screen_name:i,{name:"process",hash:{},data:l}))+"</div> "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.convo:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(10,l,0),data:l}))?i:"")+" "},useData:!0})}();