function AutoFillFormData(e,a,t,n,l,i,s){this.primaryEntity=e,this.relatedContact=a,this.relatedAccount=t,this.ownerEntity=n,this.userTZdate=l,this.callType=i,this.outboundCallStatus=s}function BasicEntityInfo(e,a,t){this.module=e,this.id=a,this.name=t}BasicEntityInfo.prototype.getRecordUrl=function(){var e=RebrandLinkUtil.getProperty("URLPROTOCOL")+"://"+RebrandLinkUtil.getProperty("CRMURL");return"Tasks"!==this.module&&"Events"!==this.module&&"Calls"!==this.module||Crm.isActivitySplitDone?e+=Crm.getCrmBasePath()+"/tab/"+this.module+"/"+this.id:e+=Crm.getCrmBasePath()+"/tab/Activities/"+this.id+"?sub_module="+this.module,e};var SourceIdentifier={getAutoFillData:function(e,a,t,n,l){if("relatedlist"===e||"relatedlist_new"===e||"relatedlist_new_canvas"===e||"rightpannel"===e||"krp"===e||"fromMap"===e||"stageView"===e||"salessignals"===e||"call_popup"===e||"nba"===e){if(validationUtils.isNotEmpty(t)){var i=new CrmDate(t);return SourceIdentifier.getCurrentCRMEntityData(e,a,i)}return SourceIdentifier.getCurrentCRMEntityData(e,a)}if("calendar"==e||"calendarGlobelAdd"==e)return SourceIdentifier.getCurrentCalendarViewData(e,t,n,l);if("crmEmail"==e)return new AutoFillFormData(null,null,null,null,new CrmDate(t));if("onboardSchedule"==e)return new AutoFillFormData(null,null,null,null,CrmDateUtils.getCrmDateAfterMins(30));if("emailsAI"==e){i=new CrmDate(t);return SourceIdentifier.getCurrentCRMEntityData(e,a,i)}},getCurrentCRMEntityData:function(e,a,t){var n,l,i=getObj("module")?getObj("module").value:null;if($L(".etTrendsWrapper").length){var s=$L("crm-ziaforemails")[0].component.getData("onclickAttr");n=s.entityId,l=(l=s.name)?l.trim():l,i=s.module}else n=$("#entityId").val(),l=(l=$("#entityName").val())?l.trim():l;var o=null,r=null,d=null,c=null,p=!1,u="true"==$("#iskanbanview").val();if("stageView"!==e&&"call_popup"!==e&&u&&getObj("whoid")){if(i=getObj("whoidmodule").value,n=getObj("whoid").value,p=!0,getObj("modid")){var m=getObj("modid").value,h=getObj("modsel").value,f=$("#modname1").val();"Accounts"==h?(o=m,r=f):"Contacts"==h&&(d=m,c=f)}}else if("krp"==e){i=$$rightPanel.currentModule,n=$$rightPanel.entityId;var g=$("#krp_Rightpanel_InfoInnerContainer"),v=g.is(":visible")?g:$("#krp_Rightpanel_InfoContainer");l=$("#rp_parent").find("#entityName").val()||v.find("#entityName").val(),o=v.find("#accountId").val(),r=v.find("#accountName").val()}else if("salessignals"==e)i=$("#ss_module").val(),n=$("#ss_entityId").val(),l=$("#ss_entityName").val();else if("stageView"==e)n=$(a).attr("data-relid"),l=$("#listView_"+n).text();else if("call_popup"===e){i=$("#Ctiapi_entityModule").attr("value"),n=$("#Ctiapi_entityId").attr("value"),l=$("#Ctiapi_entityName").attr("value"),p=!0;m=$("#Ctiapi_relatedEntityId").val(),h=$("#Ctiapi_relatedEntityModule").val(),f=$("#Ctiapi_relatedEntityName").val();"Accounts"==h?(o=m,r=f):"Contacts"==h&&(d=m,c=f)}if("object"==typeof n&&(n=$(n).val()),null!=i&&!p){var y=$("#associatedContName"),I=$("#subvalue_ACCOUNTID");if("stageView"==e&&"Potentials"==i&&validationUtils.isEmpty(y)){var b=$("#detailView_"+n+' link-to[lt-prop-dp*="Contacts"]');b.attr("lt-prop-dp")&&(d=JSON.parse(b.attr("lt-prop-dp"))[1],c=b.find("a").text())}""!=I.html()&&null!=I.html()&&(o=I.data("params").id,r=I.text()),y[0]&&""!==y.val()&&(d=$("#cntId").val(),c=y.val())}var F=Lyte.Router.getRouteInstance();if(F&&"crm.tab.module.entity.canvas"===F.transition.target){var C=store.peekRecord(moduleRecordMapping[i].id,n);o&&r||(o=C&&C.Account_Name?C.Account_Name.id:null,r=C&&C.Account_Name?C.Account_Name.name:null),d&&c||(d=C&&C.Contact_Name?C.Contact_Name.id:null,c=C&&C.Contact_Name?C.Contact_Name.name:null)}var w=new BasicEntityInfo(i,n,l),E=new BasicEntityInfo("Accounts",o,r),k=new BasicEntityInfo("Contacts",d,c);if(null!=t){if("emailsAI"===e&&addTempFreezeLayer(),$("#signalDetailViewClose").length>0&&$("#ntcInnerDivContent").length>0){var S=$(".temp_freezelayer");S.removeClass("zI28"),S.css("z-index","33"),$("#createEditCallDiv").css("z-index","34")}return new AutoFillFormData(w,k,E,null,t)}return new AutoFillFormData(w,k,E)},getCurrentCalendarViewData:function(e,a,t,n){if("monthview"===calView.currCalView&&"calendarGlobelAdd"!=e||"weekview"===calView.currCalView&&calView.isMultiUserView){if("24:00"!==Crm.calPreferences.DAYSTARTSAT)if(Utils.isToday(a)){var l=new Date;a.setHours(l.getHours()),a.setMinutes(l.getMinutes())}else a.setHours(parseInt(Crm.calPreferences.DAYSTARTSAT))}else"weekview"!==calView.currCalView&&"monthview"!==calView.currCalView||a.setMinutes(0);return calView.isMultiUserView?t&&n||(n=Crm.userDetails.DISPLAY_NAME,t=Crm.userDetails.USER_ID):(n=crmCalendar.currCalSelusrName,t=calView.currCalSelusr),new AutoFillFormData(null,null,null,new BasicEntityInfo("Users",t,n),new CrmDate(a))},refreshPage:function(e,a){var t=$("#upcoming");if(crmNTC.isSignalDetailViewVisible()&&crmNTC.showQuickCreateSuccessMsg(a),t.hasClass("liselected")&&t.click(),"stageView"===e)crmListView.refreshRecords($(Q.currElem).attr("data-relid"));else if("calendar"===e||"calendarGlobelAdd"===e)calView.refresh();else if("listview"==e||"onboardSchedule"==e)Crm.latestEntId=a.entityId,$("#BodyContent").is(":visible")||Lyte.Router.getRouteInstance().refresh();else if("detailView"==e)reloadCurrentEntityView(a.entityId,a.module);else if("relatedlist"===e||"rightpannel"===e||"relatedlist_new"===e||"relatedlist_new_canvas"===e||"nba"===e){if("canvas"==Lyte.Router.getRouteInstance().routeName&&"entity"==Lyte.Router.getRouteInstance().parent.routeName)var n="true"===$("#iskanbanview").val();if(!n){var l=getObj("module").value,i=null;if(i="undefined"==typeof entityId?$("#entityId").val():"object"==typeof entityId?$(entityId).val():entityId,"relatedlist_new"===e||"nba"===e){var s={module:l,id:i,fromIndex:1};"canvas"==Lyte.Router.getRouteInstance().routeName&&"entity"==Lyte.Router.getRouteInstance().parent.routeName&&Lyte.triggerEvent("relatedList",{refresh:!0}),crmRelatedList.ajaxReq(s),refreshFollowDiv(l,a.module)}else{(new crmRequestPool).initiate({action:Crm.getCrmBasePath()+"/NewRelatedList.do?action=getAllData&module="+getObj("module").value+"&id="+i,type:"POST",success:function(e){crmRelatedList.load(crmRelatedList.Module,crmRelatedList.EntityId,e,!0),refreshFollowDiv(l,e.module),"canvas"==Lyte.Router.getRouteInstance().routeName&&"entity"==Lyte.Router.getRouteInstance().parent.routeName&&Lyte.triggerEvent("relatedList",{res:e})}})}}}else"homePage"==e?($("#show").html(a),EvalInnerScript(mainPage)):"krp"===e?(a.activitiesCount||a.right_panel_data)&&$$rightPanel.refreshOnCreatingNewEntity("Activities",a):"quickcreate"==e&&a.module&&SourceIdentifier.checkCurrentPageAndRefresh(a.module)},checkCurrentPageAndRefresh:function(e,a){var t="Calls"==e||"Tasks"==e||"Events"==e?"Activities":e,n=Lyte.Router.getRouteInstance("crm.tab.module"),l=Lyte.Router.getRouteInstance().__lp.objPath;if(n&&n.currentModel&&n.currentModel.module.module_name==t&&!$(".freezeLayer").is(":visible"))if(-1!=["crm.tab.module.custom-view.kanban","crm.tab.module.custom-view.list","crm.tab.module.begin"].indexOf(l))Lyte.Router.getRouteInstance().refresh();else if(validationUtils.isNotEmpty(a)&&-1!==["crm.tab.module.entity.detail"].indexOf(l)){Lyte.Router.getRouteInstance().parent.getDynamicParam()===a&&reloadCurrentEntityView(a,e)}},checkDetailPageAndRefreshRelatedList:function(e,a){var t=Lyte.Router.getRouteInstance().__lp.objPath,n=$("#entityId").val();if("crm.tab.module.entity.detail"==t&&n==e){if(!("true"==$("#iskanbanview").val())){var l=getObj("module")?getObj("module").value:null,i={module:l,id:e,fromIndex:1};crmRelatedList.ajaxReq(i),refreshFollowDiv(l,a)}}else n==e&&"canvas"==Lyte.Router.getRouteInstance().routeName&&Lyte.triggerEvent("relatedList",{refresh:!0})}};!function(e,a,t){var n=8,l=9,i=13,s=37,o=38,r=39,d=40,c=36,p=35,u={triggerChar:"@",onDataRequest:e.noop,minChars:2,allowRepeat:!1,showAvatars:!0,elastic:!0,onCaret:!1,classes:{autoCompleteItemActive:"active"},templates:{wrapper:a.template('<div class="mentions-input-box"></div>'),autocompleteList:a.template('<div class="mentions-autocomplete-list"></div>'),autocompleteListItem:a.template('<li data-ref-id="<%= id %>" data-ref-type="<%= type %>" data-display="<%= display %>"><%= content %></li>'),autocompleteListItemAvatar:a.template('<img src="<%= avatar %>" />'),autocompleteListItemIcon:a.template('<div class="icon <%= icon %>"></div>'),mentionsOverlay:a.template('<div class="mentions"><div></div></div>'),mentionItemSyntax:a.template("@[<%= value %>](<%= type %>:<%= id %>)"),mentionItemHighlight:a.template("<strong><span><%= value %></span></strong>")}},m=function(e){return a.escape(e)},h=function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},f=function(e,a){return a||a.length?e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+a+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>"):e},g=function(e,a){if(e.createTextRange){var t=e.createTextRange();t.move("character",a),t.select()}else e.selectionStart?(e.focus(),e.setSelectionRange(a,a)):e.focus()},v=function(e){return e.replace(/\s+$/,"")},y=function(t){var y,I,b,F,C,w,E=[],k={},S=[],L="";function x(){var e=D();a.each(E,(function(a){var n=t.templates.mentionItemSyntax(a);e=e.replace(new RegExp(h(a.value),"g"),n)}));var n=m(e);a.each(E,(function(e){var l=a.extend({},e,{value:m(e.value)}),i=t.templates.mentionItemSyntax(l),s=t.templates.mentionItemHighlight(l);n=n.replace(new RegExp(h(i),"g"),s)})),n=(n=n.replace(/\n/g,"<br />")).replace(/ {2}/g,"&nbsp; "),y.data("messageText",e),y.trigger("updated"),C.find("div").html(n)}function T(){S=[]}function U(e){var n=D(),l=new RegExp("\\"+t.triggerChar+L,"gi");l.exec(n);var i=l.lastIndex-L.length-1,s=l.lastIndex,o=n.substr(0,i),r=n.substr(s,n.length),d=(o+e.value).length+1;a.find(E,(function(a){return a.id==e.id}))||E.push(e),T(),L="",A();var c=o+e.value+" "+r;y.val(c),y.trigger("mention"),x(),y.focus(),g(y[0],d)}function D(){return e.trim(y.val())}function M(a){var t,n,l=e(this);return U(k[l.attr("data-uid")]),t=e(y).offset().top,n=e("body").offset().top,e(window).scrollTop()>t&&e(window).scrollTop(t-n),!1}function _(e){T()}function R(e){A()}function P(e){var n;x(),n=D(),E=a.reject(E,(function(e,a){return!e.value||-1==n.indexOf(e.value)})),E=a.compact(E);var l=a.lastIndexOf(S,t.triggerChar);l>-1&&(L=S.slice(l+1).join(""),L=v(L),a.defer(a.bind(H,this,L)))}function O(e){if(e.keyCode!==n){var a=String.fromCharCode(e.which||e.keyCode);S.push(a)}}function z(t){if(t.keyCode===s||t.keyCode===r||t.keyCode===c||t.keyCode===p)return a.defer(T),void(navigator.userAgent.indexOf("MSIE 9")>-1&&a.defer(x));if(t.keyCode!==n){if(!b.is(":visible"))return!0;switch(t.keyCode){case o:case d:var u=null;return(u=t.keyCode===d?w&&w.length?w.next():b.find("li").first():e(w).prev()).length&&B(u),!1;case i:case l:if(w&&w.length)return w.trigger("mousedown"),!1}return!0}S=S.slice(0,-1+S.length)}function A(){w=null,b.empty().hide()}function B(e){e.addClass(t.classes.autoCompleteItemActive),e.siblings().removeClass(t.classes.autoCompleteItemActive),w=e}function N(n,l){if(b.show(),!t.allowRepeat){var i=a.pluck(E,"value");l=a.reject(l,(function(e){return a.include(i,e.name)}))}if(l.length){b.empty();var s=e("<ul>").appendTo(b).hide();a.each(l,(function(l,i){var o=a.uniqueId("mention_");k[o]=a.extend({},l,{value:l.name});var r=e(t.templates.autocompleteListItem({id:m(l.id),display:m(l.name),type:m(l.type),content:f(m(l.display?l.display:l.name),n)})).attr("data-uid",o);(0===i&&B(r),t.showAvatars)&&(l.avatar?e(t.templates.autocompleteListItemAvatar({avatar:l.avatar})):e(t.templates.autocompleteListItemIcon({icon:l.icon}))).prependTo(r);r=r.appendTo(s)})),b.show(),t.onCaret&&function(a,t){var n=function(a){var t,n,l,i,s,o,r,d,c,p,u;if((c=a[0])&&e(c).is("textarea")&&null!=c.selectionEnd){for(r={position:"absolute",overflow:"auto",whiteSpace:"pre-wrap",wordWrap:"break-word",boxSizing:"content-box",top:0,left:-9999},p=0,u=(d=["boxSizing","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","textDecoration","textIndent","textTransform","width","word-spacing"]).length;p<u;p++)r[s=d[p]]=e(c).css(s);return l=document.createElement("div"),e(l).css(r),e(c).after(l),n=document.createTextNode(c.value.substring(0,c.selectionEnd)),t=document.createTextNode(c.value.substring(c.selectionEnd)),(i=document.createElement("span")).innerHTML="&nbsp;",l.appendChild(n),l.appendChild(i),l.appendChild(t),l.scrollTop=c.scrollTop,o=e(i).position(),e(l).remove(),o}}(t),l=parseInt(t.css("line-height"),10)||18;a.css("width","15em"),a.css("left",n.left),a.css("top",l+n.top)}(b,y),s.show()}else A()}function H(e){e&&e.length&&e.length>=t.minChars?t.onDataRequest.call(this,"search",e,(function(a){N(e,a)})):A()}function $(){y.val(""),E=[],x()}return t=e.extend(!0,{},u,t),{init:function(a){"true"!==(y=e(a)).attr("data-mentions-input")&&(I=y.parent(),F=e(t.templates.wrapper()),y.wrapAll(F),F=I.find("> div.mentions-input-box"),y.attr("data-mentions-input","true"),y.bind("keydown",z),y.bind("keypress",O),y.bind("click",_),y.bind("blur",R),navigator.userAgent.indexOf("MSIE 8")>-1?y.bind("propertychange",P):y.bind("input",P),t.elastic&&y.elastic()),(b=e(t.templates.autocompleteList())).appendTo(F),b.delegate("li","mousedown",M),(C=e(t.templates.mentionsOverlay())).prependTo(F),$(),t.prefillMention&&U(t.prefillMention)},val:function(e){a.isFunction(e)&&e.call(this,E.length?y.data("messageText"):D())},reset:function(){$()},getMentions:function(e){a.isFunction(e)&&e.call(this,E)}}};e.fn.mentionsInput=function(t,n){var l=arguments;return"object"!=typeof t&&t||(n=t),this.each((function(){var i=e.data(this,"mentionsInput")||e.data(this,"mentionsInput",new y(n));return a.isFunction(i[t])?i[t].apply(this,Array.prototype.slice.call(l,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):i.init.call(this,this)}))}}(jQuery,_);var FileUploader=function(e,a){var t={};this._setDefaultOptions(a),this.element=e,a.url=a.url||Crm.getCrmBasePath()+"/dummyupload",this.options=a,Dropzone.call(this,this.element,this.options),t.element=e,t.batchId=this.options.uploadBean.batchId,t.instance=this,$(e).attr("batchId",this.options.uploadBean.batchId),FileUploader.instances.push(t)};FileUploader.noop=function(){},FileUploader.instances=[],FileUploader.prototype=Object.create(Dropzone.prototype),FileUploader.prototype.constructor=FileUploader,FileUploader.prototype.events=Dropzone.prototype.events,FileUploader.prototype.defaultOptions=Dropzone.prototype.defaultOptions,FileUploader.prototype._setDefaultOptions=function(e){this.defaultOptions.formData={},this.defaultOptions.autoCleanOnSave=!1,this.defaultOptions.withCredentials=!0,this.defaultOptions.autoProcessQueue=!0,this.defaultOptions.notify=FileUploader.noop,this.defaultOptions.fileUploaderCallback=FileUploader.noop,this.defaultOptions.getFileSize=e.computeFileSize?e.computeFileSize.bind(this):this.fileSize.bind(this),this.defaultOptions.needFolderUpload=!1,this.defaultOptions.needMultipleSelection=!0,this.defaultOptions.pickerNotificationsNeeded=!0,this.defaultOptions.proceedUploadOnDrop=!0,this.defaultOptions.noteAttachLimitExceedNotification=4e3,this.defaultOptions.progressRatio=1,this.defaultOptions.pasteFiles=!1,this.defaultOptions.switchCompatible=!1,this.defaultOptions.maxCallbackAttemptLimit=3,this.defaultOptions.needWMSFallback=!1,this.defaultOptions.wmsFallback={},this.defaultOptions.wmsFallback.defaultURL=clientPortalName?"/portal/"+clientPortalName+"/crm/v2/Attachments/":"/crm/v2/Attachments/",this.defaultOptions.wmsFallback.URL="",this.defaultOptions.wmsFallback.requestMethod="GET",this.defaultOptions.wmsFallback.data={feature:"general"},this.defaultOptions.wmsFallback.successCallback=FileUploader.noop,this.defaultOptions.wmsFallback.failureCallback=FileUploader.noop,this.defaultOptions.isAuthorized=!1,this.defaultOptions.needVirusFilter=!1,this.defaultOptions.virusFilter={},this.defaultOptions.virusFilter.containerId="#virusDetectionContainer",this.defaultOptions.virusFilter.containerIconId="#virusContainerIcon",this.defaultOptions.virusFilter.otherfilesId=function(){var e=this.getFilesWithMaliciousContents();return 1!==e.length&&this.files.length!==e.length&&2!==e.length&&e.length>0?"#otherfiles":null},this.defaultOptions.virusFilter.containerIconClasses=function(){return this.getFilesWithMaliciousContents().length===this.files.length?"delAlrtIcn fL":"delWarnMsg formBuildIconsSvg fL"},this.defaultOptions.virusFilter.containerTitleId="#virusDetectionTitle",this.defaultOptions.virusFilter.title=function(){return I18n.getMsg("crm.fileuploader.entityattachments.message.D9203")},this.defaultOptions.virusFilter.containerMessageId="#virusDetectionMsg",this.defaultOptions.virusFilter.containerOkId="#virusDetectionOkButton",this.defaultOptions.virusFilter.okMessage=function(){var e=this.getFilesWithMaliciousContents();return this.files.length===e.length?I18n.getMsg("crm.livedesk.okay"):this.files.length-e.length<2?I18n.getMsg("crm.fileuploader.message.attachremainingfile"):I18n.getMsg("crm.fileuploader.message.attachremainingfiles",this.files.length-e.length)},this.defaultOptions.virusFilter.containerCancelId="#virusDetectionCancelButton",this.defaultOptions.virusFilter.cancelMessage=function(){return I18n.getMsg("crm.fileuploader.cancelupload")},this.defaultOptions.virusFilter.isAlert=function(){return this.getFilesWithMaliciousContents().length===this.files.length},this.defaultOptions.virusFilter.cancelCallback=function(){},this.defaultOptions.messageType={error:"error",information:"info",warning:"warn",success:"success"},this.defaultOptions.messageState={NOOFFILESEXCEEDLIMIT:"nooffilesexceedlimit",TOTALSIZEEXCEEDLIMIT:"totalsizeexceedlimit",BIGFILES:"bigfiles",EMPTYFILES:"emptyfiles",UNSUPPORTEDFILES:"unsupported",MALICIOUSFILES:"malicious",GENERALERROR:"generalerror"},this.defaultOptions.previewTemplate=new StringBuilder('<div class="dz-preview dz-file-preview">\n').append('<div class="dz-details">\n').append('<div class="dz-filename"><span data-dz-name></span></div>\n').append('<div class="dz-size" data-dz-size></div>\n').append("<img data-dz-thumbnail />\n").append("</div>\n").append('<div class="dz-progress">\n').append('<span class="dz-upload" data-dz-uploadprogress></span>\n').append("</div>\n").append('<div class="dz-remove" data-dz-remove></div>\n').append('<div class="dz-success-mark"><span>✔</span></div>\n').append('<div class="dz-error-mark"><span>✘</span></div>\n').append('<div class="dz-error-message">\n').append("<span data-dz-errormessage></span></div>\n").append("</div>").toString(),this.defaultOptions.customConfirmTemplate=new StringBuilder('<div class="dz-customconfirm" id="relatedlist-customconfirm">').append('<div><div id="FreezeLayer" class="freezeLayer"').append('onclick="event.stopPropagation()"').append('style="display: block;opacity: 0.1;"></div>').append('<div id="confirmMsg" class="p25 newPopup ').append('scaleZ scaleOne" style="margin-left:').append("-275px;left: 50%;top: 45%;margin-top: -105px;z-index: 22;position: ").append('fixed; display: block;width: 498px;">').append('<i class="delWarnMsg formBuildIconsSvg fL">').append('</i><div class="clearB"></div><div class="aligncenter">').append('<div class="color_7 crm-font-regular').append('f18 fontSmooth" id="genflddelmsg">').append("<p data-dz-customconfirm-message></p></div></div>").append('<div class="mT20 aligncenter tgl"><input type="button" ').append('id="tDelBtn" class="redbtn" ').append('value="Yes" data-dz-customconfirm-success><input type="button" ').append('id="tDelBtn" class="newgraybtn" ').append('value="No" data-dz-customconfirm-failure><div class="clearB">').append("</div></div></div></div></div>").toString(),this.defaultOptions.dictRemoveFile=I18n.getMsg("crm.fileuploader.removefile"),this.defaultOptions.dictCancelUpload=I18n.getMsg("crm.fileuploader.cancelupload"),this.defaultOptions.dictDefaultMessage=I18n.getMsg("crm.fileuploader.message.defaultmessage"),this.defaultOptions.dictFallbackMessage=I18n.getMsg("crm.fileuploader.message.fallbackmessage"),this.defaultOptions.dictFallbackText=I18n.getMsg("crm.fileuploader.message.fallbacktext"),this.defaultOptions.dictResponseError=I18n.getMsg("crm.fileuploader.message.responseerror"),this.defaultOptions.dictResponseSuccess=I18n.getMsg("crm.fileuploader.message.responsesuccess"),this.defaultOptions.dictCancelUploadConfirmation=null,this.defaultOptions.dictRemoveFileConfirmation=null,this.defaultOptions.proceed=FileUploader.noop,this.defaultOptions.terminate=FileUploader.noop,this.defaultOptions.batchclientcomplete=FileUploader.noop,this.defaultOptions.responsehandler=FileUploader.noop,this.defaultOptions.clean=FileUploader.noop,this.defaultOptions.canceled=FileUploader.noop,this.defaultOptions.customconfirm=FileUploader.noop,this.defaultOptions.uploadprogress=function(e,a,t){var n,l,i,s,o;if(e.previewElement){for(o=[],l=0,i=(s=e.previewElement.querySelectorAll("[data-dz-uploadprogress]")).length;l<i;l++)n=s[l],o.push(n.style.width=Math.round(a*this.options.progressRatio)+"%");return o}},this.defaultOptions.addedallfiles=function(e){for(var a=document.createDocumentFragment(),t=0,n=e.length;t<n;t++)a.appendChild(e[t].previewElement);this.previewsContainer.appendChild(a),$(this.previewsContainer).prop("scrollHeight")>$(this.previewsContainer).prop("clientHeight")?$(this.previewsContainer).animate({scrollTop:$(this.previewsContainer).prop("scrollHeight")},100,"linear"):$(this.previewsContainer).prop("scrollWidth")>$(this.previewsContainer).prop("clientWidth")&&$(this.previewsContainer).animate({scrollLeft:$(this.previewsContainer).prop("scrollWidth")},100,"linear")},this.defaultOptions.rejectedallfiles=FileUploader.noop,this.defaultOptions.scanning=function(e){if(e.scanningComplete=!0,"zos"!==this.options.uploadMethod){e.scanningComplete=!1;var a=this.options.maxCallbackAttemptLimit;if("normal"===this.options.uploadMethod)return void(n=function(e,a){var t,l,i;setTimeout((t=this,l=e,i=a,function(){if(!(!l||!l.previewElement||l.scanningComplete||l.done||i<=0)&&t){if(Math.log(i/1e3)/Math.log(2)>2)return l.scanningComplete=!0,void(l.done=!0);for(var e=l.previewElement.querySelectorAll("[data-dz-uploadprogress]"),a=0,s=e.length;a<s;a++){var o=e[a],r=parseInt(o.style.width);100!==r&&(r+3<=100&&(r+=3),o.style.width=Math.round(r)+"%")}n.call(t,l,2*i)}}),a)}).call(this,e,1e3);var t="message";this.options.wmsFallback=$.extend(!0,this.defaultOptions.wmsFallback,this.options.wmsFallback);var n,l=function(e,n,i){if(n>a)this.pushToErrorState(e,this.options.dictResponseError,e.xhr);else{var s,o,r,d,c=new crmRequestPool,p=(s=this,o=e,r=n,d=i,function(e){if(s&&o&&!o.done&&!o.scanningComplete&&o.status!==FileUploader.CANCELED){var a,n,i,c,p={};if(s.options.wmsFallback.successCallback===FileUploader.noop){if(typeof e!=typeof{})return;var u=null;try{u=JSON.parse(e)}catch(a){u=e}if(!u)return;for(var m in u)if(u.hasOwnProperty(m)&&("status"===m&&(p.error="success"!==u[m]),"code"===m&&(p.status_code=u[m]),m===t&&(p.message=u[m]),"details"===m)){var h=u[m].upload_id;p.uploadId=h}}else p=s.options.wmsFallback.successCallback(e);"D9203"===p.status_code&&(o.virus=!0),!p.uploadId||""===p.uploadId||void 0!==o.virus&&!o.virus?setTimeout((a=s,n=o,i=r+1,c=2*d,function(){a&&n&&!n.done&&!n.scanningComplete&&n.status!==FileUploader.CANCELED&&a.options.needWMSFallback&&l.call(a,n,i,c)}),2*d):(o.done=!0,p.eventid=o.upload.id,s.centralFileUploaderCallbackHandler.call(s,p,o),s.emit("callbackcomplete",o),s.isBatchCallbackComplete()&&s.emit("batchcallbackcomplete",s.files))}}),u=function(e,a,t,n){return function(){e.pushToErrorState(a,e.options.dictResponseError,a.xhr)}}(this,e);try{var m=this.options.wmsFallback.URL,h=this.options.wmsFallback.requestMethod,f=this.options.wmsFallback.data;""===this.options.wmsFallback.URL&&(m=this.options.wmsFallback.defaultURL+e.upload.id,h="GET"),c.initiate({action:m,type:h,data:f,headers:{"X-ZCSRF-TOKEN":new StringBuilder(csrfParamName).append("=").append(csrfToken).toString(),"X-CRM-ORG":Crm.userDetails.ZGID},success:p,error:u})}catch(e){}}},i=357e-6*e.size;i=Math.ceil(i+i/2),i=Math.max(1e3,i),setTimeout((s=this,o=e,r=i,function(){s&&o&&!o.done&&!o.scanningComplete&&o.status!==FileUploader.CANCELED&&s.options.needWMSFallback&&l.call(s,o,1,r)}),i),(n=function(e,a){var t,l,i;setTimeout((t=this,l=e,i=a,function(){if(!(!l||!l.previewElement||l.scanningComplete||l.done||i<=0)&&t&&!(Math.log(i/1e3)/Math.log(2)>2)){for(var e=l.previewElement.querySelectorAll("[data-dz-uploadprogress]"),a=0,s=e.length;a<s;a++){var o=e[a],r=parseInt(o.style.width);100!==r&&(r+3<=100&&(r+=3),o.style.width=Math.round(r)+"%")}n.call(t,l,2*i)}}),a)}).call(this,e,1e3)}var s,o,r},this.defaultOptions.paste=function(e){return this.element.classList.remove("dz-drag-hover")},this.defaultOptions.customizepreviewtemplate=function(e){if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){this.previewsContainer.appendChild(e.previewElement);for(var a=e.previewElement.querySelectorAll("[data-dz-name]"),t=0,n=a.length;t<n;t++){a[t].textContent=e.name}for(var l=e.previewElement.querySelectorAll("[data-dz-size]"),i=0,s=l.length;i<s;i++){l[i].textContent=this.options.getFileSize(e.size)}}},this.defaultOptions.removedfile=function(e){var a;return e.previewElement&&null!=(a=e.previewElement)&&a.parentNode.removeChild(e.previewElement),this.isBatchCallbackComplete()&&this.emit("batchcallbackcomplete",this.files),this._updateMaxFilesReachedClass()},this.defaultOptions.reset=function(){this.element.classList.remove("dz-started"),this.proceed&&$(this.proceed).prop("disabled",!0),this.clearContentFromContainer(this.options.successfullyUploadedFiles),this.clearContentFromContainer(this.options.failedUploadedFiles)},this.defaultOptions.batchcallbackcomplete=function(e){!this.allFilesFailed()&&this.proceed&&$(this.proceed).prop("disabled",!1),this.options.autoProcessQueue&&this.processQueue()},this.defaultOptions.callbackcomplete=function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-callbackcomplete"),this.options.autoProcessQueue&&this.processQueue(),e.scanningComplete=!0,1!==this.options.progressRatio))for(var a=e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),t=0,n=a.length;t<n;t++){var l=a[t];100!==parseInt(l.style.width)&&(l.style.width="100%")}},this.defaultOptions.addedfile=function(e){var a,t,n,l,i,s,o;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){var r;for($(".crm-msg.fileuploader")&&$(".crm-msg.fileuploader").remove(),e.previewElement=Dropzone.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.emit("customizepreviewtemplate",e),r=this,a=function(a){a.preventDefault(),a.stopPropagation();var t,n,l=null,s=null;if(r.options.customConfirmContainer&&r.options.customConfirmTemplate&&(l=FileUploader.getElement(r.options.customConfirmContainer),s=FileUploader.createElements(r.options.customConfirmTemplate)),l&&s&&s.length>0){l.removeAll(),$(l).hide();for(var o=0,d=s.length;o<d;o++)l.appendChild(s[o])}if(e.status===FileUploader.ERROR)r.removeFile(e);else{if((e.status===FileUploader.UPLOADING&&r.options.dictCancelUploadConfirmation||r.options.dictRemoveFileConfirmation)&&r.options.customConfirmCallback)return r.options.customConfirmCallback.call(r,a,e,(function(){r.removeFile(e)}));if((e.status===Dropzone.UPLOADING&&r.options.dictCancelUploadConfirmation||r.options.dictRemoveFileConfirmation)&&r.options.customConfirmContainer&&r.options.customConfirmTemplate){if(l=FileUploader.getElement(r.options.customConfirmContainer)){r.emit("customconfirm",a,e);var c=l.querySelector("[data-dz-customconfirm-message]");c&&e.status===Dropzone.UPLOADING&&r.options.dictCancelUploadConfirmation&&c.textContent&&""!==c.textContent?c.textContent=r.options.dictCancelUploadConfirmation:c&&r.options.dictRemoveFileConfirmation&&c.textContent&&""!==c.textContent&&(c.textContent=r.options.dictRemoveFileConfirmation);var p=l.querySelectorAll("[data-dz-customconfirm-success]"),u=l.querySelectorAll("[data-dz-customconfirm-failure]"),m=(t=r,n=e,function(e){FileUploader.noPropagation(e),$(l).hide(),t.removeFile(n)}),h=function(e){FileUploader.noPropagation(e),$(l).hide()};for(o=0,d=p.length;o<d;o++)i=p[o],$(i).one("click",m);for(o=0,d=u.length;o<d;o++)i=u[o],$(i).one("click",h);$(l).show()}}else{if(e.status===FileUploader.UPLOADING&&r.options.dictCancelUploadConfirmation)return FileUploader.confirm(r.options.dictCancelUploadConfirmation,(function(){r.removeFile(e)}));if(r.options.dictRemoveFileConfirmation)return FileUploader.confirm(r.options.dictRemoveFileConfirmation,(function(){r.removeFile(e)}));r.removeFile(e)}}},o=[],n=0,l=(s=e.previewElement.querySelectorAll("[data-dz-remove]")).length;n<l;n++){t=s[n],o.push(t.addEventListener("click",a));var d={};d.element=t,d.action="click",d.actionHandler=a,this.eventTracker.push(d)}return this.proceed&&$(this.proceed).prop("disabled",!0),o}},this.defaultOptions.processing=function(e){e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink&&this.options.dictCancelUpload&&(e._removeLink.textContent=this.options.dictCancelUpload))},this.defaultOptions.error=function(e,a){var t,n,l,i,s;if(e.previewElement){for(e.previewElement.classList.add("dz-error"),"string"!=typeof a&&a.error&&(a=a.error),s=[],n=0,l=(i=e.previewElement.querySelectorAll("[data-dz-errormessage]")).length;n<l;n++){t=i[n];var o=null,r=e.xhr.status;(o="413"===r||413===r?I18n.getMsg("crm.fileuploader.entityattachments.message."+r,[this.options.getFileSize(this.options.totalFilesize*Math.pow(this.options.filesizeBase,2))]):I18n.getMsg("crm.fileuploader.entityattachments.message."+r))==="crm.fileuploader.entityattachments.message."+r&&(o=this.options.dictResponseError),""===t.textContent&&s.push(t.textContent=o)}return s}},this.defaultOptions.complete=function(e){if(e._removeLink&&this.options.dictRemoveFile&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},this.events.push("paste"),this.events.push("customizepreviewtemplate"),this.events.push("addedallfiles"),this.events.push("rejectedallfiles"),this.events.push("customconfirm"),this.events.push("batchclientcomplete"),this.events.push("batchcallbackcomplete"),this.events.push("callbackcomplete"),this.events.push("responsehandler"),this.events.push("terminate"),this.events.push("proceed"),this.events.push("clean"),this.events.push("scanning"),this.eventTracker=[],e.successfullyUploadedFiles=[],e.failedUploadedFiles=[],e._pendingCallback=[],e._doneXhr=[],e._drop={},e._drop.queue=[],e._drop.pool=0,e._drop.revert=!1,null!=e.uploadBean&&e.uploadBean||(e.uploadBean={}),e.uploadBean.batchId="BATCH_"+$.now(),e.uploadMethod=!e.uploadMethod||"zfsng"!==e.uploadMethod&&"zfs"!==e.uploadMethod&&"zos"!==e.uploadMethod?"normal":e.uploadMethod,e.filesizeBase=!e.filesizeBase||1024!==e.filesizeBase&&1e3!==e.filesizeBase?1e3:e.filesizeBase,e.maxFiles=!e.maxFiles||e.maxFiles>200?200:e.maxFiles,e.maxFilesize=!e.maxFilesize||e.maxFilesize>3*Math.pow(e.filesizeBase,3)?3*Math.pow(e.filesizeBase,3):e.maxFilesize,e.flexSize=void 0===e.flexSize||e.flexSize<0?0*Math.pow(e.filesizeBase,2):e.flexSize,e.totalFilesize=!e.totalFilesize||e.totalFilesize>e.maxFiles*(e.maxFilesize+e.flexSize)?e.maxFiles*(e.maxFilesize+e.flexSize):e.totalFilesize,e.parallelUploads=!e.parallelUploads||e.parallelUploads>5?5:e.parallelUploads},FileUploader.prototype.getBatchId=function(){return this.options.uploadBean.batchId},FileUploader.prototype.getRequestMethod=function(){return"normal"===this.options.uploadMethod||"zos"===this.options.uploadMethod?this.options.method:this.options.uploadBean.udserver.requestMethod},FileUploader.prototype.getRequestURL=function(){return"normal"===this.options.uploadMethod||"zos"===this.options.uploadMethod?this.options.url:new StringBuilder(this.options.uploadBean.udserver.protocol).append("//").append(this.options.uploadBean.udserver.url).append("/").append(this.options.uploadBean.udserver.path).toString()},FileUploader.prototype.addContentToContainer=function(e){return e.error?this.options.failedUploadedFiles.push(e):this.options.successfullyUploadedFiles.push(e)},FileUploader.prototype.clearContentFromContainer=function(e){return[]},FileUploader.prototype.getParamsFromAllContents=function(e,a){for(var t=[],n=e,l=0,i=n.length;l<i;l++){var s=n[l];typeof s==typeof{}&&(s.hasOwnProperty(a)&&t.push(s[a]))}return t},FileUploader.prototype.getContentHavingParams=function(e){for(var a=[],t=e,n=[],l=[],i=arguments,s=0,o=i.length;s+1<o;s++)n.push(argument[s]),l.push(argument[s+1]);for(s=0,o=t.length;s<o;s++){var r=t[s];if(typeof r==typeof{}){for(var d=!0,c=0,p=n.length;c<p;c++)if(!r.hasOwnproperty(n[c])||r[n[c]]!==l[c]){d=!1;break}d&&a.push(r)}}return a},FileUploader.prototype.getUploadedIds=function(e){return this.getParamsFromAllContents(this.options.successfullyUploadedFiles,e)},FileUploader.prototype.getIdsAsFormData=function(e,a,t){var n=this.getUploadedIds(e);t.append(a,n)},FileUploader.prototype.fileUploaderCallback=function(e,a){return this.addContentToContainer(e)},FileUploader.prototype.centralFileUploaderCallbackHandler=function(e,a){if(this.options.fileUploaderCallback!==FileUploader.noop&&this.options.fileUploaderCallback.call(this,e,a),e.error&&e.status_code){var t=null;(t="D9202"===e.status_code||"413"===e.status_code?I18n.getMsg("crm.fileuploader.entityattachments.message."+e.status_code,[this.options.getFileSize(this.options.totalFilesize*Math.pow(this.options.filesizeBase,2))]):I18n.getMsg("crm.fileuploader.entityattachments.message."+e.status_code))==="crm.fileuploader.entityattachments.message."+e.status_code&&(t=this.options.dictResponseError),this.pushToErrorState(a,t,a.xhr)}"normal"!==this.options.uploadMethod&&this.fileUploaderCallback(e,a)},FileUploader.prototype.callbackHandler=function(e){var a=null,t=this;for(var n in e)if(e.hasOwnProperty(n)){var l=e[n];if(l&&"string"==typeof l&&l.startsWith("BATCH_")){a=l;break}}if(a&&t){var i,s,o,r=t.getFileWithId(a),d=(i=t,s=e,o=r,function(){o&&o.done||(o.done=!0,o.status!==FileUploader.CANCELED&&("D9203"===s.status_code&&(o.virus=!0),i.centralFileUploaderCallbackHandler.call(i,s,o),i.emit("callbackcomplete",o),i.isBatchCallbackComplete()&&i.emit("batchcallbackcomplete",i.files)))}),c={},p=r.upload.id,u=$.inArray(p,t.options._doneXhr);-1===u?(c[p]=d,t.options._pendingCallback.push(c)):(d(),t.options._doneXhr.splice(u,1))}},FileUploader.displayMessage=function(e,a,t){if("zos"===this.options.uploadMethod){var n=$("#fileUploaderErrorBox");n&&(n[0].ltProp("message",a),n[0].ltProp("type",e),n[0].ltProp("show",!0))}else this.options.pickerNotificationsNeeded&&crmui.showMsgBand(e,a,t)},FileUploader.getDisplayMessage=function(e,a){var t="";switch(e){case this.options.messageState.NOOFFILESEXCEEDLIMIT:t=I18n.getMsg("crm.fileuploader.message.maxfilesexceeded",[this.options.maxFiles]);break;case this.options.messageState.TOTALSIZEEXCEEDLIMIT:t=I18n.getMsg("crm.fileuploader.message.totalfilesizeexceeded",[this.options.getFileSize(this.options.totalFilesize*Math.pow(this.options.filesizeBase,2))]);break;case this.options.messageState.BIGFILES:1===a.length?t="zos"===this.options.uploadMethod?I18n.getMsg("crm.fileuploader.message.filetoobig1",[a[0].name,this.options.getFileSize(this.options.maxFilesize*Math.pow(this.options.filesizeBase,2))]):I18n.getMsg("crm.fileuploader.message.filetoobig1",[$ESAPI.encoder().encodeForHTML(a[0].name),this.options.getFileSize(this.options.maxFilesize*Math.pow(this.options.filesizeBase,2))]):this.files.length===a.length?t=I18n.getMsg("crm.fileuploader.message.filetoobig3",[this.options.getFileSize(this.options.maxFilesize*Math.pow(this.options.filesizeBase,2))]):2===a.length?t="zos"===this.options.uploadMethod?I18n.getMsg("crm.fileuploader.message.filetoobig2",[a[0].name,a[1].name,this.options.getFileSize(this.options.maxFilesize*Math.pow(this.options.filesizeBase,2))]):I18n.getMsg("crm.fileuploader.message.filetoobig2",[$ESAPI.encoder().encodeForHTML(a[0].name),$ESAPI.encoder().encodeForHTML(a[1].name),this.options.getFileSize(this.options.maxFilesize*Math.pow(this.options.filesizeBase,2))]):a.length>0&&(t="zos"===this.options.uploadMethod?"<div>"+I18n.getMsg("crm.fileuploader.message.filetoobig2",[a[0].name,'<span id="otherstooltip" style="cursor: pointer"><b><u>'+I18n.getMsg("crm.fileuploader.message.morefiles",(a.length-1).toString())+"</b></u></span>",this.options.getFileSize(this.options.maxFilesize*Math.pow(this.options.filesizeBase,2))])+"</div>":"<div>"+I18n.getMsg("crm.fileuploader.message.filetoobig2",[$ESAPI.encoder().encodeForHTML(a[0].name),'<span id="otherstooltip" style="cursor: pointer"><b><u>'+I18n.getMsg("crm.fileuploader.message.morefiles",(a.length-1).toString())+"</b></u></span>",this.options.getFileSize(this.options.maxFilesize*Math.pow(this.options.filesizeBase,2))])+"</div>");break;case this.options.messageState.EMPTYFILES:case this.options.messageState.UNSUPPORTEDFILES:1===a.length?t=I18n.getMsg("crm.fileuploader.message.invalidfileType1",[$ESAPI.encoder().encodeForHTML(a[0].name)]):this.files.length===a.length?t=I18n.getMsg("crm.fileuploader.message.invalidfileType3"):2===a.length?t=I18n.getMsg("crm.fileuploader.message.invalidfileType2",[$ESAPI.encoder().encodeForHTML(a[0].name),$ESAPI.encoder().encodeForHTML(a[1].name)]):a.length>0&&(t="<div>"+I18n.getMsg("crm.fileuploader.message.invalidfileType2",[$ESAPI.encoder().encodeForHTML(a[0].name),'<span id="otherstooltip" style="cursor: pointer"><b><u>'+I18n.getMsg("crm.fileuploader.message.morefiles",(a.length-1).toString())+"</b></u></span>"])+"</div>");break;case this.options.messageState.MALICIOUSFILES:1===a.length?t=I18n.getMsg("crm.fileuploader.message.maliciousfile1",[$ESAPI.encoder().encodeForHTML(a[0].name)]):this.files.length===a.length?t=I18n.getMsg("crm.fileuploader.message.maliciousfile3"):2===a.length?t=I18n.getMsg("crm.fileuploader.message.maliciousfile2",[$ESAPI.encoder().encodeForHTML(a[0].name),$ESAPI.encoder().encodeForHTML(a[1].name)]):a.length>0&&(t="<div>"+I18n.getMsg("crm.fileuploader.message.maliciousfile2",[$ESAPI.encoder().encodeForHTML(a[0].name),'<span id="otherfiles" style="cursor: pointer"><u>'+I18n.getMsg("crm.fileuploader.message.morefiles",(a.length-1).toString())+"</u></span>"])+"</div>");break;default:t=I18n.getMsg("crm.fileuploader.message.uploadfailedretry")}return t},FileUploader.prototype.defaultNotify=function(e,a,t){var n=!1;if(this.options.messageType=$.extend(!0,this.defaultOptions.messageType,this.options.messageType),this.options.messageState=$.extend(!0,this.defaultOptions.messageState,this.options.messageState),this.options.notify!==FileUploader.noop&&(n=this.options.notify.call(this,e,a,t)),!n)return FileUploader.displayMessage.call(this,e,FileUploader.getDisplayMessage.call(this,a,t),this.options.noteAttachLimitExceedNotification),!1},FileUploader.prototype.pushNotification=function(e,a,t){if(this.defaultNotify.call(this,e,a,t),!$(".crm-msg"))return!1;$(".crm-msg").addClass("fileuploader");var n=!1;t&&1!=t.length&&this.files.length!==t.length&&2!==t.length&&t.length>0&&(n=!0),$(".crm-msg").css("max-width","550px"),n&&$("#otherstooltip")&&($("#otherstooltip").on("mouseenter",(function(e){crmui.toolTip_show($("#otherstooltip"),"left",$ESAPI.encoder().encodeForHTML(FileUploader.getFileNamesCommaSeparated(t.slice(1))).replace(/,\s/g,"<br>"),!0),$("#wf_tooltip").css("z-index","5000")})),$("#otherstooltip").on("mouseleave",(function(e){crmui.toolTip_hide()})))},FileUploader.prototype.isContainerActive=function(){var e=this.getActiveFiles(),a=this.getFilesWithStatusAdded();return 0!==e.length||0!==a.length},FileUploader.prototype.isBatchClientComplete=function(){if(this.isContainerActive())return!1;var e=this.getFilesWithStatusSuccess(),a=this.getFilesWithStatusError();return!e||!a||e.length+a.length===this.files.length},FileUploader.prototype.isBatchCallbackComplete=function(){var e=this.getFilesDone(!1);return!(e&&e.length>0)&&!!this.isBatchClientComplete()},FileUploader.prototype.allFilesFailed=function(){return 0!==this.files.length&&this.getFilesWithStatusError().length===this.files.length},FileUploader.prototype.setCustomEvent=function(e,a){this.events.push(e),this.on(e,a||FileUploader.noop)},FileUploader.prototype.callCustomEvent=function(e){-1!==$.inArray(e,this.events)&&this.emit.apply(this,arguments)},FileUploader.maliciousContentDetected=function(e){CTIAPI.createFreezeLayer(),$(".freezeLayer").css("z-index","299"),$(e.containerTitleId).text(e.title),e.title instanceof jQuery?$(e.containerTitleId).html(e.title):$(e.containerTitleId).text(e.title),e.message instanceof jQuery?$(e.containerMessageId).html(e.message):$(e.containerMessageId).text(e.message),$(e.containerOkId).attr("value",e.okMessage),e.isAlert||$(e.containerOkId).on("click",e.okCallback),$(e.containerOkId).on("click",(function(){$(e.containerId).hide(),$(e.containerIconId).removeClass(),removeFreezeLayer(),$(e.containerOkId).off("click"),$(e.containerCancelId).off("click"),$(e.containerCancelId).show()})),e.isAlert?$(e.containerCancelId).hide():($(e.containerCancelId).show(),$(e.containerCancelId).attr("value",e.cancelMessage),$(e.containerCancelId).on("click",(function(){$(e.containerId).hide(),$(e.containerIconId).removeClass(),removeFreezeLayer(),$(e.containerCancelId).off("click"),$(e.containerOkId).off("click")}))),e.otherfilesId&&($(e.otherfilesId).on("mouseenter",(function(a){crmui.toolTip_show($(e.otherfilesId),"left",FileUploader.getFileNamesCommaSeparated(e.maliciousfiles.slice(1)).replace(/,\s/g,"<br>"),!0),$("#wf_tooltip").css("z-index","1100")})),$(e.otherfilesId).on("mouseleave",(function(e){crmui.toolTip_hide()}))),$(e.containerIconId).addClass(e.containerIconClasses),$(e.containerId).css("z-index","300"),$(e.containerId).show()},FileUploader.prototype.init=function(){var e,a,t,n,l,i,s;if("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(Dropzone.createElement(new StringBuilder('<div id="dropzonediv" style="display:none" ').append('class="dz-default dz-message"><span style="display:none">').append(this.options.dictDefaultMessage).append("</span></div>").toString())),this.options.save){this.proceed=FileUploader.getElement(this.options.save,"save");var o=this.proceed,r=(s=this,function(e){FileUploader.noPropagation(e),$(".crm-msg.fileuploader")&&$(".crm-msg.fileuploader").remove();var a=s.getFilesWithMaliciousContents();if(s.options.needVirusFilter&&0!==a.length){s.options.virusFilter=$.extend({},s.defaultOptions.virusFilter,s.options.virusFilter);var t={containerId:s.options.virusFilter.containerId,otherfilesId:s.options.virusFilter.otherfilesId.call(s),containerIconId:s.options.virusFilter.containerIconId,containerIconClasses:s.options.virusFilter.containerIconClasses.call(s),containerTitleId:s.options.virusFilter.containerTitleId,title:s.options.virusFilter.title.call(s),containerMessageId:s.options.virusFilter.containerMessageId,message:FileUploader.getDisplayMessage.call(s,s.options.messageState.MALICIOUSFILES,a),containerOkId:s.options.virusFilter.containerOkId,okMessage:s.options.virusFilter.okMessage.call(s),okCallback:function(){this.emit("proceed",e)}.bind(s),containerCancelId:s.options.virusFilter.containerCancelId,cancelMessage:s.options.virusFilter.cancelMessage.call(s),cancelCallback:s.options.virusFilter.cancelCallback.call(s),isAlert:s.options.virusFilter.isAlert.call(s),maliciousfiles:a};FileUploader.maliciousContentDetected.call(s,t),void 0!==this.options.autoCleanOnSave&&this.options.autoCleanOnSave&&$(s.options.cancel).click()}else s.emit("proceed",e)});o.addEventListener("click",r),(d={}).element=o,d.action="click",d.actionHandler=r,this.eventTracker.push(d)}if(this.options.cancel){this.terminate=FileUploader.getElement(this.options.cancel,"cancel");var d,c=this.terminate,p=function(e){return function(a){(FileUploader.noPropagation(a),e.options.preventUploadObjDestroy&&e.options.preventUploadObjDestroy.prevent)?($(e.options.preventUploadObjDestroy.objBindTo).data("attachUploaderObj",e),hideAnimatePopup("attachPopup"),$("#freezeBackGround").css("display","none")):($(".crm-msg.fileuploader")&&$(".crm-msg.fileuploader").remove(),e.emit("terminate",a),e.clean());1==Crm.userDetails.detailView_newUI&&null!=Crm.userDetails.detailView_newUI&&detailView.hideDetailviewMenu(!0)}}(this);c.addEventListener("click",p),(d={}).element=c,d.action="click",d.actionHandler=p,this.eventTracker.push(d)}for(this.clickableElements.length&&(a=function(e){return function(){e.hiddenFileInput&&document.body.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null==e.options.maxFiles||e.options.needMultipleSelection)&&e.hiddenFileInput.setAttribute("multiple","multiple"),!0===e.options.needFolderUpload&&e.hiddenFileInput.setAttribute("webkitdirectory",!0),e.hiddenFileInput.className="dz-hidden-input",null!=e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="200px",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",document.body.appendChild(e.hiddenFileInput);var t,n=(t=e,function(){var e;return e=t.hiddenFileInput.files,t.pushFiles(e),a()});e.hiddenFileInput.addEventListener("change",n);var l={};l.element=e.hiddenFileInput,l.action="change",l.actionHandler=n,e.eventTracker.push(l)}}(this),a()),this.URL=null!=(l=window.URL)?l:window.webkitURL,t=0,n=(i=this.events).length;t<n;t++)("paste"!==(e=i[t])||this.options.pasteFiles)&&this.on(e,this.options[e]);this.on("uploadprogress",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("canceled",function(e){return function(a){return e.emit("complete",a)}}(this)),this.on("complete",function(e){return function(a){if(0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout((function(){return e.emit("queuecomplete")}),0)}}(this)),this.listeners=[{element:this.element,events:{dragstart:function(e){return function(a){return e.emit("dragstart",a)}}(this),dragenter:function(e){return function(a){return FileUploader.noPropagation(a),e.emit("dragenter",a)}}(this),dragover:function(e){return function(a){var t;try{t=a.dataTransfer.effectAllowed}catch(e){}return a.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy",FileUploader.noPropagation(a),e.emit("dragover",a)}}(this),dragleave:function(e){return function(a){return e.emit("dragleave",a)}}(this),drop:function(e){return function(a){return FileUploader.noPropagation(a),e.drop(a)}}(this),dragend:function(e){return function(a){return e.emit("dragend",a)}}(this)}}],this.options.pasteFiles&&(this.listeners[0].events.paste=function(e){return function(a){return FileUploader.noPropagation(a),e.paste(a)}}(this)),this.setCustomEvent.bind(this),this.callCustomEvent.bind(this),this.clickableElements.forEach(function(e){return function(a){return e.listeners.push({element:a,events:{click:function(t){if(a!==e.element||t.target===e.element||Dropzone.elementInside(t.target,e.element.querySelector(".dz-message")))return e.hiddenFileInput.click()}}})}}(this)),this.enable(),this.checkAuthorization(),this.options.init.call(this)},FileUploader.prototype.pushFiles=function(e){if(e.length&&!(e.length<=0)){if(this.files.length+e.length>this.options.maxFiles)return this.emit("rejectedallfiles",e,e),void this.pushNotification(this.options.messageType.error,this.options.messageState.NOOFFILESEXCEEDLIMIT,null);for(var a=0,t=0,n=this.files.length;t<n;t++){a+=(o=this.files[t]).size}for(t=0,n=e.length;t<n;t++){if(a+(o=e[t]).size>this.options.totalFilesize*Math.pow(this.options.filesizeBase,2))return this.emit("rejectedallfiles",e,e),this.pushNotification(this.options.messageType.error,this.options.messageState.TOTALSIZEEXCEEDLIMIT,null),!1;a+=o.size}var l=[],i=[],s=[];for(t=0,n=e.length;t<n;t++){(o=e[t]).size>(this.options.maxFilesize+this.options.flexSize)*Math.pow(this.options.filesizeBase,2)?(o.status=Dropzone.ERROR,l.push(o)):0===o.size?(o.status=Dropzone.ERROR,s.push(o)):Dropzone.isValidFile(o,this.options.acceptedFiles)||(o.status=Dropzone.ERROR,i.push(o))}if(l.length>0)return this.emit("rejectedallfiles",l,e),this.pushNotification(this.options.messageType.error,this.options.messageState.BIGFILES,l),!1;if(i.length>0)return this.emit("rejectedallfiles",i,e),this.pushNotification(this.options.messageType.error,this.options.messageState.UNSUPPORTEDFILES,i),!1;if(s.length>0)return this.emit("rejectedallfiles",s,e),this.pushNotification(this.options.messageType.error,this.options.messageState.EMPTYFILES,s),!1;for(t=0,n=e.length;t<n;t++){var o;(o=e[t]).status!==Dropzone.ERROR&&this.addFile(o)}this.emit("addedallfiles",e)}},FileUploader.prototype.checkAuthorization=function(){if(this.previewsContainer&&!1===this.options.isAuthorized&&"normal"!==this.options.uploadMethod){var e=RebrandLinkUtil.getProperty("ACCOUNTS_URL")+"/login?";e=Crm.isVertical?RebrandLinkUtil.getProperty("CLIENT_ACCOUNTS_URL")+"/accounts/signin?client_portal=true&portal="+Crm.Vertical.zaid+"&":Crm.userDetails.CLIENT_ACCOUNT?RebrandLinkUtil.getProperty("CLIENT_ACCOUNTS_URL")+"/accounts/signin?client_portal=true&portal="+Crm.userDetails.CLIENT_PORTAL_ID+"&":"";var a=this.previewsContainer.parentNode;a&&""!==e&&a.insertBefore(FileUploader.createElement(new StringBuilder('<iframe id="clientTicket"').append('style="display: none;" src="https://').append(e).append("servicename=").append(RebrandLinkUtil.getProperty("zdocServiceName")).append("&serviceurl=").append("https:").append("//").append(RebrandLinkUtil.getProperty("UPLOADSERVERSWITCHURL")).append("/").append(crmConstants.FileUploader.uploadServerPath).append('">').append("</iframe>").toString()),this.previewContainer),this.options.isAuthorized=!0}},FileUploader.prototype.fileSize=function(e){var a,t,n,l,i,s,o;if(t=0,n="B",e>0){for(a=s=0,o=(i=["TB","GB","MB","KB","B"]).length;s<o;a=++s)if(l=i[a],e>=Math.pow(this.options.filesizeBase,4-a)){t=e/Math.pow(this.options.filesizeBase,4-a),n=l;break}t=Math.round(10*t)/10}return t+" "+n},FileUploader.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=Dropzone.ADDED,e.done=!1,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,(a=this,function(t){return t?(e.accepted=!1,a._errorProcessing([e],t)):(e.accepted=!0,a.options.autoQueue&&a.enqueueFile(e)),a._updateMaxFilesReachedClass()}));var a},FileUploader.prototype.accept=function(e,a){return this.options.accept.call(this,e,a)},FileUploader.prototype.drop=function(e){var a,t,n,l;if(e.dataTransfer&&(this.emit("drop",e),this.options.proceedUploadOnDrop&&((a=e.dataTransfer.items)&&(n=a.length),(t=e.dataTransfer.files)&&(l=t.length),(a||t)&&(0!==l||0!==n))))if(this.options._drop.queue=[],this.options._drop.pool=0,this.options._drop.revert=!1,a&&t&&n>0&&l>0&&null!=a[0].webkitGetAsEntry)this._addFilesFromItems(a);else if(t&&t.length>0){for(var i=[],s=0,o=t.length;s<o;s++)0!==t[s].size&&t[s].type&&i.push(t[s]);this.pushFiles(i)}},FileUploader.prototype.paste=function(e){var a,t;null!=(null!=e&&null!=(t=e.clipboardData)?t.items:void 0)&&(this.emit("paste",e),(a=e.clipboardData.items)&&(_lenItems=a.length),_files=e.clipboardData.files,_files&&(_lenFiles=_files.length),!a&&!_files||0===_lenFiles&&0===_lenItems||(this.options._drop.queue=[],this.options._drop.pool=0,this.options._drop.revert=!1,a&&_files&&_lenItems>0&&_lenFiles>0&&null!=a[0].webkitGetAsEntry?this._addFilesFromItems(a):_files&&_files.length>0&&this.pushFiles(_files)))},FileUploader.prototype._addFilesFromItems=function(e){for(var a=[],t=0,n=e.length;t<n;t++){if(null!=(l=e[t]).webkitGetAsEntry&&(i=l.webkitGetAsEntry()))if(i.isFile){if(this.files.length+this.options._drop.queue.length+1>this.options.maxFiles)return this.pushNotification(this.options.messageType.error,this.options.messageState.NOOFFILESEXCEEDLIMIT,null),this.options._drop.queue=[],this.options._drop.pool=0,void(this.options._drop.revert=!0);this.options._drop.queue.push(l.getAsFile())}else i.isDirectory&&this.options.needFolderUpload&&(a.push(l),this.options._drop.pool++);else null!=l.getAsFile&&(null!=l.kind&&"file"!==l.kind||results.push(l.getAsFile()))}for(t=0;t<a.length;t++){var l,i;null!=(l=a[t]).webkitGetAsEntry&&(i=l.webkitGetAsEntry())&&i.isDirectory&&this._addFilesFromDirectory(i,i.name)}0===this.options._drop.pool&&this.processDropQueue()},FileUploader.prototype._addFilesFromDirectory=function(e,a){var t,n,l;return t=e.createReader(),l=this,n=function(e){if(l.options._drop.pool--,!l.options._drop.revert){var t,n,i,s=[],o=0;for(n=0,i=e.length;n<i;n++)if((t=e[n]).isFile&&(!l.options.ignoreHiddenFiles||"."!==t.name.substring(0,1))){if(l.files.length+l.options._drop.queue.length+o+1>l.options.maxFiles)return l.pushNotification(l.options.messageType.error,l.options.messageState.NOOFFILESEXCEEDLIMIT,null),l.options._drop.queue=[],l.options._drop.pool=0,void(l.options._drop.revert=!0);o++}var r=function(e){return function(t){e.files.length+e.options._drop.queue.length+1>e.options.maxFiles||(t.fullPath=a+"/"+t.name,e.options._drop.queue.push(t))}};for(n=0,i=e.length;n<i;n++)if((t=e[n]).isFile){if(l.options.ignoreHiddenFiles&&"."===t.name.substring(0,1))continue;t.file(r(l))}else t.isDirectory&&l.options.needFolderUpload&&(s.push(t),l.options._drop.pool++);for(n=0;n<s.length;n++){var d=s[n];l._addFilesFromDirectory(d,a+"/"+d.name)}0===l.options._drop.pool&&l.processDropQueue()}},t.readEntries(n,function(e){return function(a){e.pushNotification(e.options.messageType.error,e.options.messageState.GENERALERROR,null)}}(this))},FileUploader.prototype.processDropQueue=function(){0!==this.options._drop.pool||0===this.options._drop.queue.length||this.options._drop.revert||(this.pushFiles(this.options._drop.queue),this.options._drop.queue=[],this.options._drop.pool=0,this.options._drop.revert=!1)},FileUploader.prototype.fetchBaseHeader=function(e){if("normal"===this.options.uploadMethod||"zos"===this.options.uploadMethod)return{"X-ZCSRF-TOKEN":csrfParamName+"="+csrfToken,"X-CRM-ORG":crmZgid,"cache-control":crmConstants.FileUploader.cacheControl,"x-requested-with":crmConstants.FileUploader.xRequestedWith};for(var a=null,t=["zfs","zfsng"],n=["true"===(void 0!==isSandboxAcc&&isSandboxAcc)?RebrandLinkUtil.getProperty("SANDBOXUPLOADSERVERSERVICEKEY"):RebrandLinkUtil.getProperty("UPLOADSERVERSERVICEKEY"),RebrandLinkUtil.getProperty("DOCSUPLOADSERVERSERVICEKEY")],l=0,i=t.length;l<i;l++)this.options.uploadMethod===t[l]&&(a=n[l]);var s={accept:crmConstants.FileUploader.accept,"cache-control":crmConstants.FileUploader.cacheControl,"x-requested-with":crmConstants.FileUploader.xRequestedWith,connection:crmConstants.FileUploader.connection,"content-type":crmConstants.FileUploader.contentType,"x-streammode":crmConstants.FileUploader.xStreammode,charset:crmConstants.FileUploader.charset,"upload-id":e.upload.id?e.upload.id:null,"x-filename":e.upload.fileName?encodeURIComponent(e.upload.fileName):null,"x-content_type":e.type?e.type:null,"content-length":e.upload.fileSize?e.upload.fileSize:null,crmhandback:this.options.uploadBean.crmHandback?JSON.stringify(this.options.uploadBean.crmHandback):""};if(s["x-service"]=this.options.uploadBean.serviceKey?this.options.uploadBean.serviceKey:a,Crm.isVertical){var o={"x-crm-subdomain":Crm.Vertical.appDomain,"x-cli-zaid":Crm.Vertical.zaid};s=$.extend({},s,o)}if(Crm.userDetails.CLIENT_ACCOUNT){var r={"x-cli-zaid":Crm.userDetails.CLIENT_PORTAL_ID};s=$.extend({},s,r)}if("zfs"===this.options.uploadMethod)return s;var d={"x-notifyto":RebrandLinkUtil.getProperty("WMS_PRDID"),"x-docconversion":crmConstants.FileUploader.xDocConversion,invoker:crmConstants.FileUploader.invoker,"x-zsoid":this.options.uploadBean.user.zgid?this.options.uploadBean.user.zgid:Crm.userDetails.ZGID,"x-folderid":this.options.uploadBean.folderId?this.options.uploadBean.folderId:null,"x-uploadto":this.options.uploadBean.uploadTo?this.options.uploadBean.uploadTo:null};return s=$.extend({},s,d)},FileUploader.prototype.uploadFiles=function(e){if("normal"!==this.options.uploadMethod){if("zos"!==this.options.uploadMethod)(a=this,function(){var e=RebrandLinkUtil.getProperty("UPLOADSERVERSWITCHURL"),t=RebrandLinkUtil.getProperty("UPLOADSERVERURL");void 0!==a.options.switchCompatible&&a.options.switchCompatible&&(e=t),a.options.uploadBean.udserver={requestMethod:crmConstants.FileUploader.uploadServerMethod,protocol:"https:",url:e,path:crmConstants.FileUploader.uploadServerPath}})();var a;this.options.uploadBean;if("zos"===this.options.uploadMethod){var t=$L("#file_attach_Vision"),n=$L("#vision_creation_page");n&&(n=n[0].component)}for(i=0,s=e.length;i<s;i++)try{r=new XMLHttpRequest;(o=e[i]).xhr=r,o.upload.fileNumber=i,o.upload.fileName=o.name,o.upload.fileSize=o.size,l="FILE_"+$.now()+"_"+o.upload.fileNumber;c=o.previewElement;(d=document.createAttribute("id")).value=this.getBatchId()+"_"+l,o.upload.id=d.value,c.setAttributeNode(d),jQuery.data(c,o.upload.id,this.callbackHandler.bind(this)),o.previewElement=c,r.open(this.getRequestMethod(),this.getRequestURL(),!0),r.withCredentials=!!this.options.withCredentials,(null!=(m=r.upload)?m:r).onprogress=FileUploader.updateProgressCallback(this,o),r.onload=FileUploader.onloadCallback(this,o),r.onerror=FileUploader.onerrorCallback(this,o);p=this.fetchBaseHeader(o);for(headerName in this.options.headers&&(p=$.extend({},this.options.headers,p)),p)headerValue=p[headerName],r.setRequestHeader(headerName,headerValue);if("zos"===this.options.uploadMethod)r.withCredentials=!0,(u=new FormData).append("images",o),this.emit("sending",u,r),r.send(u),t&&(t[0].ltProp("disabled",!0),n.setData("is_gallery_selected",!1));else this.emit("sending",o,r),r.send(o)}catch(a){a.message=a.message+" ::::: Extra Details : File Upload failed for "+this.getBatchId()+"_"+l,this.pushToErrorState(e[i],this.options.dictResponseError,e[i].xhr,a)}}else for(var l,i=0,s=e.length;i<s;i++)try{var o,r=new XMLHttpRequest;(o=e[i]).xhr=r,o.upload.fileNumber=i,o.upload.fileName=o.name,o.upload.fileSize=o.size,l="FILE_"+$.now()+"_"+o.upload.fileNumber;var d,c=o.previewElement;(d=document.createAttribute("id")).value=this.getBatchId()+"_"+l,o.upload.id=d.value,c.setAttributeNode(d),o.previewElement=c,r.open(this.getRequestMethod(),this.getRequestURL(),!0),r.withCredentials=!!this.options.withCredentials,(null!=(m=r.upload)?m:r).onprogress=FileUploader.updateProgressCallback(this,o),r.onload=FileUploader.onloadCallback(this,o),r.onerror=FileUploader.onerrorCallback(this,o);var p=this.fetchBaseHeader(o);for(headerName in this.options.headers&&(p=$.extend({},this.options.headers,p)),window.clientPortalName&&(p["X-CRMPORTAL"]=window.clientPortalName),p)headerValue=p[headerName],r.setRequestHeader(headerName,headerValue);var u=new FormData;if(this.options.formData){var m=this.options.formData;for(var h in m)m.hasOwnProperty(h)&&(u.has(h)?u.set(h,m[h]):u.append(h,m[h]))}this.emit("sending",o,r),u.append("file",o),r.send(u)}catch(a){a.message=a.message+" ::::: Extra Details : File Upload failed for "+this.getBatchId()+"_"+l,this.pushToErrorState(e[i],this.options.dictResponseError,e[i].xhr,a)}},FileUploader.prototype._finished=function(e,a,t){e.status=Dropzone.SUCCESS,this.emit("success",e,a,t),this.emit("complete",e),this.emit("scanning",e),"normal"===this.options.uploadMethod&&(this.centralFileUploaderCallbackHandler.call(this,a,e),this.emit("callbackcomplete",e)),this.options.autoProcessQueue&&this.processQueue(),this.isBatchClientComplete()&&this.emit("batchclientcomplete",this.files)},FileUploader.prototype.removeFile=function(e){if(e.status===Dropzone.UPLOADING&&this.cancelUpload(e),e.status===Dropzone.SUCCESS||e.status===Dropzone.ERROR){for(var a=this.options.successfullyUploadedFiles,t=this.options.failedUploadedFiles,n=!1,l=0,i=a.length;l<i;l++){if(typeof(o=a[l])==typeof{})for(var s in o)if(o.hasOwnProperty(s)&&o[s]===e.upload.id){this.options.failedUploadedFiles.push(o),this.options.successfullyUploadedFiles.splice(l,1),n=!0;break}}for(l=0,i=t.length;!n&&l<i;l++){var o;if(typeof(o=t[l])==typeof{})for(var s in o)o.hasOwnProperty(s)&&o[s]===e.upload.id&&this.options.failedUploadedFiles.splice(l,1)}}if(this.files=FileUploader.without(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")},FileUploader.prototype.cancelUpload=function(e){if(e.status===Dropzone.UPLOADING&&e.xhr.abort(),e.status=Dropzone.CANCELED,this.emit("canceled",e),this.options.autoProcessQueue)return this.processQueue()},FileUploader.prototype.getFilesDone=function(e){for(var a=[],t=0,n=this.files.length;t<n;t++)this.files[t].done===e&&a.push(this.files[t]);return a},FileUploader.prototype.getFileWithId=function(e){for(var a,t=0,n=this.files.length;t<n;t++){var l=this.files[t];if(l.upload.id===e){a=l;break}}return a},FileUploader.prototype.getTotalSizeOfAllFiles=function(){for(var e=0,a=0,t=this.files.length;a<t;a++){e+=this.files[a].size}return e},FileUploader.prototype.getFilesWithMaliciousContents=function(){for(var e=[],a=0,t=this.files.length;a<t;a++)this.files[a].virus&&e.push(this.files[a]);return e},FileUploader.prototype.getFilesWithStatusSuccess=function(){return this.getFilesWithStatus(Dropzone.SUCCESS)},FileUploader.prototype.getFilesWithStatusError=function(){return this.getFilesWithStatus(Dropzone.ERROR)},FileUploader.prototype.getFilesWithStatusCanceled=function(){return this.getFilesWithStatus(Dropzone.CANCELED)},FileUploader.prototype.getFilesWithStatusUploading=function(){return this.getFilesWithStatus(Dropzone.UPLOADING)},FileUploader.prototype.getFilesWithStatusProcessing=function(){return this.getFilesWithStatus(Dropzone.PROCESSING)},FileUploader.prototype.getFilesWithStatusAccepted=function(){return this.getFilesWithStatus(Dropzone.QUEUED)},FileUploader.prototype.getFilesWithStatusQueued=function(){return this.getFilesWithStatus(Dropzone.QUEUED)},FileUploader.prototype.getFilesWithStatusAdded=function(){return this.getFilesWithStatus(Dropzone.ADDED)},FileUploader.prototype.updateTotalUploadProgress=FileUploader.noop,FileUploader.prototype.pushToErrorState=function(e,a,t,n){return this._errorProcessing([e],a,t,n)},FileUploader.prototype._errorProcessing=function(e,a,t,n){var l,i,s;for(i=0,s=e.length;i<s;i++){l=e[i];var o={type:"custom event"};if(o.file_id=l.upload.id,o.message=a,murphy.addCustomTracking(o),null!=n&&n)murphy.error(n);else try{throw new Error("File Upload failed for FILE : "+l.upload.id+", MESSAGE : "+a)}catch(e){murphy.error(e)}}for(i=0,s=e.length;i<s;i++)(l=e[i]).status=Dropzone.ERROR,this.emit("error",l,a,t),this.emit("complete",l);this.options.autoProcessQueue&&this.processQueue(),this.isBatchClientComplete()&&this.emit("batchclientcomplete",this.files)},FileUploader.prototype.clean=function(){this.emit("clean"),this.destroy();for(var e=0,a=this.eventTracker.length;e<a;e++){var t=this.eventTracker[e];if(t.element&&t.action&&t.actionHandler)try{t.element.removeEventListener(t.action,t.actionHandler)}catch(e){}}for(var n=0;n<FileUploader.instances.length;n++){var l=FileUploader.instances[n];if(l.batchId===this.options.uploadBean.batchId&&l.instance===this){FileUploader.instances.splice(n,1);break}}for(var i in $(this.element).removeAttr("batchId"),this)this.hasOwnProperty(i)&&delete this[i]},FileUploader.getFileNamesCommaSeparated=function(e){for(var a="",t=0,n=e.length;t<n;t++)a+=e[t].name,t+1<n&&(a+=", ");return a},FileUploader.updateProgressCallback=function(e,a){return function(t){var n,l;if(null!=t){if(!t.lengthComputable)return;if((n=100*t.loaded/t.total)<=a.upload.progress)return;a.upload.progress=n,a.upload.bytesSent=t.loaded,a.upload.total=t.total}else if(l=!0,n=100,100===a.upload.progress&&a.upload.bytesSent===a.upload.total||(l=!1),a.upload.progress=n,a.upload.bytesSent=a.upload.total,l)return;return e.emit("uploadprogress",a,n,a.upload.bytesSent)}},FileUploader.onloadCallback=function(e,a){return function(t){var n;if(4===a.xhr.readyState){a.status!==Dropzone.CANCELED&&(e.options._doneXhr.push(a.upload.id),FileUploader.updateProgressCallback(e,a)(),e.emit("responsehandler",a,a.xhr),200<=(n=a.xhr.status)&&n<300?(e.options.isAuthorized=!0,e._finished(a,a.xhr.responseText||e.options.dictResponseSuccess,t)):(e.options.isAuthorized=!1,e._errorProcessing([a],a.xhr.responseText||e.options.dictResponseError,a.xhr)));for(var l=0,i=e.options._pendingCallback.length;l<i;l++){var s=e.options._pendingCallback[l][a.upload.id];if(s){s(),e.options._pendingCallback.splice(l,1);var o=$.inArray(a.upload.id,e.options._doneXhr);o>=0&&e.options._doneXhr.splice(o,1);break}}}}},FileUploader.onerrorCallback=function(e,a){return function(){a.status!==Dropzone.CANCELED&&(e.emit("responsehandler",a,a.xhr),e._errorProcessing([a],a.xhr.responseText||e.options.dictResponseError,a.xhr)),e.options.isAuthorized=!1;for(var t=0,n=e.options._pendingCallback.length;t<n;t++){var l=e.options._pendingCallback[t][a.upload.id];if(l){l(),e.options._pendingCallback.splice(t,1);var i=$.inArray(a.upload.id,e.options._doneXhr);i>=0&&e.options._doneXhr.splice(i,1);break}}}},FileUploader.without=function(e,a){var t,n,l,i;for(i=[],n=0,l=e.length;n<l;n++)(t=e[n])!==a&&i.push(t);return i},FileUploader.createElements=function(e){var a;return(a=document.createElement("div")).innerHTML=e,a.childNodes},FileUploader.createElement=function(e){return Dropzone.createElement(e)},FileUploader.confirm=function(e,a,t){return Dropzone.confirm(e,a,t)},FileUploader.isValidFile=function(e,a){return Dropzone.isValidFile(e,a)},FileUploader.getElements=function(e,a){return Dropzone.getElements(e,a)},FileUploader.elementInside=function(e,a){return Dropzone.elementInside(e,a)},FileUploader.getElement=function(e,a){return Dropzone.getElement(e,a)},FileUploader.noPropagation=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},FileUploader.ADDED=Dropzone.ADDED,FileUploader.QUEUED=Dropzone.QUEUED,FileUploader.ACCEPTED=Dropzone.QUEUED,FileUploader.UPLOADING=Dropzone.UPLOADING,FileUploader.PROCESSING=Dropzone.UPLOADING,FileUploader.CANCELED=Dropzone.CANCELED,FileUploader.ERROR=Dropzone.ERROR,FileUploader.SUCCESS=Dropzone.SUCCESS,Element.prototype.removeAll=function(){for(;this.firstChild;)this.removeChild(this.firstChild);return this},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.FileUploader=function(e){return this.each((function(){return new FileUploader(this,e)}))}),StringBuilder=function(e){this.initialize.apply(this,arguments)},StringBuilder.prototype={_nl:"\r\n",_buf:null,initialize:function(){return this._buf=[],!arguments||arguments.length>1||(this._buf[this._buf.length]=arguments[0]),this},append:function(e){return this._buf[this._buf.length]=e,this},appendFormat:function(e){if(!arguments||arguments.length<=1)return this;var a=this._toArray(arguments).slice(1);return this._buf[this._buf.length]=e.replace(/\{(\d+)\}/g,(function(e,t,n,l){return a[t].toString()})),this},appendLine:function(e){return this.append(e+this._nl)},clear:function(){return this._buf=[],this},toString:function(){return this._buf.join("")},length:function(){return this.toString().length},_toArray:function(e){if(!e||!e.length)return[];for(var a=e.length,t=new Array(a);a--;)t[a]=e[a];return t}},function(){var e=Handlebars.template,a=Handlebars.templates=Handlebars.templates||{};a.deleteFieldWarningPopup=e({1:function(e,a,t,n,l){var i=null!=a?a:{},s=e.escapeExpression;return' <span id="gametrophydelhead" style="display:none;" class="denyHead crm-font-regular" >'+s(t.getI18n.call(i,"gs.salesmotivator",{name:"getI18n",hash:{},data:l}))+" ("+s(t.getI18n.call(i,"gs.rules",{name:"getI18n",hash:{},data:l}))+")</span> "},3:function(e,a,t,n,l){var i=null!=a?a:{},s=e.escapeExpression;return' <span id="gametrophydelhead" style="display:none;" class="denyHead crm-font-regular" >'+s(t.getI18n.call(i,"game.feature.label",{name:"getI18n",hash:{},data:l}))+" ("+s(t.getI18n.call(i,"game.trophies",{name:"getI18n",hash:{},data:l}))+")</span> "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return'<div class="newPopup ppTop p0" id="deletefield" style="width:450px;z-index:1000;display:none;position:absolute;"> <div class="formBldPopHd" id="delfldhd"></div> <div class="p30"> <span id="deleteInfo1" class="crm-font-regular fontSmooth f13 color_7 dIB"></span> <div id=\'deleteDetails\' class="mT20 bdre5e5e5 bgf7f7f7 p15" style="overflow:auto;height:200px;"> <div id="wfOnFUhead" style="display:none;" class="denyHead crm-font-regular"> '+o(t.getI18n.call(s,"crm.workflow.rules",{name:"getI18n",hash:{},data:l}))+" ("+o(t.getI18n.call(s,"crm.workflow.rule.label.SetTrigger",{name:"getI18n",hash:{},data:l}))+')</div> <div id="wfOnFUdiv" class="ncff" style="display:none;"></div> <div id="wfAlerthead" style="display:none;" class="denyHead crm-font-regular">'+o(t.getI18n.call(s,"crm.workflow.alerts",{name:"getI18n",hash:{},data:l}))+'</div> <div id="wfAlertdiv" class="ncff" style="display:none;"></div> <div id="wfTBAhead" style="display:none;" class="denyHead crm-font-regular">'+o(t.getI18n.call(s,"crm.workflow.rules",{name:"getI18n",hash:{},data:l}))+"("+o(t.getI18n.call(s,"crm.workflow.rules.list.Header.TimedActions",{name:"getI18n",hash:{},data:l}))+')</div> <div id="wfTBAdiv" class="ncff" style="display:none;"></div> <div id="bPRulehead" style="display:none;" class="denyHead crm-font-regular">'+o(t.getI18n.call(s,"crm.label.process.automation",{name:"getI18n",hash:{},data:l}))+'</div> <div id="bPRulediv" class="ncff" style="display:none;"></div> <div id="bPTransCriRulehead" class="denyHead crm-font-regular" style="display:none;" >'+o(t.getI18n.call(s,"crm.tags.delete.popup.blue.print.transition.criteria",{name:"getI18n",hash:{},data:l}))+'</div> <div id="bPTransCriRulediv" class="ncff" style="display:none;"></div> <div id="pfCrihead" style="display:none;" class="denyHead crm-font-regular">'+o(t.getI18n.call(s,"crm.label.process.automation",{name:"getI18n",hash:{},data:l}))+" ("+o(t.getI18n.call(s,"crm.workflow.rule.criteria",{name:"getI18n",hash:{},data:l}))+')</div> <div id="pfCridiv" class="ncff" style="display:none;"></div> <div id="wfCrihead" style="display:none;" class="denyHead crm-font-regular">'+o(t.getI18n.call(s,"crm.workflow.rules",{name:"getI18n",hash:{},data:l}))+" ("+o(t.getI18n.call(s,"crm.workflow.rule.criteria",{name:"getI18n",hash:{},data:l}))+')</div> <div id="wfCridiv" class="ncff" style="display:none;"></div> <div id="gameKpiCrihead" style="display:none;" class="denyHead crm-font-regular">'+o(t.getI18n.call(s,"gs.salesmotivator",{name:"getI18n",hash:{},data:l}))+'</div> <div id="gameKpiCridiv" class="ncff" style="display:none;"></div> <div id="gameDashboardhead" style="display:none;" class="denyHead crm-font-regular">'+o(t.getI18n.call(s,"gs.salesmotivator",{name:"getI18n",hash:{},data:l}))+" - "+o(t.getI18n.call(s,"gs.dashboards",{name:"getI18n",hash:{},data:l}))+'.</div> <div id="gameDashboarddiv" class="ncff" style="display:none;"></div> <div id="wfFUhead" style="display:none;" class="denyHead crm-font-regular">'+o(t.getI18n.call(s,"crm.workflow.field.update",{name:"getI18n",hash:{},data:l}))+'</div> <div id="wfFUdiv" class="ncff" style="display:none;"></div> <div id="wfTaskhead" style="display:none;" class="denyHead crm-font-regular">'+o(t.getI18n.call(s,"crm.workflow.label.tasks",{name:"getI18n",hash:{},data:l}))+'</div> <div id="wfTaskdiv" class="ncff" style="display:none;"></div> <div id="wfWHhead" style="display:none;" class="denyHead crm-font-regular">'+o(t.getI18n.call(s,"workflow.webHooks",{name:"getI18n",hash:{},data:l}))+'</div> <div id="wfWHdiv" class="ncff" style="display:none;"></div> <div id="wfDGhead" style="display:none;" class="denyHead crm-font-regular">'+o(t.getI18n.call(s,"crm.workflow.label.wfDeluge",{name:"getI18n",hash:{},data:l}))+'</div> <div id="wfDGdiv" class="ncff" style="display:none;"></div> <div id="mailParserhead" style="display:none;" class="denyHead crm-font-regular">'+o(t.getI18n.call(s,"crm.mailparser.title",{name:"getI18n",hash:{},data:l}))+'</div> <div id="mailParserdiv" class="ncff" style="display:none;"> </div> <div id="paUsedHead" style="display:none;" class="denyHead crm-font-regular">'+o(t.getI18n.call(s,"crm.label.process.automation",{name:"getI18n",hash:{},data:l}))+'</div> <div id="paUsedDiv" class="ncff" style="display:none;"></div> <div id="wizardUsedhead" style="display:none;" class="denyHead crm-font-regular">'+o(t.getI18n.call(s,"crm.settings.wizards",{name:"getI18n",hash:{},data:l}))+'</div> <div id="wizardUseddiv" class="ncff" style="display:none;"></div> <div id="predUsedHead" style="display:none;" class="denyHead proxima">'+o(t.getI18n.call(s,"crm.auditlog.predictions",{name:"getI18n",hash:{},data:l}))+'</div> <div id="predUsedDiv" class="ncff" style="display:none;"></div> <div id="macroFUhead" style="display:none;" class="denyHead crm-font-regular">'+o(t.getI18n.call(s,"crm.macro.button.label.macros",{name:"getI18n",hash:{},data:l}))+'</div> <div id="macroFUdiv" class="ncff" style="display:none;"></div> <div id="cvhead" style="display:none;" class="denyHead crm-font-regular" >'+o(t.getI18n.call(s,"crm.fielddelete.customview",{name:"getI18n",hash:{},data:l}))+'</div> <div id="cvdiv" class="ncff" style="display:none;"> </div> <div id="ithead" style="display:none;" class="denyHead crm-font-regular" >'+o(t.getI18n.call(s,"crm.fielddelete.inventorytemplate",{name:"getI18n",hash:{},data:l}))+'</div> <div id="itdiv" class="ncff" style="display:none;"> </div> <div id="ethead" style="display:none;"  class="denyHead crm-font-regular">'+o(t.getI18n.call(s,"crm.fielddelete.emailtemplate",{name:"getI18n",hash:{},data:l}))+'</div> <div id="etdiv" class="ncff" style="display:none;"> </div> <div id="ffhead" style="display:none;" class="denyHead crm-font-regular" >'+o(t.getI18n.call(s,"crm.fielddelete.formula",{name:"getI18n",hash:{},data:l}))+'</div> <div id="ffdiv" class="ncff" style="display:none;"> </div> <div id="afhead" style="display:none;" class="denyHead crm-font-regular" >'+o(t.getI18n.call(s,"crm.fielddelete.aggregate",{name:"getI18n",hash:{},data:l}))+'</div> <div id="afdiv" class="ncff" style="display:none;"> </div> <div id="businessCardHead" style="display:none;" class="denyHead crm-font-regular"s >'+o(t.getI18n.call(s,"crm.fielddelete.businesscard",{name:"getI18n",hash:{},data:l}))+'</div> <div id="businessCardHead1" style="display:none;" class="denyHead crm-font-regular" >'+o(t.getI18n.call(s,"crm.sectiondelete.businesscard",{name:"getI18n",hash:{},data:l}))+'</div> <div id="reviewprocesshead" style="display:none;" class="denyHead crm-font-regular"s >'+o(t.getI18n.call(s,"crm.setup.system.reviewprocesses",{name:"getI18n",hash:{},data:l}))+'</div> <div id="reviewprocessdiv" class="ncff" style="display:none;"> </div> <div id="reviewprocessCrihead" style="display:none;" class="denyHead crm-font-regular">'+o(t.getI18n.call(s,"Review Processes",{name:"getI18n",hash:{},data:l}))+" ("+o(t.getI18n.call(s,"crm.workflow.rule.criteria",{name:"getI18n",hash:{},data:l}))+')</div> <div id="reviewprocessCridiv" class="ncff" style="display:none;"></div> <div id="businessCardDiv" class="ncff" style="display:none;"> </div> <div id="territoryhead" style="display:none;"  class="crm-font-regular denyHead" >'+o(t.getI18n.call(s,"crm.territory.territories",{name:"getI18n",hash:{},data:l}))+'</div> <div id="territorydiv" class="ncff" style="display:none;"> </div> <div id="autofollowhead" style="display:none;"  class="crm-font-regular denyHead" >'+o(t.getI18n.call(s,"crm.label.automate.followup",{name:"getI18n",hash:{},data:l}))+'</div> <div id="autofollowdiv" class="ncff" style="display:none;"> </div> '+(null!=(i=t.if_eq.call(s,"true",t.getUserDetail.call(s,"isMotivatorEnabled",{name:"getUserDetail",hash:{},data:l}),{name:"if_eq",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l}))?i:"")+' <div id="gametrophydeldiv" style="display:none;"> </div> <span id="gamebadgedelhead" style="display:none;" class="denyHead crm-font-regular">'+o(t.getI18n.call(s,"game.feature.label",{name:"getI18n",hash:{},data:l}))+" ("+o(t.getI18n.call(s,"game.badges",{name:"getI18n",hash:{},data:l}))+')</span> <div id="gamebadgedeldiv" style="display:none;"> </div> <span id="predictiondelhead" style="display:none;" class="denyHead crm-font-regular">'+o(t.getI18n.call(s,"crm.zia.config.org.category.prediction",{name:"getI18n",hash:{},data:l}))+'</span> <div id="predictiondeldiv" style="display:none;"> </div> <span id="ziaVoicedelhead" style="display:none;" class="denyHead crm-font-regular">'+o(t.getI18n.call(s,"crm.profile.zohoapps.ziavoice",{name:"getI18n",hash:{},data:l}))+'</span> <div id="ziaVoicedeldiv" style="display:none;"> </div> <span id="similaritydelhead" style="display:none;" class="denyHead crm-font-regular">'+o(t.getI18n.call(s,"crm.setup.system.ziasimilarity",{name:"getI18n",hash:{},data:l}))+'</span> <div id="similaritydeldiv" style="display:none;"> </div> <span id="recommendationdelhead" style="display:none;" class="denyHead crm-font-regular">'+o(t.getI18n.call(s,"crm.zia.config.org.category.recomendation",{name:"getI18n",hash:{},data:l}))+'</span> <div id="recommendationdeldiv" style="display:none;"> </div> <span id="ziacallanalyticsdelhead" style="display:none;" class="denyHead crm-font-regular">'+o(t.getI18n.call(s,"zia.call.analytics",{name:"getI18n",hash:{},data:l}))+'</span> <div id="ziacallanalyticsdeldiv" style="display:none;"> </div> <span id="canvasrulehead" style="display:none;" class="denyHead crm-font-regular">'+o(t.getI18n.call(s,"crm.canvas.rule.title","Canvas",{name:"getI18n",hash:{},data:l}))+'</span> <div id="canvasruledeldiv" style="display:none;"> </div> <span id="visiondelhead" style="display:none;" class="denyHead crm-font-regular">'+o(t.getI18n.call(s,"crm.setup.system.ziavision",{name:"getI18n",hash:{},data:l}))+'</span> <div id="visiondeldiv" style="display:none;"> </div> <span id="imageValidationDelHead" style="display:none;" class="denyHead crm-font-regular">'+o(t.getI18n.call(s,"crm.zia.vision.image.validator",{name:"getI18n",hash:{},data:l}))+'</span> <div id="imageValidationDelDiv" style="display:none;"> </div> <div id="approvalRuleCrihead" class="denyHead crm-font-regular" style="display:none;" >'+o(t.getI18n.call(s,"crm.label.approvalProcess",{name:"getI18n",hash:{},data:l}))+'</div> <div id="approvalRuleCridiv" class="ncff" style="display:none;"></div> <div id="layouthead" class="denyHead crm-font-regular" style="display:none;" >'+o(t.getI18n.call(s,"crm.label.layout",{name:"getI18n",hash:{},data:l}))+'</div> <div id="layoutdiv" class="ncff" style="display:none;"></div> <div id="convertLeadMappinghead" class="denyHead crm-font-regular mL10 mT10" style="display:none;" >'+o(t.getI18n.call(s,"crm.map.custom.fields",t.getDisplayModuleName.call(s,"Leads",{name:"getDisplayModuleName",hash:{},data:l}),{name:"getI18n",hash:{},data:l}))+'</div> <div id="convertLeadMappingdiv" class="ncff" style="display:none;"></div> <div id="quoteConvertMappinghead" class="denyHead crm-font-regular mL10 mT10" style="display:none;" >'+o(t.getI18n.call(s,"crm.map.custom.fields",t.getDisplayModuleName.call(s,"Leads",{name:"getDisplayModuleName",hash:{},data:l}),{name:"getI18n",hash:{},data:l}))+'</div> <div id="quoteConvertMappingdiv" class="ncff" style="display:none;"></div> <div id="soConvertMappinghead" class="denyHead crm-font-regular mL10 mT10" style="display:none;" >'+o(t.getI18n.call(s,"crm.map.custom.fields",t.getDisplayModuleName.call(s,"Leads",{name:"getDisplayModuleName",hash:{},data:l}),{name:"getI18n",hash:{},data:l}))+'</div> <div id="soConvertMappingdiv" class="ncff" style="display:none;"></div> <div id="formRulehead" class="denyHead crm-font-regular" style="display:none;" > '+o(t.getI18n.call(s,"crm.layout.rule.singular",{name:"getI18n",hash:{},data:l}))+'</div> <div id="formRulediv" class="ncff" style="display:none;"></div> <div id="vRhead" class="denyHead crm-font-regular" style="display:none;" >'+o(t.getI18n.call(s,"crm.label.validation.rules",{name:"getI18n",hash:{},data:l}))+'</div> <div id="vRdiv" class="ncff" style="display:none;"></div> <div id="scoringRulehead" class="denyHead crm-font-regular" style="display:none;" ></div> <div id="scoringRulediv" class="ncff" style="display:none;"></div> <div id="scoringRuleNewhead" class="denyHead crm-font-regular" style="display:none;" >'+o(t.getI18n.call(s,"crm.label.scoring.rules",{name:"getI18n",hash:{},data:l}))+'</div> <div id="scoringRuleNewdiv" class="ncff" style="display:none;"></div> <div id="dbComponentshead" class="denyHead crm-font-regular" style="display:none;" >'+o(t.getI18n.call(s,"crm.label.analytical.dashboard.components",{name:"getI18n",hash:{},data:l}))+'</div> <div id="dbComponentsdiv" class="ncff" style="display:none;"></div> <div id="calSchhead" class="denyHead crm-font-regular" style="display:none;" >'+o(t.getI18n.call(s,"crm.setup.system.calendarbooking",{name:"getI18n",hash:{},data:l}))+'</div> <div id="calSchdiv" class="ncff" style="display:none;"></div> <div id="lookupFilterhead" style="display:none;" class="denyHead crm-font-regular">'+o(t.getI18n.call(s,"crm.label.lookup.fields",{name:"getI18n",hash:{},data:l}))+'</div> <div id="lookupFilterdiv" class="ncff" style="display:none;"></div> <div id="customButtonhead" class="denyHead crm-font-regular mL10 mT10" style="display:none;" >'+o(t.getI18n.call(s,"crm.setup.system.linksandbuttons",{name:"getI18n",hash:{},data:l}))+'</div> <div id="customButtondiv" class="ncff" style="display:none;"></div> <div id="automationdiv" class="ncff" style="display:none;"></div> <div id="reportshead" style="display:none;" class="denyHead crm-font-regular" >'+o(t.getI18n.call(s,"crm.report.reports",{name:"getI18n",hash:{},data:l}))+'</div> <div id="reportsdiv" class="ncff" style="display:none;"> </div> <div id="cpqProductConfiguratorhead" style="display:none;" class="denyHead crm-font-regular" >'+o(t.getI18n.call(s,"crm.cpq.settings.productconf",{name:"getI18n",hash:{},data:l}))+'</div> <div id="cpqProductConfiguratordiv" class="ncff" style="display:none;"> </div> <div id="cpqPriceRulehead" style="display:none;" class="denyHead crm-font-regular" >'+o(t.getI18n.call(s,"crm.cpq.settings.pricerules",{name:"getI18n",hash:{},data:l}))+'</div> <div id="cpqPriceRulediv" class="ncff" style="display:none;"> </div> <div id="segmentCriteriahead" class="denyHead crm-font-regular mL10 mT10" style="display:none;" >'+o(t.getI18n.call(s,"crm.segmentation.process.criteria",{name:"getI18n",hash:{},data:l}))+'</div> <div id="segmentCriteriadiv" class="ncff" style="display:none;"></div> <div id="segmentFieldhead" class="denyHead crm-font-regular mL10 mT10" style="display:none;" >'+o(t.getI18n.call(s,"crm.segmentation",{name:"getI18n",hash:{},data:l}))+'</div> <div id="segmentFielddiv" class="ncff" style="display:none;"></div> <div id="abmConfighead" class="denyHead crm-font-regular mL10 mT10" style="display:none;" >'+o(t.getI18n.call(s,"crm.abm.configuration",{name:"getI18n",hash:{},data:l}))+'</div> <div id="abmConfigdiv" class="ncff" style="display:none;"></div> <div id="abmSegmenthead" class="denyHead crm-font-regular mL10 mT10" style="display:none;" >'+o(t.getI18n.call(s,"crm.abm.segments",{name:"getI18n",hash:{},data:l}))+'</div> <div id="abmSegmentdiv" class="ncff" style="display:none;"></div> <span id="webTabHead" style="display:none;" class="denyHead proxima">'+o(t.getI18n.call(s,"crm.auditlog.webtab",{name:"getI18n",hash:{},data:l}))+'</span> <div id="webTabULDiv" style="display:none;"> </div> <div id="currensyisohead" class="denyHead proxima" style="display:none;">'+o(t.getI18n.call(s,"crm.fielddelete.currency",{name:"getI18n",hash:{},data:l}))+'</div> <div id="currencyISODiv" class="ncff" style="display:none;"></div> <div id="vochead" style="display:none;" class="denyHead crm-font-regular">'+o(t.getI18n.call(s,t.getDisplayModuleName.call(s,"Voice Of Customer",!1,{name:"getDisplayModuleName",hash:{},data:l}),{name:"getI18n",hash:{},data:l}))+'</div> <div id="vocdiv" class="ncff" style="display:none;"></div> <div id="sharingRuleshead" style="display:none;" class="denyHead crm-font-regular" >'+o(t.getI18n.call(s,"crm.security.sharing.rules.used.heading",{name:"getI18n",hash:{},data:l}))+'</div> <div id="sharingRulesdiv" class="ncff" style="display:none;"></div> </div> <div id="forecastDiv" style="display:none;" class="ncff pB20 dim4 f14 pT20 mt5"></div> <div id="deleteInfo2" class="crm-font-regular fontSmooth f13 color_7 dIB mT20"></div> </div> <div class="popup-model-footer alignright tgl"> <input id="btnclos"  type="button" value="'+o(t.getI18n.call(s,"crm.button.ok",{name:"getI18n",hash:{},data:l}))+'" class="newgraybtn"  data-zcqa="MPL_deleteField_WarningClose" onClick="crmui.hidePopup(\'deletefield\');"></input> <input id="btncancel"  type="button" value="'+o(t.getI18n.call(s,"crm.button.cancel",{name:"getI18n",hash:{},data:l}))+'" class="newgraybtn" onClick="crmui.hidePopup(\'deletefield\');"  style="display:none;" ></input> <input id="btnskip"  type="button" value="'+o(t.getI18n.call(s,"crm.button.skip.proceed",{name:"getI18n",hash:{},data:l}))+'" class="newgraybtn fromDeletePopup" style="display:none;"  data-zcqa="MPL_deleteField_WarningSkip"></input> </div> </div>'},useData:!0}),a.fieldUsage=e({1:function(e,a,t,n,l,i,s){var o,r=null!=a?a:{};return" "+(null!=(o=t.if.call(r,null!=a?a.emailTemplateRecords:a,{name:"if",hash:{},fn:e.program(2,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "+(null!=(o=t.if.call(r,null!=a?a.inventoryRecords:a,{name:"if",hash:{},fn:e.program(5,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "+(null!=(o=t.if.call(r,null!=a?a.workFlowWebHookRecords:a,{name:"if",hash:{},fn:e.program(8,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "+(null!=(o=t.if.call(r,null!=a?a.customFunctions:a,{name:"if",hash:{},fn:e.program(11,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "+(null!=(o=t.if.call(r,null!=a?a.integrations:a,{name:"if",hash:{},fn:e.program(22,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},2:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <span class="dIB linkedHdgElem">'+e.escapeExpression(t.getI18n.call(s,"crm.fielddelete.emailtemplate",{name:"getI18n",hash:{},data:l}))+'</span> <ul class="mB5 mT5 fieldUsageList"> '+(null!=(i=t.each.call(s,null!=a?a.emailTemplateRecords:a,{name:"each",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l}))?i:"")+" </ul> "},3:function(e,a,t,n,l){var i=null!=a?a:{},s=e.escapeExpression;return' <li><a href="'+s(t.getCrmBasePath.call(i,{name:"getCrmBasePath",hash:{},data:l}))+"/ShowSetup.do?tab=custom&subTab=email&step=editEmailTemplate&emailTemplateId="+s(t.encodeURL.call(i,l&&l.key,{name:"encodeURL",hash:{},data:l}))+'" target="_blank" rel="noopener noreferrer"><span>'+s(e.lambda(null!=a?a[0]:a,a))+"</span></a></li> "},5:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <span class="dIB linkedHdgElem">'+e.escapeExpression(t.getI18n.call(s,"crm.fielddelete.inventorytemplate",{name:"getI18n",hash:{},data:l}))+'</span> <ul class="mB5 mT5 fieldUsageList"> '+(null!=(i=t.each.call(s,null!=a?a.inventoryRecords:a,{name:"each",hash:{},fn:e.program(6,l,0),inverse:e.noop,data:l}))?i:"")+" </ul> "},6:function(e,a,t,n,l){var i=null!=a?a:{},s=e.escapeExpression;return' <li><a href="'+s(t.getCrmBasePath.call(i,{name:"getCrmBasePath",hash:{},data:l}))+"/ShowSetup.do?tab=custom&subTab=inventory&step=editInventoryTemplate&emailTemplateId="+s(t.encodeURL.call(i,l&&l.key,{name:"encodeURL",hash:{},data:l}))+'" target="_blank" rel="noopener noreferrer"><span>'+s(e.lambda(null!=a?a[0]:a,a))+"</span></a></li> "},8:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <span class="dIB linkedHdgElem">'+e.escapeExpression(t.getI18n.call(s,"workflow.label.webhooks",{name:"getI18n",hash:{},data:l}))+'</span> <ul class="mB5 mT5 fieldUsageList"> '+(null!=(i=t.each.call(s,null!=a?a.workFlowWebHookRecords:a,{name:"each",hash:{},fn:e.program(9,l,0),inverse:e.noop,data:l}))?i:"")+" </ul> "},9:function(e,a,t,n,l){var i=null!=a?a:{},s=e.escapeExpression;return' <li><a href="'+s(t.getCrmBasePath.call(i,{name:"getCrmBasePath",hash:{},data:l}))+"/ShowSetup.do?tab=automate&subTab=webhook&step=showWebHook&webHookId="+s(t.encodeURL.call(i,l&&l.key,{name:"encodeURL",hash:{},data:l}))+'"target="_blank" rel="noopener noreferrer"><span>'+s(e.lambda(null!=a?a[0]:a,a))+"</span></a></li> "},11:function(e,a,t,n,l,i,s){var o,r=null!=a?a:{};return' <p class="color_3 pB10 linkedHdgElem">'+e.escapeExpression(t.getI18n.call(r,"crm.field.private.usage.customfunctions",{name:"getI18n",hash:{},data:l}))+"</p> "+(null!=(o=t.each.call(r,null!=a?a.customFunctions:a,{name:"each",hash:{},fn:e.program(12,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},12:function(e,a,t,n,l,i,s){var o,r=null!=a?a:{};return" "+(null!=(o=t.ifEquals.call(r,l&&l.key,"WORKFLOW",{name:"ifEquals",hash:{},fn:e.program(13,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "+(null!=(o=t.ifEquals.call(r,l&&l.key,"RELATED_LIST",{name:"ifEquals",hash:{},fn:e.program(16,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "+(null!=(o=t.ifEquals.call(r,l&&l.key,"BUTTON",{name:"ifEquals",hash:{},fn:e.program(19,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},13:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <span class="mL10 dIB color_7">'+e.escapeExpression(t.getI18n.call(s,"crm.label.actions",{name:"getI18n",hash:{},data:l}))+'</span> <ul class="mB5 mT5 fieldUsageList mL20"> '+(null!=(i=t.each.call(s,a,{name:"each",hash:{},fn:e.program(14,l,0),inverse:e.noop,data:l}))?i:"")+" </ul> "},14:function(e,a,t,n,l){var i=e.escapeExpression;return' <li><a href="'+i(t.getCrmBasePath.call(null!=a?a:{},{name:"getCrmBasePath",hash:{},data:l}))+'/settings/workflow-deluge" target="_blank" rel="noopener noreferrer"><span>'+i(e.lambda(null!=a?a.name:a,a))+"</span></a></li> "},16:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <span class="mL10 dIB color_7">'+e.escapeExpression(t.getI18n.call(s,"crm.label.cf.functions",{name:"getI18n",hash:{},data:l}))+'</span> <ul class="mB5 mT5 fieldUsageList mL20"> '+(null!=(i=t.each.call(s,a,{name:"each",hash:{},fn:e.program(17,l,0),inverse:e.noop,data:l}))?i:"")+" </ul> "},17:function(e,a,t,n,l){var i=e.escapeExpression;return' <li><a href="'+i(t.getCrmBasePath.call(null!=a?a:{},{name:"getCrmBasePath",hash:{},data:l}))+'/settings/functions" target="_blank" rel="noopener noreferrer"><span>'+i(e.lambda(null!=a?a.function_name:a,a))+"</span></a></li> "},19:function(e,a,t,n,l,i,s){var o,r=null!=a?a:{};return' <span class="mL10 dIB color_7">'+e.escapeExpression(t.getI18n.call(r,"crm.label.cf.custom_buttons",{name:"getI18n",hash:{},data:l}))+'</span> <ul class="mB5 mT5 fieldUsageList mL20"> '+(null!=(o=t.each.call(r,a,{name:"each",hash:{},fn:e.program(20,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" </ul> "},20:function(e,a,t,n,l,i,s){var o=null!=a?a:{},r=e.escapeExpression,d=e.lambda;return' <li><a href="'+r(t.getCrmBasePath.call(o,{name:"getCrmBasePath",hash:{},data:l}))+"/settings/modules/"+r(t.encodeURL.call(o,null!=s[2]?s[2].moduleName:s[2],{name:"encodeURL",hash:{},data:l}))+"/links-and-buttons/"+r(t.encodeURL.call(o,l&&l.key,{name:"encodeURL",hash:{},data:l}))+'?component=buttons" target="_blank" rel="noopener noreferrer" ><span>'+r(d(null!=a?a.name:a,a))+" - "+r(d(null!=a?a.function_name:a,a))+"</span></a></li> "},22:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <span class="dIB linkedHdgElem">'+e.escapeExpression(t.getI18n.call(s,"crm.field.private.usage.integrations",{name:"getI18n",hash:{},data:l}))+'</span> <ul class="mB5 mT5 fieldUsageList"> '+(null!=(i=t.each.call(s,null!=a?a.integrations:a,{name:"each",hash:{},fn:e.program(23,l,0),inverse:e.noop,data:l}))?i:"")+" </ul> "},23:function(e,a,t,n,l){var i;return" <li>"+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.url:a,{name:"if",hash:{},fn:e.program(24,l,0),inverse:e.program(26,l,0),data:l}))?i:"")+"<span></span></li> "},24:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return'<a href="'+s(i(null!=a?a.url:a,a))+'" target="_blank" rel="noopener noreferrer"><span>'+s(i(null!=a?a.label:a,a))+"</span></a>"},26:function(e,a,t,n,l){return"<span>"+e.escapeExpression(e.lambda(null!=a?a.label:a,a))+"</span>"},28:function(e,a,t,n,l){return' <p class="dB aligncenter color_7">'+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.field.private.usage.no",{name:"getI18n",hash:{},data:l}))+"</p> "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l,i,s){var o,r=null!=a?a:{},d=e.escapeExpression;return' <div id="fieldUsagePop" class="fieldUsagePop newpopup w400 is-scroll ppTop" style="display: none; height: auto; overflow: visible;" > <div class="pp-header">'+d(t.getI18n.call(r,"crm.field.private.usage",{name:"getI18n",hash:{},data:l}))+'</div> <div class="pp-content" style="max-height: 558px;"> <div> <p class="pB20">'+d(t.getI18n.call(r,"crm.field.private.usage.info",{name:"getI18n",hash:{},data:l}))+'</p> <div class="listOfFieldUsage p20 f13"> '+(null!=(o=t.isNotEmpty.call(r,a,{name:"isNotEmpty",hash:{},fn:e.program(1,l,0,i,s),inverse:e.program(28,l,0,i,s),data:l}))?o:"")+' </div> </div> </div> <div class="pp-footer"> <button id="hideFieldUsageBtn" class="newgraybtn" onclick="crmui.hidePopup(\'fieldUsagePop\');">'+d(t.getI18n.call(r,"crm.button.ok",{name:"getI18n",hash:{},data:l}))+"</button> </div> </div>"},useData:!0,useDepths:!0}),a.fieldsList=e({1:function(e,a,t,n,l){var i;return" "+(null!=(i=t.unless.call(null!=a?a:{},null!=a?a.isDeveloperSpace:a,{name:"unless",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l}))?i:"")+" "},2:function(e,a,t,n,l){var i=null!=a?a:{},s=e.escapeExpression;return' <div class="posrel"> <div class="posabs layoutHelp"> <a id="context-helplink" onmouseover="CMB.newShowTooltip(\''+s(t.getI18n.call(i,"crm.label.context.help",{name:"getI18n",hash:{},data:l}))+'\')" onmouseout="CMB.newHideTooltip();" onClick="openHelp(\''+s(e.lambda(null!=a?a.helpLinkUrl:a,a))+'\')" class="mR0" href="javascript:;">'+s(t.getI18n.call(i,"crm.label.context.help",{name:"getI18n",hash:{},data:l}))+"</a> </div> </div> "},4:function(e,a,t,n,l){return" apiNameListTable pL20"},6:function(e,a,t,n,l){var i=e.escapeExpression;return' <form name="profileFieldForm" action=\''+i(t.getCrmBasePath.call(null!=a?a:{},{name:"getCrmBasePath",hash:{},data:l}))+"/UpdateFieldPermission.do?action=profileFieldsUpdate' method='post' onsubmit=\"return crmSetup.getFieldPermission('"+i(e.lambda(null!=a?a.module:a,a))+"','null',this,true)\"> "},8:function(e,a,t,n,l){var i;return" "+(null!=(i=t.unless.call(null!=a?a:{},null!=a?a.isDeveloperSpace:a,{name:"unless",hash:{},fn:e.program(9,l,0),inverse:e.noop,data:l}))?i:"")+" "},9:function(e,a,t,n,l){var i;return" "+(null!=(i=t.setFieldsListHeading.call(null!=a?a:{},a,{name:"setFieldsListHeading",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l}))?i:"")+" "},10:function(e,a,t,n,l){return""},12:function(e,a,t,n,l){var i=null!=a?a:{},s=e.escapeExpression,o=e.lambda;return' <form  name="myform" action=\''+s(t.getCrmBasePath.call(i,{name:"getCrmBasePath",hash:{},data:l}))+"/Security.do?actionName=edit&module="+s(o(null!=a?a.module:a,a))+'&modes=edit\' method=\'post\' > <div class="posrel"> <div class="posabs layoutHelp"><a id="frm-help-icon" onclick="openHelp(\''+s(o(null!=a?a.helpLinkUrl:a,a))+'\')" href="javascript:;">'+s(t.getI18n.call(i,"crm.label.context.help",{name:"getI18n",hash:{},data:l}))+'</a></div> </div> <div class="pT15 crm-font-regular f13 color_3 mB20">'+s(t.getI18n.call(i,"crm.search.layout.heading.multiplelayout",{name:"getI18n",hash:{},data:l}))+'</div> <br class="clearB"></br>  '},14:function(e,a,t,n,l){return" <div class='fieldPermissionDiv'> "},16:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.searchLayoutCheck:a,{name:"if",hash:{},fn:e.program(17,l,0),inverse:e.program(19,l,0),data:l}))?i:"")+" "},17:function(e,a,t,n,l){return" <div class='searchLayoutDiv'> "},19:function(e,a,t,n,l){return" <div class='fieldListDiv mT20'> "},21:function(e,a,t,n,l,i,s){var o,r=e.lambda,d=e.escapeExpression,c=null!=a?a:{};return' <div class="moudleSpecificFields" module="'+d(r(null!=a?a.module:a,a))+'"> '+(null!=(o=t.if.call(c,null!=a?a.isSubform:a,{name:"if",hash:{},fn:e.program(22,l,0,i,s),inverse:e.noop,data:l}))?o:"")+' <table width="100%" border="0" class="newListView bdrCollapse newListViewEdit hovNon sandboxDiffChanges" id="fieldPermissionsTable" module="'+d(r(null!=a?a.module:a,a))+'"> <tbody> <tr class="tableTitleHeaderRow trout resLay" style="cursor: pointer;" rel="rowgrp"> <th '+(null!=(o=t.if.call(c,null!=s[1]?s[1].isDeveloperSpace:s[1],{name:"if",hash:{},fn:e.program(24,l,0,i,s),inverse:e.program(26,l,0,i,s),data:l}))?o:"")+">"+d(t.getI18n.call(c,"crm.label.Field.label",{name:"getI18n",hash:{},data:l}))+"</th> "+(null!=(o=t.if.call(c,null!=s[1]?s[1].isFieldPermNeeded:s[1],{name:"if",hash:{},fn:e.program(28,l,0,i,s),inverse:e.program(30,l,0,i,s),data:l}))?o:"")+" </tr> "+(null!=(o=t.each.call(c,null!=a?a.fields:a,{name:"each",hash:{},fn:e.program(43,l,0,i,s),inverse:e.noop,data:l}))?o:"")+' </tbody> </table> <div id="norecord" style="display:none" module="'+d(r(null!=a?a.module:a,a))+'"><span class="crm-font-regular nooneisselected" style="color:#d5d5d5;margin-top: 25px;font-size:1.7rem;text-align:center; display:block;">'+d(t.getI18n.call(c,"crm.adword.searchtextnotbringresult",{name:"getI18n",hash:{},data:l}))+"</span></div> </div> "},22:function(e,a,t,n,l){return' <div class="subform f13 crm-font-bold mT30 mB20">'+e.escapeExpression(e.lambda(null!=a?a.label:a,a))+"</div> "},24:function(e,a,t,n,l){return'width="25%"'},26:function(e,a,t,n,l){return'class="w100"'},28:function(e,a,t,n,l){var i=null!=a?a:{},s=e.escapeExpression;return' <th class="w100">'+s(t.getI18n.call(i,"crm.custom.module.read.write",{name:"getI18n",hash:{},data:l}))+'</th> <th class="w100">'+s(t.getI18n.call(i,"crm.label.readonly",{name:"getI18n",hash:{},data:l}))+'</th> <th class="w100">'+s(t.getI18n.call(i,"crm.custom.module.dont.show",{name:"getI18n",hash:{},data:l}))+"</th> "},30:function(e,a,t,n,l,i,s){var o;return" "+(null!=(o=t.if.call(null!=a?a:{},null!=s[1]?s[1].searchLayoutCheck:s[1],{name:"if",hash:{},fn:e.program(31,l,0,i,s),inverse:e.program(33,l,0,i,s),data:l}))?o:"")+" "},31:function(e,a,t,n,l){return' <th class="w100"></th> <th class="w100">'+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.label.show",{name:"getI18n",hash:{},data:l}))+'</th> <th class="w100"></th> '},33:function(e,a,t,n,l,i,s){var o;return" "+(null!=(o=t.if.call(null!=a?a:{},null!=s[1]?s[1].isDeveloperSpace:s[1],{name:"if",hash:{},fn:e.program(34,l,0,i,s),inverse:e.program(36,l,0,i,s),data:l}))?o:"")+" "},34:function(e,a,t,n,l){var i=null!=a?a:{},s=e.escapeExpression;return' <th width="35%">'+s(t.getI18n.call(i,"crm.label.api.name",{name:"getI18n",hash:{},data:l}))+'</th> <th width="25%">'+s(t.getI18n.call(i,"crm.label.datatype",{name:"getI18n",hash:{},data:l}))+'</th> <th width="15%" class="aligncenter">'+s(t.getI18n.call(i,"crm.label.customfield",{name:"getI18n",hash:{},data:l}))+"</th> "},36:function(e,a,t,n,l,i,s){var o;return" "+(null!=(o=t.if.call(null!=a?a:{},null!=s[1]?s[1].isPrivateFieldListing:s[1],{name:"if",hash:{},fn:e.program(37,l,0,i,s),inverse:e.program(41,l,0,i,s),data:l}))?o:"")+" "},37:function(e,a,t,n,l,i,s){var o,r=null!=a?a:{};return' <th class="w100">'+e.escapeExpression(t.getI18n.call(r,"crm.mb.field.privacy.type1",{name:"getI18n",hash:{},data:l}))+"</th> "+(null!=(o=t.if_gt.call(r,null!=(o=null!=s[1]?s[1].layout_jsonarrayObj:s[1])?o.layoutCnt:o,1,{name:"if_gt",hash:{},fn:e.program(38,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},38:function(e,a,t,n,l,i,s){var o;return" "+(null!=(o=t.if.call(null!=a?a:{},null!=s[1]?s[1].isMPLAvailable:s[1],{name:"if",hash:{},fn:e.program(39,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},39:function(e,a,t,n,l){return' <th class="w200">'+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.label.layouts",{name:"getI18n",hash:{},data:l}))+"</th> "},41:function(e,a,t,n,l,i,s){var o,r=null!=a?a:{},d=e.escapeExpression;return' <th class="w100">'+d(t.getI18n.call(r,"crm.label.datatype",{name:"getI18n",hash:{},data:l}))+'</th> <th class="w100">'+d(t.getI18n.call(r,"crm.label.customfield",{name:"getI18n",hash:{},data:l}))+"</th> "+(null!=(o=t.if_gt.call(r,null!=(o=null!=s[1]?s[1].layout_jsonarrayObj:s[1])?o.layoutCnt:o,1,{name:"if_gt",hash:{},fn:e.program(38,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},43:function(e,a,t,n,l,i,s){var o,r=null!=a?a:{},d=e.lambda,c=e.escapeExpression;return' <tr class="trout resLay fldForSearch '+(null!=(o=t.if.call(r,null!=s[2]?s[2].isDeveloperSpace:s[2],{name:"if",hash:{},fn:e.program(44,l,0,i,s),inverse:e.noop,data:l}))?o:"")+(null!=(o=t.if.call(r,null!=s[2]?s[2].isPrivateFieldListing:s[2],{name:"if",hash:{},fn:e.program(46,l,0,i,s),inverse:e.noop,data:l}))?o:"")+'" id="'+c(d(null!=a?a.columnName:a,a))+'" '+(null!=(o=t.ifNotEquals.call(r,null!=a?a.connectedfieldid:a,"",{name:"ifNotEquals",hash:{},fn:e.program(48,l,0,i,s),inverse:e.noop,data:l}))?o:"")+"> <td "+(null!=(o=t.unless.call(r,null!=s[2]?s[2].isDeveloperSpace:s[2],{name:"unless",hash:{},fn:e.program(26,l,0,i,s),inverse:e.noop,data:l}))?o:"")+'><div class="moduleLink pR crm-font-regular fontSmooth color_4">'+c(d(null!=a?a.displayLabel:a,a))+" "+(null!=(o=t.if.call(r,null!=a?a.isEnc:a,{name:"if",hash:{},fn:e.program(50,l,0,i,s),inverse:e.noop,data:l}))?o:"")+(null!=(o=t.if.call(r,null!=s[2]?s[2].isPrivateFieldListing:s[2],{name:"if",hash:{},fn:e.program(52,l,0,i,s),inverse:e.noop,data:l}))?o:"")+"</span> </div></td> "+(null!=(o=t.if.call(r,null!=s[2]?s[2].isFieldPermNeeded:s[2],{name:"if",hash:{},fn:e.program(54,l,0,i,s),inverse:e.program(72,l,0,i,s),data:l}))?o:"")+" </tr> "},44:function(e,a,t,n,l){return'editHov editHovHold"'},46:function(e,a,t,n,l){return"privateFieldRowValidation"},48:function(e,a,t,n,l){return' data-connectedfieldid="'+e.escapeExpression(e.lambda(null!=a?a.connectedfieldid:a,a))+'"'},50:function(e,a,t,n,l){return' <span style="font-size:12px">('+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.field.label.encrypted",{name:"getI18n",hash:{},data:l}))+")"},52:function(e,a,t,n,l,i,s){var o=null!=a?a:{},r=e.escapeExpression;return'<span class="viewThisFieldUsage f11" onclick="CML.showFieldUsage(\''+r(t.encodeJS.call(o,null!=a?a.fieldid:a,{name:"encodeJS",hash:{},data:l}))+"','"+r(e.lambda(null!=s[1]?s[1].module:s[1],a))+"');\" onmouseenter=\"CrmModule.newshowtt('"+r(t.getI18n.call(o,"crm.field.private.usage.tooltip",{name:"getI18n",hash:{},data:l}))+'\')" onmouseleave="CrmModule.newhidett()"></span>'},54:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.lambda,r=e.escapeExpression;return' <td><label class="rbCheckHtml"> '+(null!=(i=t.if.call(s,null!=a?a.disableReadWrite:a,{name:"if",hash:{},fn:e.program(55,l,0),inverse:e.program(60,l,0),data:l}))?i:"")+' <span class="rbHtml dIB pR"><span class="rbTickHtml dIB pA"></span></span> <div class="clearB"></div></label> </td> <td> <label class="rbCheckHtml" '+(null!=(i=t.if.call(s,null!=a?a.isDisabled:a,{name:"if",hash:{},fn:e.program(63,l,0),inverse:e.noop,data:l}))?i:"")+'> <input type="radio" data-zcqa="MPL_'+r(o(null!=a?a.displayLabel:a,a))+'_readOnly" onChange="javascript:crmSetup.changePermission(this);" class="rw rbRealHtml hide" name="'+r(o(null!=a?a.fieldid:a,a))+'" value="readOnly" '+(null!=(i=t.ifNotEquals.call(s,null!=a?a.isFieldReadWrite:a,!0,{name:"ifNotEquals",hash:{},fn:e.program(65,l,0),inverse:e.noop,data:l}))?i:"")+(null!=(i=t.if.call(s,null!=a?a.isMandatory:a,{name:"if",hash:{},fn:e.program(61,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.disableReadOnly:a,{name:"if",hash:{},fn:e.program(67,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.isDisabled:a,{name:"if",hash:{},fn:e.program(61,l,0),inverse:e.noop,data:l}))?i:"")+(null!=(i=t.ifCond.call(s,null!=a?a.uiType:a,"=",8,{name:"ifCond",hash:{},fn:e.program(61,l,0),inverse:e.noop,data:l}))?i:"")+'> <span class="rbHtml dIB pR"><span class="rbTickHtml dIB pA"></span></span> <div class="clearB"></div> </label> </td> <td> <label class="rbCheckHtml" '+(null!=(i=t.if.call(s,null!=a?a.isDisabled:a,{name:"if",hash:{},fn:e.program(63,l,0),inverse:e.noop,data:l}))?i:"")+'> <input type="radio" data-zcqa="MPL_'+r(o(null!=a?a.displayLabel:a,a))+'_dontShow" onChange="javascript:crmSetup.changePermission(this);"  class="rw rbRealHtml hide" name="'+r(o(null!=a?a.fieldid:a,a))+'" value="notVisible" '+(null!=(i=t.ifNotEquals.call(s,null!=a?a.isFieldReadOnly:a,!0,{name:"ifNotEquals",hash:{},fn:e.program(69,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.isMandatory:a,{name:"if",hash:{},fn:e.program(61,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.ifCond.call(s,null!=a?a.uiType:a,"=",8,{name:"ifCond",hash:{},fn:e.program(61,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.isDisabled:a,{name:"if",hash:{},fn:e.program(61,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.disableHidden:a,{name:"if",hash:{},fn:e.program(61,l,0),inverse:e.noop,data:l}))?i:"")+'> <span class="rbHtml dIB pR"><span class="rbTickHtml dIB pA"></span></span> <div class="clearB"></div> </label> </td> '},55:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression;return' <input data-zcqa="MPL_'+o(s(null!=a?a.displayLabel:a,a))+'_readWrite" type="radio" onChange="javascript:crmSetup.changePermission(this);" class="rw rbRealHtml hide" name="'+o(s(null!=a?a.fieldid:a,a))+'" value="readWrite" '+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.isFieldReadWrite:a,{name:"if",hash:{},fn:e.program(56,l,0),inverse:e.program(58,l,0),data:l}))?i:"")+" disabled> "},56:function(e,a,t,n,l){return'checked=""'},58:function(e,a,t,n,l){return'checked="checked"'},60:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <input data-zcqa="MPL_'+o(s(null!=a?a.displayLabel:a,a))+'_readWrite" type="radio" onChange="javascript:crmSetup.changePermission(this);" class="rw rbRealHtml hide" name="'+o(s(null!=a?a.fieldid:a,a))+'" value="readWrite" '+(null!=(i=t.if.call(r,null!=a?a.isFieldReadWrite:a,{name:"if",hash:{},fn:e.program(56,l,0),inverse:e.program(58,l,0),data:l}))?i:"")+" "+(null!=(i=t.ifAnyMatch.call(r,null!=a?a.sysrefname:a,"=","Score",null!=a?a.sysrefname:a,"=","Positive_Score",null!=a?a.sysrefname:a,"=","Negative_Score",null!=a?a.sysrefname:a,"=","Touch_Point_Score",null!=a?a.sysrefname:a,"=","Positive_Touch_Point_Score",null!=a?a.sysrefname:a,"=","Negative_Touch_Point_Score",{name:"ifAnyMatch",hash:{},fn:e.program(61,l,0),inverse:e.noop,data:l}))?i:"")+"> "},61:function(e,a,t,n,l){return"disabled"},63:function(e,a,t,n,l){return'mbToolTip="'+e.escapeExpression(e.lambda(null!=a?a.msg:a,a))+'"'},65:function(e,a,t,n,l){var i;return null!=(i=t.if.call(null!=a?a:{},null!=a?a.isFieldReadOnly:a,{name:"if",hash:{},fn:e.program(58,l,0),inverse:e.program(56,l,0),data:l}))?i:""},67:function(e,a,t,n,l){return" disabled "},69:function(e,a,t,n,l){var i;return null!=(i=t.ifNotEquals.call(null!=a?a:{},null!=a?a.isFieldReadWrite:a,!0,{name:"ifNotEquals",hash:{},fn:e.program(70,l,0),inverse:e.noop,data:l}))?i:""},70:function(e,a,t,n,l){var i;return null!=(i=t.if.call(null!=a?a:{},null!=a?a.isFieldVisible:a,{name:"if",hash:{},fn:e.program(56,l,0),inverse:e.program(58,l,0),data:l}))?i:""},72:function(e,a,t,n,l,i,s){var o;return" "+(null!=(o=t.ifCond.call(null!=a?a:{},null!=s[2]?s[2].searchLayoutCheck:s[2],"=",!0,{name:"ifCond",hash:{},fn:e.program(73,l,0,i,s),inverse:e.program(82,l,0,i,s),data:l}))?o:"")+" "},73:function(e,a,t,n,l){var i;return' <td class="moduleName w100"><span class="color_4 fontSmooth"></span></td> <td class="w100"> <label class="cbCheck"> '+(null!=(i=t.ifCondLogic.call(null!=a?a:{},null!=a?a.isMandatoryCheck:a,"=",!0,"&&",null!=a?a.isSearch:a,"=",!0,{name:"ifCondLogic",hash:{},fn:e.program(74,l,0),inverse:e.program(76,l,0),data:l}))?i:"")+' </label> </td> <td class="w200"></td> '},74:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <input type=checkbox class="checkboxReal" id="checkBoxAjax_'+s(i(l&&l.index,a))+"\" name='Field_"+s(i(null!=a?a.fieldid:a,a))+'\' checked value="on" onClick = "crmSetup.limitFields( '+s(i(l&&l.index,a))+' )" ></input> <i class="customChckBox checkedBox formBuildIcons fL inactiveOp"></i> '},76:function(e,a,t,n,l){var i;return" "+(null!=(i=t.ifCondLogic.call(null!=a?a:{},null!=a?a.isSearch:a,"=",null,"||",null!=a?a.isSearch:a,"=",!1,{name:"ifCondLogic",hash:{},fn:e.program(77,l,0),inverse:e.program(79,l,0),data:l}))?i:"")+" "},77:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <input type=checkbox class="checkboxReal" id="checkBoxAjax_'+s(i(l&&l.index,a))+"\" name='Field_"+s(i(null!=a?a.fieldid:a,a))+'\' value="on" onClick = "crmSetup.limitFields( '+s(i(l&&l.index,a))+' )" ></input> <i class="customChckBox checkedBox formBuildIcons fL "></i> '},79:function(e,a,t,n,l){var i;return" "+(null!=(i=t.ifCond.call(null!=a?a:{},null!=a?a.isSearch:a,"=",!0,{name:"ifCond",hash:{},fn:e.program(80,l,0),inverse:e.noop,data:l}))?i:"")+" "},80:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <input type=checkbox class="checkboxReal" id="checkBoxAjax_'+s(i(l&&l.index,a))+"\" name='Field_"+s(i(null!=a?a.fieldid:a,a))+'\' checked value="on" onClick = "crmSetup.limitFields( '+s(i(l&&l.index,a))+' )" ></input> <i class="customChckBox checkedBox formBuildIcons fL "></i> '},82:function(e,a,t,n,l,i,s){var o,r=null!=a?a:{};return" "+(null!=(o=t.if.call(r,null!=a?a.isUnique:a,{name:"if",hash:{},fn:e.program(83,l,0,i,s),inverse:e.program(105,l,0,i,s),data:l}))?o:"")+" "+(null!=(o=t.unless.call(r,null!=s[2]?s[2].isDeveloperSpace:s[2],{name:"unless",hash:{},fn:e.program(115,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},83:function(e,a,t,n,l,i,s){var o;return" "+(null!=(o=t.if.call(null!=a?a:{},null!=s[2]?s[2].isDeveloperSpace:s[2],{name:"if",hash:{},fn:e.program(84,l,0,i,s),inverse:e.program(96,l,0,i,s),data:l}))?o:"")+" "},84:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <td class="pR"> <span class="dIB mW250 apiNameText"> <label title=\''+o(s(null!=a?a.sysrefname:a,a))+'\' href="javascript:;" class="ellipsistext fL color_4 f14 crm-font-regular fontSmooth" style="max-width: 200px;">'+(null!=(i=t.if.call(r,null!=a?a.isSysRefNameVisible:a,{name:"if",hash:{},fn:e.program(85,l,0),inverse:e.program(87,l,0),data:l}))?i:"")+"</label> "+(null!=(i=t.ifCondLogic.call(r,null!=a?a.genType:a,"=",2,"&&",null!=a?a.isSysRefNameVisible:a,"=",!0,{name:"ifCondLogic",hash:{},fn:e.program(89,l,0),inverse:e.noop,data:l}))?i:"")+' </span> <div class="editApiName" style="display:none"> <form onsubmit="return TabsAndFieldsApiNames.savesysrefname(this, \'field\')"> <input id="sysrefname" type="text" maxlength="50" class="apiNameInput p5 w150" value="'+o(s(null!=a?a.sysrefname:a,a))+'"> <a href="javascript:;" onclick="TabsAndFieldsApiNames.savesysrefname(this, \'field\')" class="saveLink f13">'+o(t.getI18n.call(r,"zb.common.Save",{name:"getI18n",hash:{},data:l}))+'</a> <a href="javascript:;" onclick="TabsAndFieldsApiNames.cancelSave(this)" class="smalledit lightreyText mL5">'+o(t.getI18n.call(r,"zb.common.Cancel",{name:"getI18n",hash:{},data:l}))+'</a> </form> <div class="infoAlertMB dIB"><span>'+o(t.getI18n.call(r,"crm.api.alert.message",{name:"getI18n",hash:{},data:l}))+'</span></div> <div class="errMsg errorMsgDesc dIB" style="display:none"><span></span></div> </div> </td> <td><span class="color_4 fontSmooth">'+o(s(null!=a?a.fieldType:a,a))+" ("+o(t.getI18n.call(r,"crm.field.label.unique",{name:"getI18n",hash:{},data:l}))+')</span></td> <td><div class="aligncenter"><img src="'+o(t.img_link.call(r,{name:"img_link",hash:{},data:l}))+'/spacer_e17b417_.gif" '+(null!=(i=t.ifEquals.call(r,null!=a?a.genType:a,"1",{name:"ifEquals",hash:{},fn:e.program(92,l,0),inverse:e.program(94,l,0),data:l}))?i:"")+' width="9" height="9"></div></td> '},85:function(e,a,t,n,l){return e.escapeExpression(e.lambda(null!=a?a.sysrefname:a,a))},87:function(e,a,t,n,l){return"--"},89:function(e,a,t,n,l){var i;return" "+(null!=(i=t.unless.call(null!=a?a:{},null!=a?a.isSysRefNameNotEditable:a,{name:"unless",hash:{},fn:e.program(90,l,0),inverse:e.noop,data:l}))?i:"")+" "},90:function(e,a,t,n,l){return' <a class="dIB" onclick=TabsAndFieldsApiNames.editSysRefName(this) href="javascript:;" style="max-width:300px"><span class="fL mL5">Edit</span></a> '},92:function(e,a,t,n,l){return' class="no" '},94:function(e,a,t,n,l){return' class="yes" '},96:function(e,a,t,n,l,i,s){var o;return" "+(null!=(o=t.if.call(null!=a?a:{},null!=s[2]?s[2].isPrivateFieldListing:s[2],{name:"if",hash:{},fn:e.program(97,l,0,i,s),inverse:e.program(103,l,0,i,s),data:l}))?o:"")+" "},97:function(e,a,t,n,l){var i;return' <td class="moduleName w100"><span class="color_4 fontSmooth">'+(null!=(i=t.ifEquals.call(null!=a?a:{},null!=a?a.privateType:a,1,{name:"ifEquals",hash:{},fn:e.program(98,l,0),inverse:e.program(100,l,0),data:l}))?i:"")+"</span></td> "},98:function(e,a,t,n,l){return e.escapeExpression(t.getI18n.call(null!=a?a:{},"Low",{name:"getI18n",hash:{},data:l}))},100:function(e,a,t,n,l){var i;return null!=(i=t.ifEquals.call(null!=a?a:{},null!=a?a.privateType:a,2,{name:"ifEquals",hash:{},fn:e.program(101,l,0),inverse:e.noop,data:l}))?i:""},101:function(e,a,t,n,l){return e.escapeExpression(t.getI18n.call(null!=a?a:{},"High",{name:"getI18n",hash:{},data:l}))},103:function(e,a,t,n,l){return' <td class="moduleName w100"><span class="color_4 fontSmooth">'+e.escapeExpression(e.lambda(null!=a?a.fieldType:a,a))+"</span></td> "},105:function(e,a,t,n,l,i,s){var o;return" "+(null!=(o=t.if.call(null!=a?a:{},null!=s[2]?s[2].isDeveloperSpace:s[2],{name:"if",hash:{},fn:e.program(106,l,0,i,s),inverse:e.program(108,l,0,i,s),data:l}))?o:"")+" "},106:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <td class="pR"> <span class="dIB mW250 apiNameText"> <label title=\''+o(s(null!=a?a.sysrefname:a,a))+'\' href="javascript:;" class="ellipsistext fL color_4 f14 crm-font-regular fontSmooth" style="max-width: 200px;">'+(null!=(i=t.if.call(r,null!=a?a.isSysRefNameVisible:a,{name:"if",hash:{},fn:e.program(85,l,0),inverse:e.program(87,l,0),data:l}))?i:"")+"</label> "+(null!=(i=t.ifCondLogic.call(r,null!=a?a.genType:a,"=",2,"&&",null!=a?a.isSysRefNameVisible:a,"=",!0,{name:"ifCondLogic",hash:{},fn:e.program(89,l,0),inverse:e.noop,data:l}))?i:"")+' </span> <div class="editApiName" style="display:none"> <form onsubmit="return TabsAndFieldsApiNames.savesysrefname(this, \'field\')"> <input id="sysrefname" type="text" maxlength="50" class="apiNameInput p5 w150" value="'+o(s(null!=a?a.sysrefname:a,a))+'"> <a href="javascript:;" onclick="TabsAndFieldsApiNames.savesysrefname(this, \'field\')" class="saveLink f13">'+o(t.getI18n.call(r,"zb.common.Save",{name:"getI18n",hash:{},data:l}))+'</a> <a href="javascript:;" onclick="TabsAndFieldsApiNames.cancelSave(this)" class="smalledit lightreyText mL5">'+o(t.getI18n.call(r,"zb.common.Cancel",{name:"getI18n",hash:{},data:l}))+'</a> </form> <div class="infoAlertMB dIB"><span>'+o(t.getI18n.call(r,"crm.api.alert.message",{name:"getI18n",hash:{},data:l}))+'</span></div> <div class="errMsg errorMsgDesc dIB" style="display:none"><span></span></div> </div> </td> <td><span class="color_4 fontSmooth">'+o(s(null!=a?a.fieldType:a,a))+'</span></td> <td><div class="aligncenter"><img src="'+o(t.img_link.call(r,{name:"img_link",hash:{},data:l}))+'/spacer_e17b417_.gif" '+(null!=(i=t.ifEquals.call(r,null!=a?a.genType:a,"1",{name:"ifEquals",hash:{},fn:e.program(92,l,0),inverse:e.program(94,l,0),data:l}))?i:"")+' width="9" height="9"></div></td> '},108:function(e,a,t,n,l,i,s){var o;return" "+(null!=(o=t.if.call(null!=a?a:{},null!=s[2]?s[2].isPrivateFieldListing:s[2],{name:"if",hash:{},fn:e.program(109,l,0,i,s),inverse:e.program(103,l,0,i,s),data:l}))?o:"")+" "},109:function(e,a,t,n,l){var i;return' <td class="moduleName w100"><span class="color_4 fontSmooth">'+(null!=(i=t.ifEquals.call(null!=a?a:{},null!=a?a.privateType:a,1,{name:"ifEquals",hash:{},fn:e.program(110,l,0),inverse:e.program(112,l,0),data:l}))?i:"")+"</span></td> "},110:function(e,a,t,n,l){return e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.mb.field.private.personal1",{name:"getI18n",hash:{},data:l}))},112:function(e,a,t,n,l){var i;return null!=(i=t.ifEquals.call(null!=a?a:{},null!=a?a.privateType:a,2,{name:"ifEquals",hash:{},fn:e.program(113,l,0),inverse:e.noop,data:l}))?i:""},113:function(e,a,t,n,l){return e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.mb.field.private.sensitive1",{name:"getI18n",hash:{},data:l}))},115:function(e,a,t,n,l,i,s){var o,r=null!=a?a:{};return" "+(null!=(o=t.if.call(r,null!=s[2]?s[2].isPrivateFieldListing:s[2],{name:"if",hash:{},fn:e.program(116,l,0,i,s),inverse:e.program(118,l,0,i,s),data:l}))?o:"")+" "+(null!=(o=t.if_gt.call(r,null!=(o=null!=s[2]?s[2].layout_jsonarrayObj:s[2])?o.layoutCnt:o,1,{name:"if_gt",hash:{},fn:e.program(120,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},116:function(e,a,t,n,l){return" "},118:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <td class="w100"><div align="left"><img src="'+e.escapeExpression(t.img_link.call(s,{name:"img_link",hash:{},data:l}))+'/spacer_e17b417_.gif" '+(null!=(i=t.ifEquals.call(s,null!=a?a.genType:a,"1",{name:"ifEquals",hash:{},fn:e.program(92,l,0),inverse:e.program(94,l,0),data:l}))?i:"")+' width="9" height="9"></div></td> '},120:function(e,a,t,n,l,i,s){var o;return" "+(null!=(o=t.if.call(null!=a?a:{},null!=s[2]?s[2].isMPLAvailable:s[2],{name:"if",hash:{},fn:e.program(121,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},121:function(e,a,t,n,l){var i;return' <td class="w200">'+(null!=(i=e.invokePartial(n.layoutDetailsForField,null!=a?a.layoutDetails:a,{name:"layoutDetailsForField",data:l,helpers:t,partials:n,decorators:e.decorators}))?i:"")+"</td> "},123:function(e,a,t,n,l){var i=e.lambda,s=e.escapeExpression;return' <input type = "hidden" id = "counter" name = "counter" value = "'+s(i(null!=a?a.fieldCount:a,a))+'" ></input> <input type = "hidden" id = "moduleId" name = "moduleId" value = "'+s(i(null!=a?a.moduleId:a,a))+'" ></input> <input type = "hidden" id = "module" name = "module" value = "'+s(i(null!=a?a.module:a,a))+'" ></input> <div class="mT30 aligncenter" id="savLayout"> <input type="button" data-zcqa="btn_MPL_saveSearchLayout" class="newSaveBtn crm-font-regular inActiveSec" id="edit2" name="edit2" value="'+s(t.getI18n.call(null!=a?a:{},"Save",{name:"getI18n",hash:{},data:l}))+'" class="newgraybtn" onclick = "crmSetup.saveFields();CrmModule.goTop(true);"> </div> </table> </form> '},125:function(e,a,t,n,l){var i=null!=a?a:{},s=e.escapeExpression;return' <div class="mT30" id="fldPerm"><input type="submit" data-zcqa="btn_MPL_saveFieldPermPage" id="fieldPermSaveBtn" class="newSaveBtn inActiveSec mL30" value="'+s(t.getI18n.call(i,"Save",{name:"getI18n",hash:{},data:l}))+'"><input type="button" data-zcqa="btn_MPL_cancelFieldPermPage" value="'+s(t.getI18n.call(i,"Cancel",{name:"getI18n",hash:{},data:l}))+'" onClick="crmSetup.changeLayoutForFieldList(\''+s(e.lambda(null!=a?a.module:a,a))+"','-1');\" class=\"newCancelBtn\" ></input></div> </form> "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l,i,s){var o,r=null!=a?a:{},d=e.escapeExpression;return" "+(null!=(o=t.unless.call(r,null!=a?a.searchLayoutCheck:a,{name:"unless",hash:{},fn:e.program(1,l,0,i,s),inverse:e.noop,data:l}))?o:"")+' <div class="modSub clearB '+(null!=(o=t.if.call(r,null!=a?a.isDeveloperSpace:a,{name:"if",hash:{},fn:e.program(4,l,0,i,s),inverse:e.noop,data:l}))?o:"")+"\" id='"+d(e.lambda(null!=a?a.module:a,a))+'_fieldsList\' onLoad="crmSetup.changeView();"> '+(null!=(o=t.if.call(r,null!=a?a.isFieldPermNeeded:a,{name:"if",hash:{},fn:e.program(6,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "+(null!=(o=t.unless.call(r,null!=a?a.searchLayoutCheck:a,{name:"unless",hash:{},fn:e.program(8,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "+(null!=(o=t.ifCond.call(r,null!=a?a.searchLayoutCheck:a,"=",!0,{name:"ifCond",hash:{},fn:e.program(12,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "+(null!=(o=t.if.call(r,null!=a?a.isFieldPermNeeded:a,{name:"if",hash:{},fn:e.program(14,l,0,i,s),inverse:e.program(16,l,0,i,s),data:l}))?o:"")+" "+(null!=(o=t.each.call(r,null!=a?a.fieldsInfo:a,{name:"each",hash:{},fn:e.program(21,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" </div> "+(null!=(o=t.ifCond.call(r,null!=a?a.searchLayoutCheck:a,"=",!0,{name:"ifCond",hash:{},fn:e.program(123,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "+(null!=(o=t.if.call(r,null!=a?a.isFieldPermNeeded:a,{name:"if",hash:{},fn:e.program(125,l,0,i,s),inverse:e.noop,data:l}))?o:"")+' <div id="norecord" style="display:none"><span class="crm-font-regular nooneisselected" style="color:#d5d5d5;margin-top: 25px;font-size:1.7rem;text-align:center; display:block;">'+d(t.getI18n.call(r,"crm.adword.searchtextnotbringresult",{name:"getI18n",hash:{},data:l}))+"</span></div> </div> "},usePartial:!0,useData:!0,useDepths:!0}),a.fieldsListHeading=e({1:function(e,a,t,n,l){return"seltab"},3:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return'<li id="fieldPerm" data-zcqa="MPL_fieldPermPage" class="dIB fL '+(null!=(i=t.if.call(s,null!=a?a.isFieldPermNeeded:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+'"><a href="javascript:;" onclick="crmSetup.getFieldPermission(\''+o(e.lambda(null!=a?a.module:a,a))+"','null');\">"+o(t.getI18n.call(s,"crm.lable.field.permission",{name:"getI18n",hash:{},data:l}))+"</a></li> "},5:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return'<li id="privateFields" data-zcqa="MPL_fieldPrivacyPage" class="dIB fL '+(null!=(i=t.if.call(s,null!=a?a.isPrivateFieldListing:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+"\"><link-to lt-prop-route='crm.settings.section.modules.module.field-privacy' lt-prop-dp='[\""+o(e.lambda(null!=a?a.module:a,a))+"\"]'>"+o(t.getI18n.call(s,"crm.mb.field.privacy",{name:"getI18n",hash:{},data:l}))+"</link-to></li> "},7:function(e,a,t,n,l){return" "+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.field.permission.heading",{name:"getI18n",hash:{},data:l}))+" "},9:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if_gt.call(null!=a?a:{},null!=(i=null!=a?a.layout_jsonarrayObj:a)?i.layoutCnt:i,1,{name:"if_gt",hash:{},fn:e.program(10,l,0),inverse:e.program(13,l,0),data:l}))?i:"")},10:function(e,a,t,n,l){var i;return null!=(i=t.if.call(null!=a?a:{},null!=a?a.isMPLAvailable:a,{name:"if",hash:{},fn:e.program(11,l,0),inverse:e.program(13,l,0),data:l}))?i:""},11:function(e,a,t,n,l){return e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.field.list.heading.multiplelayout",{name:"getI18n",hash:{},data:l}))},13:function(e,a,t,n,l){return e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.field.list.heading.singlelayout",{name:"getI18n",hash:{},data:l}))},15:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression,r=e.lambda;return' <td class="vtop"> <div class="crm-font-boldb f15 fL mR15 mT5 hide">'+o(t.getI18n.call(s,"Profiles",{name:"getI18n",hash:{},data:l}))+':</div> <div class="newSelect fL"> <select id="profileDetails" data-zcqa="MPL_fldPermPage_profileDropdown" name="profileId" data-module ="'+o(r(null!=a?a.module:a,a))+'"  onChange="crmSetup.getFieldPermission(\''+o(r(null!=a?a.module:a,a))+"',this.value)\"> "+(null!=(i=t.each.call(s,null!=a?a.profileDetails:a,{name:"each",hash:{},fn:e.program(16,l,0),inverse:e.noop,data:l}))?i:"")+' </select> </div> <div class="pR fL mL0 moduleinputPlaceholder" style="margin-top:-3px;"><span class="setupsearchicon ico-search svgIcons" style="left:5px;"></span> <input type="text" id="fieldSearchBox" class="setupsearch" style="font-size:1.4rem; padding:8px 10px 8px 30px; width:300px;" placeholder="'+o(t.getI18n.call(s,"webform.field.search",{name:"getI18n",hash:{},data:l}))+"\" onkeyup='crmSetup.showFieldAndDataTypeSuggest(this)'></div> </td> "},16:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <option data-zcqa="MPL_fldPermPage_'+o(s(null!=a?a.profileName:a,a))+'" '+(null!=(i=t.ifEquals.call(r,null!=a?a.isDefaultProfile:a,!0,{name:"ifEquals",hash:{},fn:e.program(17,l,0),inverse:e.noop,data:l}))?i:"")+' value="'+o(s(null!=a?a.profileId:a,a))+'">'+(null!=(i=t.if_eq.call(r,null!=a?a.category:a,!0,{name:"if_eq",hash:{},fn:e.program(19,l,0),inverse:e.program(21,l,0),data:l}))?i:"")+"</option> "},17:function(e,a,t,n,l){return" selected=selected "},19:function(e,a,t,n,l){return" "+e.escapeExpression(e.lambda(null!=a?a.profileName:a,a))+" "},21:function(e,a,t,n,l){return" "+e.escapeExpression(t.getI18n.call(null!=a?a:{},null!=a?a.profileName:a,{name:"getI18n",hash:{},data:l}))+" "},23:function(e,a,t,n,l,i,s){var o,r=null!=a?a:{};return' <td class="vtop"> '+(null!=(o=t.ifEquals.call(r,null!=a?a.showMultipageLayout:a,"true",{name:"ifEquals",hash:{},fn:e.program(24,l,0,i,s),inverse:e.noop,data:l}))?o:"")+' <div class="pR fL mL0 moduleinputPlaceholder" style="margin-top:-3px;"><span class="setupsearchicon ico-search svgIcons" style="left:5px;"></span> <input type="text" class="setupsearch" style="font-size:1.4rem; padding:8px 10px 8px 30px; width:300px;" '+(null!=(o=t.if.call(r,null!=a?a.isPrivateFieldListing:a,{name:"if",hash:{},fn:e.program(32,l,0,i,s),inverse:e.program(34,l,0,i,s),data:l}))?o:"")+" onkeyup='crmSetup.showFieldAndDataTypeSuggest(this)'></div> </td> "},24:function(e,a,t,n,l,i,s){var o,r=e.escapeExpression,d=null!=a?a:{};return' <div class="newSelect fL"> <select id="layoutDetails" data-module ="'+r(e.lambda(null!=a?a.module:a,a))+'" '+(null!=(o=t.ifCond.call(d,null!=a?a.isPrivateFieldListing:a,"=",!0,{name:"ifCond",hash:{},fn:e.program(25,l,0,i,s),inverse:e.program(27,l,0,i,s),data:l}))?o:"")+'> <option value="-1">'+r(t.getI18n.call(d,"crm.label.all.layouts",{name:"getI18n",hash:{},data:l}))+"</option> "+(null!=(o=t.each.call(d,null!=(o=null!=a?a.layout_jsonarrayObj:a)?o.layout_jsonarrayObj:o,{name:"each",hash:{},fn:e.program(29,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" </select> </div> "},25:function(e,a,t,n,l){return" onChange=\"crmSetup.changeLayoutForPrivateFieldList('"+e.escapeExpression(e.lambda(null!=a?a.module:a,a))+"',this.value)\""},27:function(e,a,t,n,l){return" onChange=\"crmSetup.changeLayoutForFieldList('"+e.escapeExpression(e.lambda(null!=a?a.module:a,a))+"',this.value)\""},29:function(e,a,t,n,l,i,s){var o;return" "+(null!=(o=t.ifEquals.call(null!=a?a:{},null!=a?a.STATUS:a,"true",{name:"ifEquals",hash:{},fn:e.program(30,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},30:function(e,a,t,n,l,i,s){var o,r=e.lambda,d=e.escapeExpression;return" <option "+(null!=(o=t.ifEquals.call(null!=a?a:{},null!=s[1]?s[1].layoutId:s[1],null!=a?a.LAYOUTID:a,{name:"ifEquals",hash:{},fn:e.program(17,l,0,i,s),inverse:e.noop,data:l}))?o:"")+' value="'+d(r(null!=a?a.LAYOUTID:a,a))+'">'+d(r(null!=a?a.LAYOUTNAME:a,a))+"</option> "},32:function(e,a,t,n,l){return'placeholder="'+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.label.search.fields.or.datasensitivity1",{name:"getI18n",hash:{},data:l}))+'"'},34:function(e,a,t,n,l){return'placeholder="'+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.label.search.fields.or.datatype",{name:"getI18n",hash:{},data:l}))+'"'},36:function(e,a,t,n,l){var i=e.escapeExpression;return' <button class="newgraybtn customBtn" id="markPrivateFieldsBtn" data-zcqa="btn_MPL_markPrivateFields" onclick="javascript:CML.showPrivateFields(\''+i(e.lambda(null!=a?a.module:a,a))+"');\">"+i(t.getI18n.call(null!=a?a:{},"crm.mb.field.private.set",{name:"getI18n",hash:{},data:l}))+"</button> "},38:function(e,a,t,n,l){return' <button data-zcqa="btn_MPL_openLayout" class="primaryflatbtn fR" id="openLayout" onClick="CrmPageLayout.openCreateOrEditfldPopup()">'+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.mpl.fieldsTab.createOrEditFld.button.label",{name:"getI18n",hash:{},data:l}))+"</button> "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l,i,s){var o,r=null!=a?a:{},d=e.escapeExpression;return' <div class="mT10 mB20"> <ul class="m0 p0 nTTabClass oH secondaryTabNewView dIB"> <li id="fieldListing" data-zcqa="MPL_fieldListPage" class="dIB fL '+(null!=(o=t.if.call(r,null!=a?a.isFieldListing:a,{name:"if",hash:{},fn:e.program(1,l,0,i,s),inverse:e.noop,data:l}))?o:"")+'"><a href="javascript:;" onclick="crmSetup.changeLayoutForFieldList(\''+d(e.lambda(null!=a?a.module:a,a))+"','-1');\">"+d(t.getI18n.call(r,"crm.label.field.listing",{name:"getI18n",hash:{},data:l}))+"</a></li>"+(null!=(o=t.ifCond.call(r,null!=a?a.hasFieldPermissionAccess:a,"=",!0,{name:"ifCond",hash:{},fn:e.program(3,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "+(null!=(o=t.ifCond.call(r,null!=a?a.isPrivateFieldsAvailable:a,"=",!0,{name:"ifCond",hash:{},fn:e.program(5,l,0,i,s),inverse:e.noop,data:l}))?o:"")+' </ul> </div> <div class="clearB"></div> <div class="mT20 crm-font-regular f13 color_3 hide">'+(null!=(o=t.if.call(r,null!=a?a.isFieldPermNeeded:a,{name:"if",hash:{},fn:e.program(7,l,0,i,s),inverse:e.program(9,l,0,i,s),data:l}))?o:"")+'</div> <table width="100%" cellpadding="0" cellspacing="0" border="0" class="mT8"> <tbody> <tr> '+(null!=(o=t.ifEquals.call(r,null!=a?a.isFieldPermNeeded:a,!0,{name:"ifEquals",hash:{},fn:e.program(15,l,0,i,s),inverse:e.program(23,l,0,i,s),data:l}))?o:"")+' <td class="alignright vmiddle"> '+(null!=(o=t.ifCond.call(r,null!=a?a.isPrivateFieldListing:a,"=",!0,{name:"ifCond",hash:{},fn:e.program(36,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "+(null!=(o=t.unless.call(r,null!=a?a.hideCreateOrEditFldButton:a,{name:"unless",hash:{},fn:e.program(38,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" </td> </tr> </tbody> </table> "},useData:!0,useDepths:!0}),a.layoutDetailsForField=e({1:function(e,a,t,n,l,i,s){var o,r=null!=a?a:{};return" "+(null!=(o=t.ifAllMatch.call(r,l&&l.index,"=",2,null!=s[1]?s[1].layoutsCnt:s[1],"=",3,{name:"ifAllMatch",hash:{},fn:e.program(2,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "+(null!=(o=t.lessThan.call(r,l&&l.index,2,{name:"lessThan",hash:{},fn:e.program(7,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "+(null!=(o=t.ifAllMatch.call(r,l&&l.index,">=",2,null!=s[1]?s[1].layoutsCnt:s[1],">",3,{name:"ifAllMatch",hash:{},fn:e.program(16,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},2:function(e,a,t,n,l){var i,s=null!=a?a:{};return' <span class="color2">'+e.escapeExpression(t.getI18n.call(s,"crm.label.lowercase.and",{name:"getI18n",hash:{},data:l}))+"&nbsp;</span> "+(null!=(i=t.ifEquals.call(s,null!=a?a.status:a,-1,{name:"ifEquals",hash:{},fn:e.program(3,l,0),inverse:e.program(5,l,0),data:l}))?i:"")+" </span> "},3:function(e,a,t,n,l){return" "+e.escapeExpression(e.lambda(null!=a?a.layoutName:a,a))+" "},5:function(e,a,t,n,l){var i=e.escapeExpression,s=e.lambda;return" <link-to data-zcqa=\"ShowBuilder\" lt-prop-route='crm.settings.section.modules.module.layouts.view-layout' lt-prop-dp='[\""+i(t.getCurrentModule.call(null!=a?a:{},{name:"getCurrentModule",hash:{},data:l}))+'","'+i(s(null!=a?a.layoutId:a,a))+'"]\' lt-prop-class="link" lt-prop->'+i(s(null!=a?a.layoutName:a,a))+"</link-to> "},7:function(e,a,t,n,l,i,s){var o;return" "+(null!=(o=t.if_gt.call(null!=a?a:{},l&&l.index,0,{name:"if_gt",hash:{},fn:e.program(8,l,0,i,s),inverse:e.program(14,l,0,i,s),data:l}))?o:"")+" "},8:function(e,a,t,n,l,i,s){var o;return" "+(null!=(o=t.ifEquals.call(null!=a?a:{},null!=s[1]?s[1].layoutsCnt:s[1],2,{name:"ifEquals",hash:{},fn:e.program(9,l,0,i,s),inverse:e.program(12,l,0,i,s),data:l}))?o:"")+" "},9:function(e,a,t,n,l){var i,s=null!=a?a:{};return" "+e.escapeExpression(t.getI18n.call(s,"crm.label.lowercase.and",{name:"getI18n",hash:{},data:l}))+" "+(null!=(i=t.ifEquals.call(s,null!=a?a.status:a,-1,{name:"ifEquals",hash:{},fn:e.program(3,l,0),inverse:e.program(10,l,0),data:l}))?i:"")+" "},10:function(e,a,t,n,l){var i=e.escapeExpression,s=e.lambda;return"<link-to data-zcqa=\"ShowBuilder\" lt-prop-route='crm.settings.section.modules.module.layouts.view-layout' lt-prop-dp='[\""+i(t.getCurrentModule.call(null!=a?a:{},{name:"getCurrentModule",hash:{},data:l}))+'","'+i(s(null!=a?a.layoutId:a,a))+'"]\' lt-prop-class="link" lt-prop->'+i(s(null!=a?a.layoutName:a,a))+"</link-to> "},12:function(e,a,t,n,l){var i;return" ,&nbsp; "+(null!=(i=t.ifEquals.call(null!=a?a:{},null!=a?a.status:a,-1,{name:"ifEquals",hash:{},fn:e.program(3,l,0),inverse:e.program(10,l,0),data:l}))?i:"")+" "},14:function(e,a,t,n,l){var i;return" "+(null!=(i=t.ifEquals.call(null!=a?a:{},null!=a?a.status:a,-1,{name:"ifEquals",hash:{},fn:e.program(3,l,0),inverse:e.program(10,l,0),data:l}))?i:"")+" "},16:function(e,a,t,n,l,i,s){var o,r=null!=a?a:{};return" "+(null!=(o=t.ifEquals.call(r,l&&l.index,2,{name:"ifEquals",hash:{},fn:e.program(17,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "+(null!=(o=t.ifEquals.call(r,null!=a?a.status:a,-1,{name:"ifEquals",hash:{},fn:e.program(19,l,0,i,s),inverse:e.program(21,l,0,i,s),data:l}))?o:"")+" "+(null!=(o=t.if.call(r,l&&l.last,{name:"if",hash:{},fn:e.program(23,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},17:function(e,a,t,n,l,i,s){var o=null!=a?a:{},r=e.escapeExpression;return' <span class="color2">'+r(t.getI18n.call(o,"crm.label.lowercase.and",{name:"getI18n",hash:{},data:l}))+'&nbsp;</span> <a href="#" class="link" id="fromFieldList" onmouseenter="CrmPageLayout.showMoreLayouts(this)" onmouseleave="CrmPageLayout.hideMoreLayouts(this)">'+r(t.arithResult.call(o,null!=s[1]?s[1].layoutsCnt:s[1],"-",2,{name:"arithResult",hash:{},data:l}))+" "+r(t.getI18n.call(o,"crm.label.others.lower.case",{name:"getI18n",hash:{},data:l}))+'</a> <div class="moreusers hide"> '},19:function(e,a,t,n,l){return" <span>"+e.escapeExpression(e.lambda(null!=a?a.layoutName:a,a))+"</span><br> "},21:function(e,a,t,n,l){var i=e.escapeExpression,s=e.lambda;return"<span><link-to data-zcqa=\"ShowBuilder\" lt-prop-route='crm.settings.section.modules.module.layouts.view-layout' lt-prop-dp='[\""+i(t.getCurrentModule.call(null!=a?a:{},{name:"getCurrentModule",hash:{},data:l}))+'","'+i(s(null!=a?a.layoutId:a,a))+'"]\' lt-prop-class="fldHntLnk" lt-prop->'+i(s(null!=a?a.layoutName:a,a))+"</link-to></span><br> "},23:function(e,a,t,n,l){return' <div class="pR"> <span class="pA uaInnerArrow" style="left: 38%;float: none;bottom: -6px;"></span> </div> </div> '},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l,i,s){var o;return'<span class="moduleLink fontSmooth color_4"> '+(null!=(o=t.each.call(null!=a?a:{},null!=a?a.layouts:a,{name:"each",hash:{},fn:e.program(1,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" </span>"},useData:!0,useDepths:!0}),a.layoutListSelect=e({1:function(e,a,t,n,l,i,s){var o;return" "+(null!=(o=t.if.call(null!=a?a:{},null!=(o=null!=a?a.layout_jsonarrayObj:a)?o.showLayoutOption:o,{name:"if",hash:{},fn:e.program(2,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},2:function(e,a,t,n,l,i,s){var o,r=e.escapeExpression,d=null!=a?a:{};return' <select id="layoutDetails" class="layChange" data-module ="'+r(e.lambda(null!=a?a.module:a,a))+'"  onChange="TabsAndFieldsApiNames.changeLayoutForFieldListForDevSpace(\''+r(t.encodeJS.call(d,null!=a?a.module:a,{name:"encodeJS",hash:{},data:l}))+'\',this.value)"> <option value="-1">'+r(t.getI18n.call(d,"crm.label.all.layouts",{name:"getI18n",hash:{},data:l}))+"</option> "+(null!=(o=t.each.call(d,null!=(o=null!=a?a.layout_jsonarrayObj:a)?o.layout_jsonarrayObj:o,{name:"each",hash:{},fn:e.program(3,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" </select> "},3:function(e,a,t,n,l,i,s){var o;return" "+(null!=(o=t.ifEquals.call(null!=a?a:{},null!=a?a.STATUS:a,"true",{name:"ifEquals",hash:{},fn:e.program(4,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},4:function(e,a,t,n,l,i,s){var o,r=e.lambda,d=e.escapeExpression;return" <option "+(null!=(o=t.ifEquals.call(null!=a?a:{},null!=s[1]?s[1].layoutId:s[1],null!=a?a.LAYOUTID:a,{name:"ifEquals",hash:{},fn:e.program(5,l,0,i,s),inverse:e.noop,data:l}))?o:"")+' value="'+d(r(null!=a?a.LAYOUTID:a,a))+'">'+d(r(null!=a?a.LAYOUTNAME:a,a))+"</option> "},5:function(e,a,t,n,l){return" selected=selected "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l,i,s){var o;return(null!=(o=t.if.call(null!=a?a:{},null!=a?a.isMPLAvailable:a,{name:"if",hash:{},fn:e.program(1,l,0,i,s),inverse:e.noop,data:l}))?o:"")+" "},useData:!0,useDepths:!0}),a.linkingmodulewarning=e({compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i=null!=a?a:{},s=e.escapeExpression;return'<div id="linking-module-warning"> <div id="linking-module-dependency" class="newPopup ppTop w500 is-scroll showPpTop" onclick="sE(event);"> <h2 class="mB0 pp-header">'+s(t.getI18n.call(i,"crm.title.linkingmoduledependency",{name:"getI18n",hash:{},data:l}))+' </h2> <div class="pp-content pB10"><span class="f14 crm-font-regular color_3">'+s(t.getI18n.call(i,"crm.organizemodule.linking.msg",{name:"getI18n",hash:{},data:l}))+' </span> <span class="dB mT10">'+s(t.getI18n.call(i,"crm.title.linkingmodules",{name:"getI18n",hash:{},data:l}))+'</span> <div id="ulcontent"></div> <span>'+s(t.getI18n.call(i,"crm.template.listview.associated.warnComf1",{name:"getI18n",hash:{},data:l}))+' </span> </div> <div class="pp-footer"> <input type="button" id="nocancel" class="newgraybtn" value="'+s(t.getI18n.call(i,"crm.button.nocancel",{name:"getI18n",hash:{},data:l}))+'" onClick="OptionChooser.cancel(\'#linking-module-dependency\');sE(event);"> <input type="button" id="yesproceed" class="primarybtn" value="'+s(t.getI18n.call(i,"crm.button.yesproceed",{name:"getI18n",hash:{},data:l}))+'" onClick="sE(event);"></div> </div> <div id="module-dependency" class="newPopup ppTop w500 is-scroll showPpTop" onclick="sE(event);"> <h2 class="h1 mB0 pp-header">'+s(t.getI18n.call(i,"crm.title.linkingmoduledependency",{name:"getI18n",hash:{},data:l}))+' </h2> <div class="pp-content pB10"><span class="f14 crm-font-regular color_3">'+s(t.getI18n.call(i,"crm.organizemodule.module.msg",{name:"getI18n",hash:{},data:l}))+' </span> <span class="dB mT10">'+s(t.getI18n.call(i,"crm.title.modules",{name:"getI18n",hash:{},data:l}))+'</span> <div id="ulcontent"></div> <span>'+s(t.getI18n.call(i,"crm.template.listview.associated.warnComf1",{name:"getI18n",hash:{},data:l}))+' </span> </div> <div class="pp-footer"> <input type="button" class="newgraybtn" value="'+s(t.getI18n.call(i,"crm.button.nocancel",{name:"getI18n",hash:{},data:l}))+'" onClick="OptionChooser.cancel(\'#module-dependency\');sE(event);"> <input type="button" id="yesproceed" class="primarybtn" value="'+s(t.getI18n.call(i,"crm.button.yesproceed",{name:"getI18n",hash:{},data:l}))+'" onClick="sE(event);"></div> </div> <div id="inventory-module-dependency" class="newPopup ppTop w500 is-scroll showPpTop" onclick="sE(event);"> <h2 class="h1 mB0 pp-header">'+s(t.getI18n.call(i,"crm.title.inventorymoduledependency",{name:"getI18n",hash:{},data:l}))+' </h2> <div class="pp-content pB10"><span class="f14 proxima color_3">'+s(t.getI18n.call(i,"crm.organizemodule.inventory.msg",{name:"getI18n",hash:{},data:l}))+' </span> <span class="dB mT10">'+s(t.getI18n.call(i,"crm.title.inventorymodules",{name:"getI18n",hash:{},data:l}))+'</span> <div id="ulcontent"></div> <span>'+s(t.getI18n.call(i,"crm.template.listview.associated.warnComf1",{name:"getI18n",hash:{},data:l}))+' </span> </div> <div class="pp-footer"> <input type="button" id="nocancel" class="newgraybtn" value="'+s(t.getI18n.call(i,"crm.button.nocancel",{name:"getI18n",hash:{},data:l}))+'" onClick="sE(event);"> <input type="button" id="yesproceed" class="primarybtn" value="'+s(t.getI18n.call(i,"crm.button.yesproceed",{name:"getI18n",hash:{},data:l}))+'" onClick="sE(event);"></div> </div> <div id="inventory-product-module-dependency" class="newPopup ppTop w500 is-scroll showPpTop" onclick="sE(event);"> <h2 class="h1 mB0 pp-header">'+s(t.getI18n.call(i,"crm.title.inventorymoduledependency",{name:"getI18n",hash:{},data:l}))+' </h2> <div class="pp-content pB10"><span class="f14 proxima color_3">'+s(t.getI18n.call(i,"crm.organizemodule.inventory.product.msg",{name:"getI18n",hash:{},data:l}))+' </span> <span class="dB mT10">'+s(t.getI18n.call(i,"crm.title.inventorymodules",{name:"getI18n",hash:{},data:l}))+'</span> <div id="ulcontent"></div> <span>'+s(t.getI18n.call(i,"crm.template.listview.associated.warnComf1",{name:"getI18n",hash:{},data:l}))+' </span> </div> <div class="pp-footer"> <input type="button" id="nocancel" class="newgraybtn" value="'+s(t.getI18n.call(i,"crm.button.nocancel",{name:"getI18n",hash:{},data:l}))+'" onClick="sE(event);"> <input type="button" id="yesproceed" class="primarybtn" value="'+s(t.getI18n.call(i,"crm.button.yesproceed",{name:"getI18n",hash:{},data:l}))+'" onClick="sE(event);"></div> </div> <div data-zcqa="forecast-module-dependency" id="forecast-module-dependency" class="newPopup ppTop w500 is-scroll showPpTop" onclick="sE(event);"> <h2 class="mB0 pp-header">'+s(t.getI18n.call(i,"crm.forecast.title.organise.module",{name:"getI18n",hash:{},data:l}))+' </h2> <div class="pp-content pB10"><span class="f14 proxima color_3">'+s(t.getI18n.call(i,"crm.forecast.title.organise.module.message.new.msg",null!=a?a.module:a,t.getDisplayModuleName.call(i,"Forecasts",!0,{name:"getDisplayModuleName",hash:{},data:l}),{name:"getI18n",hash:{},data:l}))+"</span> <span>"+s(t.getI18n.call(i,"crm.template.listview.associated.warnComf1",{name:"getI18n",hash:{},data:l}))+' </span> </div> <div class="pp-footer"> <input data-zcqa="forecast-module-dependencyNCancl" type="button" id="nocancel" class="newgraybtn" value="'+s(t.getI18n.call(i,"crm.forecast.no.cancel",{name:"getI18n",hash:{},data:l}))+'" onClick="sE(event);"> <input data-zcqa="forecast-module-dependencyYPrcd" type="button" id="yesproceed" class="primarybtn" value="'+s(t.getI18n.call(i,"crm.yes.proceed",{name:"getI18n",hash:{},data:l}))+'" onClick="sE(event);"></div> </div> <div id="deal-module-dependency" class="newPopup ppTop w500 is-scroll showPpTop" onclick="sE(event);"> <h2 class="mB0 pp-header">'+s(t.getI18n.call(i,"crm.forecast.title.organise.module",{name:"getI18n",hash:{},data:l}))+' </h2> <div class="pp-content pB10"><span class="f14 proxima color_3">'+s(t.getI18n.call(i,"crm.forecast.organise.module.enable.new",t.getDisplayModuleName.call(i,"Deals",!1,{name:"getDisplayModuleName",hash:{},data:l}),{name:"getI18n",hash:{},data:l}))+' </span> </div> <div class="pp-footer"> <input data-zcqa="deal-module-dependencyNCancl" type="button" id="nocancel" class="newgraybtn" value="'+s(t.getI18n.call(i,"crm.forecast.no.cancel",{name:"getI18n",hash:{},data:l}))+'" onClick="sE(event);"> <input data-zcqa="deal-module-dependencyYPrcd" type="button" id="yesproceed" class="primarybtn" value="'+s(t.getI18n.call(i,"crm.button.enable",{name:"getI18n",hash:{},data:l}))+'" onClick="sE(event);"></div> </div> </div>'},useData:!0}),a.privateFieldRow=e({1:function(e,a,t,n,l){return"newRow"},3:function(e,a,t,n,l){return"eventNone disable"},5:function(e,a,t,n,l,i,s){var o,r=e.lambda,d=e.escapeExpression;return' <label class="rbCheckHtml"> <input type="radio" value="'+d(r(null!=a?a.value:a,a))+'" class="rbRealHtml hide" data-zcqa="MPL_privateField_'+d(r(null!=a?a.value:a,a))+"_"+d(r(null!=s[1]?s[1].index:s[1],a))+'" name="privatetype'+d(r(null!=s[1]?s[1].index:s[1],a))+'" '+(null!=(o=t.ifEquals.call(null!=a?a:{},null!=s[1]?s[1].privatetype:s[1],null!=a?a.value:a,{name:"ifEquals",hash:{},fn:e.program(6,l,0,i,s),inverse:e.noop,data:l}))?o:"")+'> <span class="rbHtml dIB pR"> <span class="rbTickHtml dIB pA"></span> </span> <span class="dIB reqLabel vam mL5">'+d(r(null!=a?a.label:a,a))+"</span> </label> "},6:function(e,a,t,n,l){return'checked="true"'},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l,i,s){var o,r=null!=a?a:{},d=e.lambda,c=e.escapeExpression;return'<tr class="fieldPrivateRow '+(null!=(o=t.if.call(r,null!=a?a.isNewRow:a,{name:"if",hash:{},fn:e.program(1,l,0,i,s),inverse:e.noop,data:l}))?o:"")+'" id="fieldPrivateRow_'+c(d(null!=a?a.index:a,a))+'"> <td width="40%" class=""> <div class="privatechildtdDiv"> <div class="newSelect" onclick="CML.hideSelecedOption(this);"> <select class="fieldSelect select2-hidden-accessible" selected-value="'+c(d(null!=a?a.id:a,a))+'" data-zcqa="MPL_privateField_selectField'+c(d(null!=a?a.index:a,a))+'" onchange="CML.showPrivacyTypeOptions(this);"  tabindex="-1" aria-hidden="true"> <option value="'+c(d(null!=a?a.id:a,a))+'" selected="selected">'+c(d(null!=a?a.label:a,a))+'</option> </select> </div> </div> </td> <td width="40%" class="privateOptionType"> <div class="privatechildtdDiv '+(null!=(o=t.if.call(r,null!=a?a.isNewRow:a,{name:"if",hash:{},fn:e.program(3,l,0,i,s),inverse:e.noop,data:l}))?o:"")+'"> '+(null!=(o=t.each.call(r,null!=a?a.privateTypes:a,{name:"each",hash:{},fn:e.program(5,l,0,i,s),inverse:e.noop,data:l}))?o:"")+' </div> </td> <td width="10%" class="rowDeleteIcon privateTdMiddle"> <div class="vH"><span class="formBuildIcons prvwClose dIB cP vam" onclick="CML.removePrivateFieldRow(this)"></span></div> </td> </tr>'},useData:!0,useDepths:!0}),a.privateFieldsList=e({1:function(e,a,t,n,l,i,s){var o;return" "+(null!=(o=t.getPrivateFieldRow.call(null!=a?a:{},a,l&&l.index,null!=s[1]?s[1].privateTypes:s[1],{name:"getPrivateFieldRow",hash:{},data:l}))?o:"")+" "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l,i,s){var o,r=null!=a?a:{},d=e.escapeExpression,c=e.lambda;return'<div id="privateSettingsOptions" class="newPopup ppTop w600 is-scroll" style="display: none; height: auto; overflow: visible;" > <h2 class=" mB0 pp-header">'+d(t.getI18n.call(r,"crm.mb.field.private.plural",{name:"getI18n",hash:{},data:l}))+' - <span class="f13" id="modName" name="'+d(c(null!=a?a.moduleName:a,a))+'">'+d(c(null!=a?a.moduleLabel:a,a))+'</span></h2> <div class="pp-content" style="max-height: 259px;"> <div class="privateFieldPermissionHead"> <table width="100%" cellpadding="0" cellspacing="0" class="privateSettingsTableHeading"> <thead> <tr> <th width="40%"> <span>'+d(t.getI18n.call(r,"crm.label.customize.fields",{name:"getI18n",hash:{},data:l}))+'</span> </th> <th width="40%" class=""> <span>'+d(t.getI18n.call(r,"crm.mb.field.privacy.type1",{name:"getI18n",hash:{},data:l}))+'</span> </th> <th width="10%"> <div class=""><span class="dIB vam"></span></div> </th> </tr> </thead> </table> </div> <div class="privateFieldPermissionBody"> <table width="100%" cellpadding="0" cellspacing="0" class="privateSettingsTableContents" id="fieldPrivateRowTable"> <tbody> '+(null!=(o=t.each.call(r,null!=a?a.privatefields:a,{name:"each",hash:{},fn:e.program(1,l,0,i,s),inverse:e.noop,data:l}))?o:"")+' </tbody> </table> </div> <div class="addRowButtonOption"> <div class="mT30 fL"> <input id="addPrivateFldBtn" type="button" data-zcqa="MPL_addPrivateField_btn" value="'+d(t.getI18n.call(r,"Add Field",{name:"getI18n",hash:{},data:l}))+'" class="outlineprimaryflat customBtn fR mR0" onclick="CML.addPrivateFieldRow();"> </div> </div> </div> <div class="pp-footer"> <input type="button" class="newgraybtn" data-zcqa="MPL_cancelPrivateField_btn" value="'+d(t.getI18n.call(r,"Cancel",{name:"getI18n",hash:{},data:l}))+"\" onclick=\"CrmModule.hide('privateSettingsOptions');Crm.trackSpotLightAction('Personal Fields - Popup Cancel',{'Module':"+d(c(null!=a?a.moduleName:a,a))+' });"> <input type="button" id="saveBtn" class="primarybtn mR0 inActiveSec" data-zcqa="MPL_savePrivateField_btn" value="'+d(t.getI18n.call(r,"Done",{name:"getI18n",hash:{},data:l}))+"\" onclick=\"CML.savePrivateFields();Crm.trackSpotLightAction('Personal Fields - Popup Done',{'Module':"+d(c(null!=a?a.moduleName:a,a))+' });"> </div> </div>'},useData:!0,useDepths:!0}),a.relatedList=e({1:function(e,a,t,n,l){var i;return" "+(null!=(i=t.unless.call(null!=a?a:{},null!=a?a.isDeveloperSpace:a,{name:"unless",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l}))?i:"")+" "},2:function(e,a,t,n,l){var i=null!=a?a:{},s=e.escapeExpression;return' <div class="posrel"> <div class="posabs layoutHelp"> <a id="context-helplink" onmouseover="CMB.newShowTooltip(\''+s(t.getI18n.call(i,"crm.label.context.help",{name:"getI18n",hash:{},data:l}))+'\')" onmouseout="CMB.newHideTooltip();" onClick="openHelp(\''+s(e.lambda(null!=a?a.helpLinkUrl:a,a))+'\')" href="javascript:;">'+s(t.getI18n.call(i,"crm.label.context.help",{name:"getI18n",hash:{},data:l}))+"</a> </div> </div> "},4:function(e,a,t,n,l){return" pL20 "},6:function(e,a,t,n,l){var i;return" "+(null!=(i=t.unless.call(null!=a?a:{},null!=a?a.isDeveloperSpace:a,{name:"unless",hash:{},fn:e.program(7,l,0),inverse:e.noop,data:l}))?i:"")+" "},7:function(e,a,t,n,l){var i;return" "+(null!=(i=t.setFieldsListHeading.call(null!=a?a:{},a,{name:"setFieldsListHeading",hash:{},fn:e.program(8,l,0),inverse:e.noop,data:l}))?i:"")+" "},8:function(e,a,t,n,l){return""},10:function(e,a,t,n,l){return" <div class='fieldPermissionDiv'> "},12:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.searchLayoutCheck:a,{name:"if",hash:{},fn:e.program(13,l,0),inverse:e.program(15,l,0),data:l}))?i:"")+" "},13:function(e,a,t,n,l){return" <div class='searchLayoutDiv'> "},15:function(e,a,t,n,l){return" <div class='fieldListDiv'> "},17:function(e,a,t,n,l){var i=null!=a?a:{},s=e.escapeExpression;return' <th class="w100">'+s(t.getI18n.call(i,"crm.custom.module.read.write",{name:"getI18n",hash:{},data:l}))+'</th> <th class="w100">'+s(t.getI18n.call(i,"crm.label.readonly",{name:"getI18n",hash:{},data:l}))+'</th> <th class="w100">'+s(t.getI18n.call(i,"crm.custom.module.dont.show",{name:"getI18n",hash:{},data:l}))+"</th> "},19:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.searchLayoutCheck:a,{name:"if",hash:{},fn:e.program(20,l,0),inverse:e.program(22,l,0),data:l}))?i:"")+" "},20:function(e,a,t,n,l){return' <th class="w100"></th> <th class="w100">'+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.label.show",{name:"getI18n",hash:{},data:l}))+'</th> <th class="w100"></th> '},22:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.isDeveloperSpace:a,{name:"if",hash:{},fn:e.program(23,l,0),inverse:e.program(25,l,0),data:l}))?i:"")+" "},23:function(e,a,t,n,l){var i=null!=a?a:{},s=e.escapeExpression;return' <th width="40%">'+s(t.getI18n.call(i,"crm.api.sysrefname",{name:"getI18n",hash:{},data:l}))+'</th> <th width="20%" class="aligncenter">'+s(t.getI18n.call(i,"crm.api.custom.related.list",{name:"getI18n",hash:{},data:l}))+"</th> "},25:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return' <th class="w100">'+o(t.getI18n.call(s,"crm.label.datatype",{name:"getI18n",hash:{},data:l}))+'</th> <th class="w100">'+o(t.getI18n.call(s,"crm.label.customfield",{name:"getI18n",hash:{},data:l}))+"</th> "+(null!=(i=t.if_gt.call(s,null!=(i=null!=a?a.layout_jsonarrayObj:a)?i.layoutCnt:i,1,{name:"if_gt",hash:{},fn:e.program(26,l,0),inverse:e.noop,data:l}))?i:"")+" "},26:function(e,a,t,n,l){var i;return" "+(null!=(i=t.if.call(null!=a?a:{},null!=a?a.isMPLAvailable:a,{name:"if",hash:{},fn:e.program(27,l,0),inverse:e.noop,data:l}))?i:"")+" "},27:function(e,a,t,n,l){return' <th class="w200">'+e.escapeExpression(t.getI18n.call(null!=a?a:{},"crm.label.layouts",{name:"getI18n",hash:{},data:l}))+"</th> "},29:function(e,a,t,n,l){var i,s=e.lambda,o=e.escapeExpression,r=null!=a?a:{};return' <tr class="trout resLay fldForSearch editHov editHovHold"> <td><div class="moduleLink pR crm-font-regular f13 fontSmooth color_4">'+o(s(null!=a?a.rellistlabel:a,a))+'</div></td> <td class="pR"> <span class="dIB mW250 apiNameText"> <label title=\''+o(s(null!=a?a.rellistsysrefname:a,a))+'\' href="javascript:;" class="ellipsistext fL color_4 f14 crm-font-regular fontSmooth" style="max-width: 300px;">'+o(s(null!=a?a.rellistsysrefname:a,a))+"</label> "+(null!=(i=t.if.call(r,null!=a?a.isVisible:a,{name:"if",hash:{},fn:e.program(30,l,0),inverse:e.noop,data:l}))?i:"")+' </span> <div class="editApiName" style="display:none"> <form onsubmit="return TabsAndFieldsApiNames.savesysrefname(this, \'rellist\', getElemById(\'modlist\').value)"> <input id="sysrefname" type="text" maxlength="50" class="apiNameInput p5 w150" value="'+o(s(null!=a?a.rellistsysrefname:a,a))+'"> <a href="javascript:;" onclick="TabsAndFieldsApiNames.savesysrefname(this, \'rellist\', getElemById(\'modlist\').value)" class="saveLink f13 robotoRegular">'+o(t.getI18n.call(r,"zb.common.Save",{name:"getI18n",hash:{},data:l}))+'</a> <a href="javascript:;" onclick="TabsAndFieldsApiNames.cancelSave(this)" class="smalledit lightreyText mL5 robotoRegular">'+o(t.getI18n.call(r,"zb.common.Cancel",{name:"getI18n",hash:{},data:l}))+'</a> </form> <div class="infoAlertMB dIB"><span>'+o(t.getI18n.call(r,"crm.api.alert.message",{name:"getI18n",hash:{},data:l}))+'</span></div> <div class="errMsg errorMsgDesc dIB" style="display:none"><span></span></div> </div> </td> <td><div align="center"><img src="images/spacer_e17b417_.gif" '+(null!=(i=t.if.call(r,null!=a?a.isCustom:a,{name:"if",hash:{},fn:e.program(33,l,0),inverse:e.program(35,l,0),data:l}))?i:"")+' width="9" height="9"></div></td> </tr> '},30:function(e,a,t,n,l){var i;return" "+(null!=(i=t.unless.call(null!=a?a:{},null!=a?a.isReadOnly:a,{name:"unless",hash:{},fn:e.program(31,l,0),inverse:e.noop,data:l}))?i:"")+" "},31:function(e,a,t,n,l){return' <a onclick=TabsAndFieldsApiNames.editSysRefName(this) href="javascript:;" style="max-width:300px"><span class="fL mL5">Edit</span></a> '},33:function(e,a,t,n,l){return' class="yes" '},35:function(e,a,t,n,l){return' class="no" '},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var i,s=null!=a?a:{},o=e.escapeExpression;return" "+(null!=(i=t.unless.call(s,null!=a?a.searchLayoutCheck:a,{name:"unless",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?i:"")+' <div class="modSub clearB '+(null!=(i=t.if.call(s,null!=a?a.isDeveloperSpace:a,{name:"if",hash:{},fn:e.program(4,l,0),inverse:e.noop,data:l}))?i:"")+"\" id='"+o(e.lambda(null!=a?a.module:a,a))+'_fieldsList\' onLoad="crmSetup.changeView();"> '+(null!=(i=t.unless.call(s,null!=a?a.searchLayoutCheck:a,{name:"unless",hash:{},fn:e.program(6,l,0),inverse:e.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(s,null!=a?a.isFieldPermNeeded:a,{name:"if",hash:{},fn:e.program(10,l,0),inverse:e.program(12,l,0),data:l}))?i:"")+' <div class="relatedList" id= "sss"> <table width="100%" border="0" class="newListView bdrCollapse newListViewEdit hovNon sandboxDiffChanges" id="fieldPermissionsTable"> <tbody> <tr class="tableTitleHeaderRow trout resLay" style="cursor: pointer;" rel="rowgrp"> <th width="40%">'+o(t.getI18n.call(s,"crm.api.relatedlist.label",{name:"getI18n",hash:{},data:l}))+"</th> "+(null!=(i=t.if.call(s,null!=a?a.isFieldPermNeeded:a,{name:"if",hash:{},fn:e.program(17,l,0),inverse:e.program(19,l,0),data:l}))?i:"")+" </tr> "+(null!=(i=t.each.call(s,null!=a?a.RelatedList:a,{name:"each",hash:{},fn:e.program(29,l,0),inverse:e.noop,data:l}))?i:"")+' </tbody> </table> <div id="norecord" style="display:none"><span class="crm-font-regular nooneisselected" style="color:#d5d5d5;margin-top: 25px;font-size:1.7rem;text-align:center; display:block;">'+o(t.getI18n.call(s,"crm.adword.searchtextnotbringresult",{name:"getI18n",hash:{},data:l}))+"</span></div> </div> </div> </div> "},useData:!0})}();var mergeField={mergeOffset:{start:void 0,end:void 0},selection:void 0,range:void 0,elemToBind:void 0,mergeFieldJSON:void 0,onFocus:!1,filterCallBack:void 0,clearMergeFieldObj:function(){mergeField.elemToBind=void 0,mergeField.filterCallBack=void 0},showMergeValuesDIV:function(e){var a=$("#mergeValuesDIV"),t=a.find("#moduleOptions"),n=t[0].options[0],l=$(n).attr("value");if($("#mergeValuesDIV_copy").length<1){var i=document.createDocumentFragment();$(i).append(a.clone(!0,!0)),$(i.querySelector("#mergeValuesDIV")).attr("id","mergeValuesDIV_copy"),a.parent().append(i)}else{i=document.createDocumentFragment();$(i).append($("#mergeValuesDIV_copy").children().clone(!0,!0)),a.children().remove(),a.append(i)}t.val(l).css({width:"100%"}),$("#searchMergeValues").css({display:"none"}),a.find(".modulesFields").css("display","none");var s=$("[id='"+l+"_ModuleFields']");s.css("display",""),s.find("li").css("display",""),setTimeout((function(){$("#listMergeValues").css("display",""),a.css({display:"block"}),thirdPartyUtils.bindSelect2("#moduleOptions",{minimumResultsForSearch:1/0}),setTimeout((function(){var e=$("#moduleOptions");e.on("select2:opening",(function(){$("#moduleOptionsList").next(".oA").addClass("preventClick")})),e.on("select2:close",(function(){$("#moduleOptionsList").next(".oA").removeClass("preventClick")}))}),100),a.find(".oA").scrollTop(0),mergeField.mergeValueListSelection(),mergeField.setMergeFieldDivPos(e)}),10)},hideMergeValuesDIV:function(){var e=$("#mergeValuesDIV");if(e.length>0){e.css("display","none"),$("#mergeValuesDIV .select2-container").css("display","none");var a=e.parents(".add_transition");a.length>0&&a.perfectScrollbar({wheelSpeed:1,wheelPropagation:!0,suppressScrollX:!1})}var t=$("#moduleOptions");t&&t.hasClass("select2-hidden-accessible")&&t.select2("close"),e.find(".selec").removeClass("selec")},changeMergevalues:function(e){$("#mergeValuesDIV").find(".modulesFields").css("display","none");var a=$(e).val(),t=$("[id='"+a+"_ModuleFields']");t.css("display",""),t.find("li").css("display",""),mergeField.mergeValueListSelection(),setTimeout((function(){mergeField.focusElem()}),1),$("#moduleOptionsList").next().perfectScrollbar("update")},setMergeValue:function(e){mergeField.focusElem();var a=mergeField.getSelectedFieldInfo(e),t=mergeField.elemToBind;if(mergeField.isInputElem(t)){if(t.length>0){var n=mergeField.getValueToInsertOnSelection(a);void 0===mergeField.searchValue||mergeField.searchValue.length;mergeField.searchValue=void 0;var l=t[0];if(t.data("datatype")&&"text"!=t.data("datatype")&&"textarea"!=t.data("datatype"))l.value=n,mergeField.setCursorPosition(l,mergeField.mergeOffset.start+n.length);else{var i=l.value;l.value=i.substring(0,mergeField.mergeOffset.start)+n+i.substring(mergeField.mergeOffset.end),mergeField.setCursorPosition(l,mergeField.mergeOffset.start+n.length)}}}else{var s=mergeField.getSpanElemToInsertOnSelection(a),o=mergeField.selection,r=mergeField.range,d=r.commonAncestorContainer;3!==d.nodeType&&(d=r.startContainer.childNodes[r.endOffset-1]),r.setStart(d,mergeField.mergeOffset.start),r.deleteContents(),r.insertNode(s),r.selectNode(s),r.setStartAfter(s),r.setEndAfter(s),o.removeAllRanges(),o.addRange(r),mergeField.saveSelection(),setTimeout((function(){mergeField.focusElem()}),300)}this.hideMergeValuesDIV(),mergeField.mergeFieldInsertCallback(t,a.field.data_type)},setCursorPosition:function(e,a){if(e.createTextRange){var t=e.createTextRange();t.collapse(!0),t.moveEnd("character",a),t.moveStart("character",a),t.select()}else e.setSelectionRange&&(e.setSelectionRange(a,a),e.focus())},setEndOfContenteditable:function(e){var a,t;document.createRange?((a=document.createRange()).selectNodeContents(e),a.collapse(!1),(t=window.getSelection()).removeAllRanges(),t.addRange(a)):document.selection&&((a=document.body.createTextRange()).moveToElementText(e),a.collapse(!1),a.select()),$(e).focus()},getCaretCharacterOffsetWithin:function(e){var a=window.getSelection().getRangeAt(0),t=a.cloneRange();return t.selectNodeContents(e),t.setEnd(a.endContainer,a.endOffset),t.toString().length},doGetCaretPosition:function(e){var a=0;if(document.selection){e.focus();var t=document.selection.createRange();t.moveStart("character",-e.value.length),a=t.text.length}else(e.selectionStart||"0"===e.selectionStart)&&(a=e.selectionStart);return a},setMergeEntities:function(){var e=mergeField.elemToBind[0];if(mergeField.isInputElem(e)){var a=mergeField.doGetCaretPosition(e);mergeField.mergeOffset.start=a-1,mergeField.mergeOffset.end=a}else mergeField.mergeOffset.start=window.getSelection().getRangeAt(0).startOffset-1;mergeField.saveSelection()},saveSelection:function(){mergeField.selection=document.getSelection(),mergeField.range=mergeField.getRange(mergeField.selection)},focusElem:function(){if(mergeField.elemToBind.length>0&&!mergeField.onFocus){if(mergeField.elemToBind.focus(),void 0===mergeField.selection)return;var e=mergeField.selection;try{e.removeAllRanges()}catch(e){murphy.error(e)}e.addRange(mergeField.range)}},getRange:function(e){var a;try{a=e.getRangeAt?e.rangeCount>0&&e.getRangeAt(0)?e.getRangeAt(0):document.createRange():e.createRange()}catch(t){a=e.createRange()}return a},searchMergeValue:function(e,a){if(e){if($("#mergeValuesDIV").is(":visible")){mergeField.saveSelection(),mergeField.searchValue=a;for(var t=$("#mergeValuesDIV"),n=t.find(".modulesFields"),l="",i=n.length,s=0;s<i;s++)for(var o=n.eq(s),r=o.attr("modName"),d=o.find(".mergeOptions"),c=0,p=d.length,u=0;u<p;u++){var m=d.eq(u),h=m.text().trim().toLowerCase().indexOf(a.replace(" "," ").toLowerCase());if(-1!=h){var f=m.text().trim(),g=f.substring(0,h),v=h+a.length,y=f.substring(h,v),I=f.substring(v,f.length);m.empty(),m[0].innerHTML=$ESAPI.encoder().encodeForHTML(g)+"<span id='mergeHigh' class='setupHighL'>"+$ESAPI.encoder().encodeForHTML(y)+"</span>"+$ESAPI.encoder().encodeForHTML(I),0==c&&"Appointments"!==r&&(l+="<li class='mergeSections font13 col999 ttUpper mT15  pR20'>"+$ESAPI.encoder().encodeForHTML(r)+"</li>"),l+=m[0].outerHTML,c++}}t.find("#searchMergeValues").html(l).css("display",""),t.find("#listMergeValues").css("display","none"),$("#listMergeValues").css("display","none"),""==l?t.css("display","none"):(t.css("display","block"),mergeField.elemToBind&&mergeField.setMergeFieldDivPos(mergeField.elemToBind)),mergeField.mergeValueListSelection(),$("#searchMergeValues").scrollTop(0)}}else this.hideMergeValuesDIV()},keyPressBind:function(e){var a,t,n,l,i,s,o,r=e.keyCode?e.keyCode:e.charCode?e.charCode:e.which,d=$("#searchMergeValues"),c=$("#listMergeValues");if(d.is(":visible")?(a=(t=d).find(".selec"),l=(n=t).scrollTop(),i=a.outerHeight(),s=a.next(".mergeSections").outerHeight(),o=a.prev(".mergeSections").outerHeight()):c.is(":visible")&&(a=(t=c.find("ul:visible")).find(".selec"),l=(n=c.find(".oA")).scrollTop(),i=a.outerHeight(),s=a.next(".mergeSections").outerHeight(),o=a.prev(".mergeSections").outerHeight()),a.length<1){var p=t.find(".mergeOptions");a=p.eq(0),p.removeClass("selec"),a.addClass("selec"),n.scrollTop(0)}else 40===r?0===a.next(".mergeOptions").length&&a.next(".mergeSections").length>0?(t.find(".mergeOptions").removeClass("selec"),a.next().next().addClass("selec"),n.scrollTop(l+(i+s))):0===a.next(".mergeOptions").length?a.addClass("selec"):(t.find(".mergeOptions").removeClass("selec"),a.next(".mergeOptions").addClass("selec"),n.scrollTop(l+i)):38===r?0===a.prev(".mergeOptions").length&&0===a.prev(".mergeSections").prev().length&&a.prev(".mergeSections").length>0?a.addClass("selec"):0===a.prev(".mergeOptions").length&&a.prev(".mergeSections").length>0?(t.find(".mergeOptions").removeClass("selec"),a.prev(".mergeSections").prev().addClass("selec"),n.scrollTop(l-(i+o))):0===a.prev(".mergeOptions").length?(t.find(".mergeOptions").removeClass("selec"),a.addClass("selec")):(t.find(".mergeOptions").removeClass("selec"),a.prev(".mergeOptions").addClass("selec"),n.scrollTop(l-i)):13===r&&renderingUtils.triggerEvent("click",a)},mergeValueListSelection:function(){var e=$("#mergeValuesDIV").find("ul:visible li.mergeOptions");if(e.filter(".selec").length<1){var a=e.eq(0);e.removeClass("selec"),a.addClass("selec")}},setMergeFieldDivPos:function(e){var a=$("#mergeValuesDIV .setDDPopupAbG"),t=$L(e).caret("offset"),n=t.top,l=t.left,i=e.parent(),s=i.offset().left-i.outerWidth(),o=mergeField.elemToBind.outerHeight(),r=mergeField.elemToBind.offset().top,d=$("#mergeValuesDIV"),c=d.outerHeight(),p=renderingUtils.windowHeight-28-(r+o),u=d.parent().offset(),m=u.top,h=u.left;n=n-m+o;var f="undefined"!=typeof wfmergefield&&"Blueprint"==wfmergefield.featureName&&"Webhook"!==wfmergefield.actionName,g=$("#socialCommentDiv");(f||"predefTextMessage"===e.attr("id"))&&(n=t.top-m+27);var v=renderingUtils.windowWidth-l-60;mergeField.isInputElem(mergeField.elemToBind)&&Crm.userDetails.RTL_ENABLED&&(v=s),"undefined"==typeof wfmergefield||"Task"!==wfmergefield.actionName&&"Webhook"!==wfmergefield.actionName||!Crm.userDetails.RTL_ENABLED||(v=0),l=l-h-15;var y,I=$(".defaultView .pp-content"),b=I.scrollTop()+m-100;I.scrollTop(b),l>200&&f&&(l-=115,a.addClass("wfTaskDropPos")),p<=c-10?(y=Math.round(n-(c+30)),g.is(":visible")&&(y=Math.round(n-(c+30))-70)):(y=Math.round(n),g.is(":visible")&&(y=Math.round(n)-70)),mergeField.isTextArea(mergeField.elemToBind)&&(y=mergeField.getOffSetTopForTextArea(y,mergeField.elemToBind)),Crm.userDetails.RTL_ENABLED?d.css({right:Math.round(v),top:y,display:"block"}):d.css({left:Math.round(l),top:y,display:"block"}),p<=c-10?a.addClass("setDDPopupAbGBot"):a.removeClass("setDDPopupAbGBot")},getOffSetTopForTextArea:function(e){return"undefined"==typeof wfmergefield||"Task"!==wfmergefield.actionName&&"Webhook"!==wfmergefield.actionName&&"CreateRecord"!==wfmergefield.actionName||(e-=50),e},bindMergeFieldOptions:function(e,a,t,n,l){$("#mergeValuesDIV").remove(),$("#mergeValuesDIV_copy").remove(),mergeField.elemToBind=e,mergeField.elemId=e,Handlebars.registerPartial("ProcessMergeFields",Handlebars.templates.ProcessMergeFields);var i=mergeField.constructMergeFieldsJSON(n);mergeField.mergeFieldJSON=i.mergeFieldJSON;var s=Handlebars.templates.ProcessMergeFields({modulesJSON:i.modulesJSON,mergeFieldJSON:i.mergeFieldJSON,Module:t});(a=a||e.parent()).addClass("pR").append(s),mergeField.titleForMergeFLd($("#mergeValuesDIV li")),$("#mergeValuesDIV").css({top:"30px",display:"none"}).attr("data-close",!0),mergeField.bindMergeFieldOptionsImpl(e),$("#listMergeValues").addClass("pT0"),l&&mergeField.isInputElem(e)&&mergeField.showMergePopAtEndOfContent(e)},showMergePopAtEndOfContent:function(e){var a=e[0],t=a.value;t.endsWith("#")||(t+="#"),a.value=t,mergeField.setCursorPosition(a,t.length),mergeField.setMergeEntities(),mergeField.showMergeValuesDIV(e)},bindMergeFieldOptionsImpl:function(e){var a=$("#mergeValuesDIV");a.unbind("mouseenter").on("mouseenter",".mergeOptions",(function(){var e=$(this);e.is(":visible")&&($("#listMergeValues .mergeOptions,#searchMergeValues .mergeOptions").removeClass("selec"),e.addClass("selec"))})),a.unbind("mouseleave").on("mouseleave",".mergeOptions",(function(){$(this).removeClass("selec")})),a.unbind("click").on("click",(function(){$("#mergeValuesDIV:visible").length>0&&mergeField.focusElem()})),e.unbind("keyup").on("keyup",(function(e){var a=this,t=$(a),n=e.keyCode?e.keyCode:e.charCode?e.charCode:e.which;if(!($("#mergeValuesDIV:visible").length>0)||40!=n&&38!=n&&13!=n){var l="",i=0;mergeField.isInputElem(a)?(l=a.value,i=mergeField.doGetCaretPosition(a),mergeField.mergeOffset.end=i):(l=a.textContent,i=mergeField.getCaretCharacterOffsetWithin(a));var s=l.substring(0,i);if("#"==s.slice(-1)){mergeField.setMergeEntities();var o=$(e.target);mergeField.showMergeValuesDIV(o),e.preventDefault(),sE(e)}else{var r=s,d=r.substring(r.lastIndexOf("#")+1);d=d.trim();var c=!1;-1!==r.lastIndexOf("#")&&""!=d&&(c=!0),mergeField.searchMergeValue(c,d)}mergeField.keyUpCallback(t)}})),e.unbind("keydown").on("keydown",(function(e){var a=e.keyCode?e.keyCode:e.charCode?e.charCode:e.which;if($("#mergeValuesDIV:visible").length>0&&(40==a||38==a||13==a))return mergeField.keyPressBind(e),e.preventDefault(),sE(e),!1}))},doGetCaretPosition:function(e){var a=0;if(document.selection){e.focus();var t=document.selection.createRange();t.moveStart("character",-e.value.length),a=t.text.length}else(e.selectionStart||"0"===e.selectionStart)&&(a=e.selectionStart);return a},isInputElem:function(e){if(e){var a=$(e)[0].tagName;return"INPUT"==a||"TEXTAREA"==a}},isTextArea:function(e){if(e)return"TEXTAREA"==$(e)[0].tagName},constructMergeFieldsJSON:function(e){for(var a={},t=[],n={},l=e.mergefields,i=l.length,s=0;s<i;s++){var o=l[s],r=o.module,d=mergeField.getModuleIdentifier(r),c={};c.id=d,c.label=r.display_name,"custom_lookup"!=r.type&&"system_field_lookup"!=r.type||(c.label=r.lookup_details.display_label),t.push(c),n[d]={},n[d].module=r,n[d].sections=o.sections}return a.modulesJSON=t,a.mergeFieldJSON=n,a},getSelectedFieldInfo:function(e){for(var a,t=$(e),n={},l=mergeField.mergeFieldJSON,i=t.attr("moduleid"),s=l[i].module,o=l[i].sections,r=t.attr("val"),d=o.length,c=!1,p=0;p<d;p++){for(var u=o[p].fields,m=u.length,h=0;h<m;h++){var f=u[h];if(f.id==r){a=f,c=!0;break}}if(c)break}return n.module=s,n.field=a,n},getModuleIdentifier:function(e){var a=e.name;return e.lookup_details&&e.lookup_details.id&&(a+=":"+e.lookup_details.id),a},getValueToInsertOnSelection:function(e){var a=e.module,t=e.field;return CrmConvertMergeFields.getConvertedMergeField(a,t,void 0,mergeFieldsConstants.fromapi_to_label,!1)},getSpanElemToInsertOnSelection:function(e){var a=e.module,t=e.field,n=CrmConvertMergeFields.getConvertedMergeField(a,t,void 0,mergeFieldsConstants.fromapi_to_label,!0);return $(n)[0]},isInputElem:function(e){if(e){var a=$(e)[0].tagName;return"INPUT"==a||"TEXTAREA"==a}},titleForMergeFLd:function(e){$(e).off("mouseenter").on("mouseenter",(function(){var e=$(this);e.removeAttr("title"),this.offsetWidth<Math.floor(this.scrollWidth)&&this.offsetWidth!==Math.floor(this.scrollWidth)&&e.attr("title",$.trim(e.text()))}))},mergeFieldInsertCallback:function(e,a){"undefined"!=typeof wfmergefield&&"Webhook"==wfmergefield.actionName&&wfwebhook.showHideDateTimeInfo(e.attr("id"),"add",a)},keyUpCallback:function(e){"undefined"!=typeof wfmergefield&&"Deluge"==wfmergefield.actionName&&wfdeluge.handleCustomParamSelection(e)}};