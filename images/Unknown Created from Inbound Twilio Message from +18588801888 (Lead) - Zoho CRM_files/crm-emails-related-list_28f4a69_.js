Lyte.Component.register("crm-emails-related-list",{_template:'<template tag-name="crm-emails-related-list"> <span id="isFromNewAPI" value="{{isFromNewAPI}}"></span> <span id="prev_index" value="{{prev_index}}"></span> <span id="next_index" value="{{next_index}}"></span> <div id="ern" class="ernView"> <div id="ernAllMails" class="ernTable ernTab mB30 "> <div id="mailOuterDiv" class="eRLSessionArea"> <div class="mailDetailToolTip"> <div class="hvrIn proxima f12">test</div> <span id="mailsToDelete"></span> <span id="mailsSub" class="vH"></span> <template is="if" value="{{expHandlers(module,\'==\',&quot;Quotes&quot;)}}"><template case="true"> <input type="hidden" id="associatedContEmail" value="{{associatedContEmail}}"> </template></template> </div> <lyte-modal data-zcqa="draftECWModal" id="draftEditOld" lt-prop-show="false" lt-prop-height="auto" lt-prop-offset="{&quot;top&quot;:&quot;0px&quot;}" lt-prop-max-width="750px" lt-prop-width="750px" lt-prop-wrapper-class="ecwFeedBackPopup"> <template is="registerYield" yield-name="modal"> <lyte-modal-header class="f22 col222 pB10"> {{getI18n(\'crm.email.compose.switch.label.switchtoNew\')}} </lyte-modal-header> <lyte-modal-content class="ecwFeedBackContent pT0 pB0"> <div class="mB20 f14 lH20"> {{getI18n(\'crm.email.editor.switch.disclaimer.draft\')}} </div> <div class="ecwInfoBlueDiv f14 lH20"> <span class="col222 crm-font-semibold"> {{getI18n(\'crm.label.note\')}}:</span> {{getI18n(\'crm.email.editor.switch.disclaimer.draft.note\')}} </div> </lyte-modal-content> <lyte-modal-footer class="right p30"> <lyte-button data-zcqa="cancelBtnECW" onclick="{{action(\'EmailCompose\',\'close\')}}"> <template is="registerYield" yield-name="text">{{getI18n("crm.button.cancel")}}</template> </lyte-button> <lyte-button data-zcqa="proceedBtnECW" lt-prop-appearance="primary" onclick="{{action(\'EmailCompose\',\'open\')}}"> <template is="registerYield" yield-name="text"> {{getI18n(\'crm.email.editor.btn.proceed\')}}</template> </lyte-button> </lyte-modal-footer> </template> </lyte-modal> <template is="if" value="{{expHandlers(mailsList.length,\'!=\',0)}}"><template case="true"><template is="if" value="{{isStringType(mailsList[0])}}"><template case="true"> <lyte-table lt-prop-yield="true" style="width: 100%;" align="center"> <template is="registerYield" yield-name="yield"> <lyte-table-structure> <lyte-tbody class="ernLyteBody"> <lyte-tr> <template is="if" value="{{ifContains(mailsList[0],&quot;zohomailunavailable&quot;)}}"><template case="true"> <lyte-td><div class="txt-ctr">{{getI18n(\'crm.zmail.unavailable.note\',partnerName)}}</div></lyte-td> </template><template case="false"><template is="if" value="{{ifContains(mailsList[0],&quot;searchfunctionnotavailable&quot;)}}"><template case="true"> <lyte-td><div class="txt-ctr">{{getI18n(\'crm.zmail.search.funtion.notavailable\')}}</div></lyte-td> </template><template case="false"><template is="if" value="{{ifContains(mailsList[0],&quot;currentUserMailboxUnavailable&quot;)}}"><template case="true"> <lyte-td><div id="unabletosendmail">{{getI18n(\'crm.zmail.selected.mailbox.unavailable\',zmailId)}}</div></lyte-td> </template><template case="false"><template is="if" value="{{ifContains(mailsList[0],&quot;mailboxUnavailable&quot;)}}"><template case="true"> <lyte-td><div class="txt-ctr">{{getI18n(\'crm.zmail.otheruser.mailboxunavil.note\',user_name,user_name,partnerName)}}</div></lyte-td> </template><template case="false"><template is="if" value="{{ifContains(mailsList[0],&quot;ticketUnavailable&quot;)}}"><template case="true"> <lyte-td><div class="txt-ctr">{{getI18n(\'crm.zmail.otheruser.pwdchange.note\',user_name,user_name,partnerName)}}</div></lyte-td> </template><template case="false"><template is="if" value="{{ifContains(mailsList[0],&quot;currentUserTicketUnavailable&quot;)}}"><template case="true"> <lyte-td><div class="txt-ctr" id="currentUserTicketUnavailable">{{getI18n(\'crm.zmail.update.iscticket\',partnerName)}}</div></lyte-td> </template><template case="false"><template is="if" value="{{ifContains(mailsList[0],&quot;initiateBackup&quot;)}}"><template case="true"> <lyte-td><div class="txt-ctr" id="initiateBackup"> <template is="if" value="{{isAdminProfileUser}}"><template case="true"> {{getI18n(\'crm.zmail.backup.status.deactivated.admin\')}} <link-to lt-prop-route="crm.settings.section.zmail-users"> <b>{{getI18n(\'crm.zmail.here\')}}</b> </link-to> </template><template case="false"> {{getI18n(\'crm.zmail.backup.status.deactivated\')}} </template></template> </div></lyte-td> </template><template case="false"><template is="if" value="{{ifContains(mailsList[0],&quot;accountnotactive&quot;)}}"><template case="true"> <lyte-td><div id="accountnotactive" class="pL25 txt-ctr">{{getI18n(\'crm.zmail.accountnotactive\',partnerName)}}</div></lyte-td> </template><template case="false"><template is="if" value="{{ifContains(mailsList[0],&quot;imap_sync_in_progress&quot;)}}"><template case="true"> <lyte-td><div id="imap_sync_status" class="txt-ctr">{{getI18n(\'crm.label.sync.in.progress\')}}</div></lyte-td> </template><template case="false"><template is="if" value="{{ifContains(mailsList[0],&quot;imap_sync_yet_to_start&quot;)}}"><template case="true"> <lyte-td><div id="imap_sync_status" class="txt-ctr">{{getI18n(\'crm.label.sync.not.started\')}}</div></lyte-td> </template><template case="false"><template is="if" value="{{ifContains(mailsList[0],&quot;errorwhileprocessing&quot;)}}"><template case="true"> <lyte-td><div class="txt-ctr">{{unescape(getI18n(\'crm.zmail.error.whileprocessing\',supportMailId))}}</div></lyte-td> </template><template case="false"><template is="if" value="{{ifContains(mailsList[0],&quot;permission_disabled&quot;)}}"><template case="true"> <lyte-td width="15"><div class="bodyText txt-ctr">{{permissionDisabled}}</div></lyte-td> </template><template case="false"><template is="if" value="{{ifContains(mailsList[0],&quot;gmailOAuth2Error&quot;)}}"><template case="true"> <lyte-td><div class="txt-ctr">{{getI18n(\'crm.gmail.authFail\')}}</div></lyte-td> </template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template> </lyte-tr> </lyte-tbody> </lyte-table-structure> </template> </lyte-table> </template><template case="false"> <lyte-table lt-prop-yield="true" class="erlNew" id="ernTable"> <template is="registerYield" yield-name="yield"> <lyte-table-structure> <lyte-thead class="f14 ernTableHead"> <lyte-tr> <lyte-th class="ecnChkBoxtd w50"> <template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(mailType,\'==\',&quot;ALLUSERSMAILS&quot;),\'||\',expHandlers(isCheckboxNeeded(user_id),\'&amp;&amp;\',expHandlers(mailType,\'!=\',\'GMail\'))),\'||\',expHandlers(mailType,\'==\',&quot;drafts&quot;)),\'||\',expHandlers(mailType,\'==\',&quot;all_contacts_draft_crm_emails&quot;)),\'||\',expHandlers(mailType,\'==\',&quot;allContacts&quot;))}}"><template case="true"> <lyte-checkbox class="crm-rl-write-action dIB" lt-prop-name="ernHead" lt-prop-value="val" lt-prop-id="checkbox" on-changed="{{method(\'eRLCheckboxActionAll\')}}" data-zcqa="selectAll_{{mail.subject}}"></lyte-checkbox> </template></template> </lyte-th> <template is="if" value="{{expHandlers(expHandlers(mailType,\'==\',&quot;drafts&quot;),\'||\',expHandlers(mailType,\'==\',&quot;all_contacts_draft_crm_emails&quot;))}}"><template case="true"> <lyte-th class="pL0"> {{getI18n(\'crm.label.subject\')}} </lyte-th> </template><template case="false"> <lyte-th class="pL0 ernViewSummaryTH w300">{{getI18n(\'crm.label.subject\')}}</lyte-th> </template></template> <template is="if" value="{{expHandlers(expHandlers(isEmailSummaryEnabled,\'&amp;&amp;\',expHandlers(mailType,\'!=\',&quot;drafts&quot;)),\'&amp;&amp;\',expHandlers(mailType,\'!=\',&quot;all_contacts_draft_crm_emails&quot;))}}"><template case="true"> <lyte-th></lyte-th> </template></template> <template is="if" value="{{expHandlers(isZiaEnabled,\'&amp;&amp;\',isSentimentEnabled)}}"><template case="true"> <lyte-th class=" txt-ctr">{{getI18n(\'sentiment\')}}</lyte-th> </template></template> <template is="if" value="{{expHandlers(isZiaEnabled,\'&amp;&amp;\',isEmotionsEnabled)}}"><template case="true"> <lyte-th>{{getI18n(\'crm.label.zia.emotion\')}}</lyte-th> </template></template> <template is="if" value="{{expHandlers(isZiaEnabled,\'&amp;&amp;\',isIntentEnabled)}}"><template case="true"> <lyte-th>{{getI18n(\'crm.imap.intent\')}}</lyte-th> </template></template> <template is="if" value="{{expHandlers(expHandlers(mailType,\'==\',&quot;drafts&quot;),\'||\',expHandlers(mailType,\'==\',&quot;all_contacts_draft_crm_emails&quot;))}}"><template case="true"> <lyte-th class="pL10">{{getI18n(\'crm.email.compose.draft.content\')}}</lyte-th> </template></template> <lyte-th>{{getI18n(\'Date\')}}</lyte-th> <template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(mail_type,\'!=\',2),\'&amp;&amp;\',expHandlers(mail_type,\'!=\',3)),\'&amp;&amp;\',expHandlers(mail_type,\'!=\',9)),\'&amp;&amp;\',expHandlers(mail_type,\'!=\',10))}}"><template case="true"> <lyte-th>{{getI18n(\'crm.relatedList.emails.header.Source\')}}</lyte-th> </template></template> <template is="if" value="{{expHandlers(expHandlers(mailType,\'==\',&quot;drafts&quot;),\'||\',expHandlers(mailType,\'==\',&quot;all_contacts_draft_crm_emails&quot;))}}"><template case="true"> <lyte-th class="w12per">{{getI18n(\'crm.label.from.address\')}}</lyte-th> </template><template case="false"> <lyte-th class="w10per">{{getI18n(\'Sent By\')}}</lyte-th> </template></template> <template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(mail_type,\'!=\',7),\'&amp;&amp;\',expHandlers(mail_type,\'!=\',8)),\'&amp;&amp;\',expHandlers(mail_type,\'!=\',9)),\'&amp;&amp;\',expHandlers(mail_type,\'!=\',10))}}"><template case="true"> <lyte-th class=" ernViewSummaryTH">{{getI18n(\'Status\')}}</lyte-th> </template></template> </lyte-tr> </lyte-thead> <lyte-tbody class="ernLyteBody"> <template is="for" items="{{mailsList}}" item="mail" index="index"> <lyte-tr class=" topband_dv_row {{getreadUnreadClass(mail.read)}}"> <lyte-td class="ecnChkBoxtd"> <template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(mailType,\'==\',&quot;ALLUSERSMAILS&quot;),\'||\',expHandlers(isCheckboxNeeded(user_id),\'&amp;&amp;\',expHandlers(mailType,\'!=\',\'GMail\'))),\'||\',expHandlers(mailType,\'==\',&quot;drafts&quot;)),\'||\',expHandlers(mailType,\'==\',&quot;all_contacts_draft_crm_emails&quot;)),\'||\',expHandlers(mailType,\'==\',&quot;allContacts&quot;))}}"><template case="true"> <lyte-checkbox class="crm-rl-write-action dIB" lt-prop-name="ernRows" lt-prop-value="val" lt-prop-id="checkbox" on-changed="{{method(\'eRLCheckboxAction\')}}" data-zcqa="select_{{mail.subject}}"></lyte-checkbox> </template></template> </lyte-td> <lyte-td class=" rLEmailSub cP" purpose="{{mail.viewmail}}" onclick="{{action(\'viewEntEmail\',mail.message_id,mailType,getI18n(\'crm.button.close\'),capitalizeStatus(mail.status,mail.sent),\'\',undefined,getRead(mail.read),encodeJS(mail.owner[\'id\']),this,getModuleEntIdSub(mail.linked_record,moduleEntityId),\'\')}}" index="{{index}}" viewid="mdv_{{index}}" data-searchid="{{mail.searchid}}" data-isunread="{{getRead(mail.read)}}" data-contactid="{{mail.linked_record[\'id\']}}"> <div class="{{checkIfDealsPresent(mail.linked_record[\'id\'],mail.linked_record[\'name\'])}}" data-userid="{{mail.owner[\'id\']}}" data-contactid="{{mail.linked_record[\'id\']}}" data-emailtype="{{mail.viewmail}}" data-mailsource="{{mail.massMailSource}}" data-msgid="{{mail.message_id}}" data-dealid="{{mail.linked_record[\'id\']}}" data-dealname="{{mail.linked_record[\'name\']}}" id="rLEmailSub_{{mail.message_id}}"> <div class="ecnBodyTxt dF alignItemCenter f15 mB5 col222 {{checkIfDealsPresent(mail.linked_record[\'id\'],mail.linked_record[\'name\'])}}" purpose="{{mail.viewmail}}" data-isunread="{{getRead(mail.read)}}"> <template is="if" value="{{expHandlers(mail.massMailSource,\'!=\',100)}}"><template case="true"> <div class="dF elipse_toE vam flex2 {{checkIfDealsPresent(mail.linked_record[\'id\'],mail.linked_record[\'name\'])}}"> <div class="pR vam mR10 dIF mailStatusERL"> <template is="if" value="{{expHandlers(mail.sent,\'==\',true)}}"><template case="true"><template is="if" value="{{checkIfMailFailedOrScheduled(mail.status[0].type,&quot;failed&quot;)}}"><template case="true"> <span class="erl-mail-failed" data-zcqa="mailicon_{{mail.subject}}" onmouseover="{{action(\'toolTipShow\',element,mail.status[0].failed_reason)}}" onmouseout="{{action(\'hideTooltip\')}}"></span> </template><template case="false"><template is="if" value="{{checkIfMailFailedOrScheduled(mail.status[0].type,&quot;scheduled&quot;)}}"><template case="true"> <span class="erl-mail-scheduled" data-zcqa="mailicon_{{mail.subject}}" title="{{getMailStatusForHover(mail.status)}}"></span> </template><template case="false"> <span class="erl-mail-outgoing" data-zcqa="mailicon_{{mail.subject}}" title="{{getMailStatusForHover(mail.status)}}"></span> </template></template></template></template></template><template case="false"><template is="if" value="{{expHandlers(expHandlers(mailType,\'==\',&quot;drafts&quot;),\'||\',expHandlers(mailType,\'==\',&quot;all_contacts_draft_crm_emails&quot;))}}"><template case="true"> <span class="erl-mail-draft" data-zcqa="mailicon_{{mail.subject}}" title="{{getMailStatusForHover(mail.status)}}"></span> </template><template case="false"> <span class="erl-mail-incoming" data-zcqa="mailicon_{{mail.subject}}" title="{{getMailStatusForHover(mail.status)}}"></span> </template></template></template></template> </div> <template is="if" value="{{mail.read}}"><template case="true"><template is="if" value="{{expHandlers(expHandlers(expHandlers(mailType,\'==\',&quot;drafts&quot;),\'||\',expHandlers(mailType,\'==\',&quot;all_contacts_draft_crm_emails&quot;)),\'&amp;&amp;\',expHandlers(mail.subject,\'==\',null))}}"><template case="true"> <span id="{{mail.message_id}}" data-zcqa="{{mail.subject}}" class="link fL col222 emailSubjectEllipisis" index="{{index}}">{{getI18n(\'crm.template.email.nosubject\')}}&nbsp;</span> </template><template case="false"> <span id="{{mail.message_id}}" purpose="{{mail.viewmail}}" data-zcqa="{{mail.subject}}" title="{{mail.subject}}" class="link fL col222 emailSubjectEllipisis" index="{{index}}">{{mail.subject}}&nbsp;</span> </template></template></template><template case="false"> <span id="{{mail.message_id}}" purpose="{{mail.viewmail}}" title="{{mail.subject}}" data-zcqa="{{mail.subject}}" class="link fL col222 emailSubjectEllipisis crm-font-bold" index="{{index}}">{{mail.subject}}&nbsp;</span> </template></template><template is="if" value="{{getUserStatus(&quot;IMAP_STATUS&quot;)}}"><template case="true"><template is="if" value="{{expHandlers(expHandlers(ifAnyMatch(module,&quot;=&quot;,&quot;Contacts&quot;,module,&quot;=&quot;,&quot;Potentials&quot;,module,&quot;=&quot;,&quot;Accounts&quot;),\'&amp;&amp;\',expHandlers(mailType,\'!=\',&quot;drafts&quot;)),\'&amp;&amp;\',expHandlers(mailType,\'!=\',&quot;all_contacts_draft_crm_emails&quot;))}}"><template case="true"><template is="if" value="{{expHandlers(mail.source,\'!=\',null)}}"><template case="true"> <input type="hidden" onclick="{{action(\'showLookUp\',mail.message_id)}}" id="assoPotential_{{mail.message_id}}" data-id="{{mail.linked_record[&quot;id&quot;]}}" value="{{mail.linked_record[\'name\']}}"> <template is="if" value="{{expHandlers(ifAnyMatch(module,&quot;=&quot;,&quot;Contacts&quot;,module,&quot;=&quot;,&quot;Potentials&quot;),\'||\',expHandlers(expHandlers(expHandlers(module,\'==\',&quot;Accounts&quot;),\'&amp;&amp;\',expHandlers(mailType,\'!=\',&quot;all_contacts_draft_crm_emails&quot;)),\'&amp;&amp;\',expHandlers(mailType,\'!=\',&quot;allContacts&quot;)))}}"><template case="true"><template is="if" value="{{expHandlers(&quot;Potentials&quot;,\'==\',module)}}"><template case="true"> <i class="svgIcons svgAttachIcon dIB mL10 cP fL mT7" data-zcqa="rLEmailLinkDeal" onclick="{{action(\'changeDeal\',expHandlers(\'assoPotential_\',\'+\',mail.message_id))}}" onmouseenter="{{action(\'showTooltip\',getModule(\'crm.relatedList.deals.link\',\'Potentials\'))}}" onmouseleave="{{action(\'hideTooltip\')}}"></i> </template></template><template is="if" value="{{expHandlers(isDealsMail,\'==\',true)}}"><template case="true"> <div class="fL p5 cP mL10 pR rLEmailChangeDeal" data-zcqa="rLEmailChangeDeal" onclick="{{action(\'showDealPopup\',this,expHandlers(\'assoPotential_\',\'+\',mail.message_id),true)}}"> <i class="ldMoreicon svgIcons fL cP mT7"></i> </div> </template><template case="false"> <div class="fL p5 cP mL10 pR rLEmailChangeDeal" data-zcqa="rLEmailChangeDeal" onclick="{{action(\'showDealPopup\',this,expHandlers(\'assoPotential_\',\'+\',mail.message_id))}}" onmouseenter="{{action(\'showHideDealToolTip\',this,\'show\')}}" onmouseleave="{{action(\'showHideDealToolTip\',this,\'hide\')}}"> <i class="svgPotentialIcon svgIcons fL cP"></i> </div> </template></template><template is="if" value="{{expHandlers(expHandlers(&quot;Potentials&quot;,\'==\',module),\'&amp;&amp;\',expHandlers(mail.source,\'==\',getI18n(&quot;emailSource.sendmail.option.bcc&quot;)))}}"><template case="true"> <span class="MoveToMailIcon mL10" onmouseenter="{{action(\'mailToolTipHvr\',this,1)}}" onmouseleave="{{action(\'mailToolTipHvr\',this,0)}}" onclick="{{action(\'potentialPopUp\',mail.message_id,this)}}"></span> </template></template></template></template></template></template></template></template></template></template> <template is="if" value="{{expHandlers(mail.thread_id,\'!=\',null)}}"><template case="true"> <span style="display:inline-block;margin-top: 6px;" class="erlThreadViewIcon svgIcons mR10 mL10" title="{{getI18n(\'crm.zmail.view.relatedmails\')}}" onclick="{{action(\'getRelatedMails\',mail.message_id,encodeJS(mail.owner[\'id\']))}}" data-zcqa="relMails_{{mail.subject}}"></span> </template><template case="false"> <span style="display:none;visibility: hidden;margin-top: 6px;" class="erlThreadViewIcon svgIcons dIB mR10 mL10" title="{{getI18n(\'crm.zmail.view.relatedmails\')}}" onclick="{{action(\'getRelatedMails\',mail.message_id,encodeJS(mail.owner[\'id\']))}}"></span> </template></template> </div> </template></template> </div> <div class="elipse_toE f14 ernUserName" title="{{toMailsList(mail)}}" data-zcqa="receiver_{{mail.subject}}"> {{removeQoutes(toMailsListText(mail))}} </div> </div> </lyte-td> <template is="if" value="{{expHandlers(expHandlers(mailType,\'==\',&quot;drafts&quot;),\'||\',expHandlers(mailType,\'==\',&quot;all_contacts_draft_crm_emails&quot;))}}"><template case="true"> <lyte-td class="draftContDiv eRl_tableWordBreak" data-zcqa="summary_{{mail.subject}}">{{mail.summary}}</lyte-td> </template><template case="false"><template is="if" value="{{isEmailSummaryEnabled}}"><template case="true"> <lyte-td> <span class="ernBlueTxt cP f15 dF vH flex1 fR ernSummery summary_{{mail.message_id}}" id="ernSummery2" onclick="{{action(\'viewSummary\',mail.message_id,mailType,getI18n(\'crm.button.close\'),capitalizeStatus(mail.status,mail.sent),\'\',undefined,getRead(mail.read),encodeJS(mail.owner[\'id\']),this,getModuleEntIdSub(mail.linked_record,moduleEntityId),\'\')}}" data-zcqa="view_summary_{{mail.subject}}">{{getI18n(\'crm.view.email.summary\')}}</span> </lyte-td> </template></template></template></template> <template is="if" value="{{expHandlers(isZiaEnabled,\'&amp;&amp;\',isSentimentEnabled)}}"><template case="true"> <lyte-td class="txt-ctr "> <template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(mail.sentiment_info,\'!=\',undefined),\'&amp;&amp;\',expHandlers(mail.sentiment_info,\'!=\',&quot;&quot;)),\'&amp;&amp;\',expHandlers(mail.sentiment_info,\'!=\',&quot;Neutral&quot;)),\'&amp;&amp;\',expHandlers(mail.sentiment_info,\'!=\',&quot;Consecutive Negative&quot;))}}"><template case="true"> <span class="sentiment{{mail.sentiment_info}}" data-value="{{mail.sentiment_info}}" lt-prop-title="{{getSentimentHoverValue(mail.sentiment_info)}}" name="sentimenticon_{{mail.message_id}}" data-zcqa="{{mail.sentiment_info}}_{{mail.message_id}}"></span> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(expHandlers(mail.sentiment_info,\'!=\',undefined),\'&amp;&amp;\',expHandlers(mail.sentiment_info,\'!=\',&quot;&quot;)),\'&amp;&amp;\',expHandlers(mail.sentiment_info,\'!=\',&quot;Neutral&quot;))}}"><template case="true"> <span class="sentimentCNS" data-value="CNS" lt-prop-title="{{getSentimentHoverValue(\'CNS\')}}" name="sentimenticon_{{mail.message_id}}" data-zcqa="CNS_{{mail.message_id}}"></span> </template><template case="false"> <span class="dI">-</span> </template></template></template></template> </lyte-td></template></template>  <template is="if" value="{{expHandlers(isZiaEnabled,\'&amp;&amp;\',isEmotionsEnabled)}}"><template case="true"> <lyte-td class="f15 ellipsistext"> <template is="if" value="{{expHandlers(expHandlers(mail.emotion,\'!=\',undefined),\'&amp;&amp;\',expHandlers(mail.emotion,\'!=\',&quot;&quot;))}}"><template case="true"> <span class="f15" data-zcqa="{{mail.emotion}}_{{mail.subject}}" lt-prop-title="{{getTranslatedEmotionValue(mail.emotion)}}">{{getTranslatedEmotionValue(mail.emotion)}}</span> </template><template case="false"> <span class="dI">-</span> </template></template> </lyte-td> </template></template> <template is="if" value="{{expHandlers(isZiaEnabled,\'&amp;&amp;\',isIntentEnabled)}}"><template case="true"> <lyte-td class="f15 ellipsistext"> <template is="if" value="{{expHandlers(expHandlers(mail.intent,\'!=\',undefined),\'&amp;&amp;\',expHandlers(mail.intent,\'!=\',&quot;&quot;))}}"><template case="true"> <span class="f15">{{mail.intent}}</span> </template><template case="false"> <span class="dI">-</span> </template></template> </lyte-td> </template></template> <lyte-td class="f15"> <span class="lv_datefield" data-zcqa="date_{{mail.subject}}" title="{{getDateNTime(mail.time)}}">{{getSentDate(mail.time)}}</span> </lyte-td> <template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(mail_type,\'!=\',2),\'&amp;&amp;\',expHandlers(mail_type,\'!=\',3)),\'&amp;&amp;\',expHandlers(mail_type,\'!=\',9)),\'&amp;&amp;\',expHandlers(mail_type,\'!=\',10))}}"><template case="true"> <lyte-td class="f15" data-zcqa="source_{{mail.subject}}">{{mail.source}}</lyte-td> </template></template> <lyte-td style="text-overflow: ellipsis;overflow: hidden;" title="{{getSentBy(mail.from)}}">{{getSentBy(mail.from)}}</lyte-td> <template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(mail_type,\'!=\',7),\'&amp;&amp;\',expHandlers(mail_type,\'!=\',8)),\'&amp;&amp;\',expHandlers(mail_type,\'!=\',9)),\'&amp;&amp;\',expHandlers(mail_type,\'!=\',10))}}"><template case="true"><template is="if" value="{{expHandlers(mail.status[0].type,\'==\',\'bounced\')}}"><template case="true"> <lyte-td class="cP col222 f15" onmouseover="{{action(\'showRLEmailStatusTooltipOver\',this,getDateNTime(mail.status[0].bounced_time),mail.status[0].bounced_reason)}}" onmouseout="{{action(\'showRLEmailStatusTooltipOut\',this)}}" data-zcqa="status_{{mail.subject}}"> <div class="emailTrackingDiv cP"> <div class="emailtracking_Arrow pA" style="top:50%"></div> <div class="fL"> <div class="f13 proxima fL cB">{{mail.status[0].type}}</div> <template is="if" value="{{expHandlers(mail.status[0].bounced_reason,\'!=\',undefined)}}"><template case="true"> <div class="fL cB" style="max-width:300px;"><span class="f13 proxima">{{getI18n(\'crm.InvalidTicket.Reasons\')}}: </span><span class="f13 proxima" style="word-wrap:break-word;white-space:normal">{{mail.status[0].bounced_reason}}</span></div> </template></template> </div> </div>{{getI18n(\'crm.emailstats.bounces\')}} </lyte-td> </template><template case="false"><template is="if" value="{{expHandlers(mail.status[0].type,\'==\',\'unsubscribed\')}}"><template case="true"> <lyte-td class="cP f15" onmouseover="{{action(\'showRLEmailStatusTooltipOver\',this,\'subscription\',getDateNTime(mail.status[0].unsubTime))}}" onmouseout="{{action(\'showRLEmailStatusTooltipOut\',this)}}"> <span class="dIB pR" id="mailTrackingDiv"> {{getI18n(\'crm.unsubscription.unsubscribed\')}} </span> </lyte-td> </template><template case="false"><template is="if" value="{{expHandlers(mail.status[0].first_open,\'!=\',undefined)}}"><template case="true"> <lyte-td class="cP f15" onmouseover="{{action(\'showRLEmailStatusTooltip\',this,1,\'openedClicked\',checkUndefinedAndGetDate(getClickVal(mail.status,1)),mail.status[0].count,getDateNTime(mail.status[0].first_open),getDateNTime(mail.status[0].last_open),getClickVal(mail.status,2),checkUndefinedAndGetDate(getClickVal(mail.status,3)))}}" onmouseout="{{action(\'showRLEmailStatusTooltipOut\',this)}}" data-zcqa="status_{{mail.subject}}"> <template is="if" value="{{expHandlers(expHandlers(mail.status.length,\'>\',1),\'&amp;&amp;\',expHandlers(mail.status[1].first_click,\'!=\',undefined))}}"><template case="true">{{getI18n(\'crm.emailstats.clicks\')}}</template><template case="false">{{getI18n(\'crm.emailstats.opens\')}}</template></template> </lyte-td> </template><template case="false"> <lyte-td class="tableData f15" data-zcqa="status_{{mail.subject}}"> <template is="if" value="{{expHandlers(mail.status[0].type,\'==\',\'received\')}}"><template case="true"> {{getI18n(\'Received\')}} </template><template case="false"><template is="if" value="{{expHandlers(mail.status[0].type,\'==\',\'delivered\')}}"><template case="true"> {{getI18n(\'Delivered\')}} </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(mail.status[0].type,\'==\',\'dcheduled\'),\'||\',expHandlers(mail.status[0].type,\'==\',\'zscheduled\'))}}"><template case="true"> {{getI18n(\'Scheduled\')}} </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(mail.status[0].type,\'==\',\'failed\'),\'||\',expHandlers(mail.status[0].type,\'==\',\'zfailed\'))}}"><template case="true"> {{getI18n(\'Failed\')}} </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(mail.status[0].type,\'==\',\'retrying\'),\'||\',expHandlers(mail.status[0].type,\'==\',\'zpending\'))}}"><template case="true"> {{getI18n(\'Retrying\')}} </template><template case="false"><template is="if" value="{{expHandlers(mail.status[0].type,\'==\',\'opened\')}}"><template case="true"> {{getI18n(\'crm.emailstats.opens\')}} </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(mail.status.length,\'>\',1),\'&amp;&amp;\',expHandlers(mail.status[1].type,\'==\',\'clicked\'))}}"><template case="true"> {{getI18n(\'crm.emailstats.clicks\')}} </template><template case="false"><template is="if" value="{{expHandlers(mail.status[0].type,\'==\',\'bounced\')}}"><template case="true"> {{getI18n(\'crm.emailstats.bounces\')}} </template><template case="false"><template is="if" value="{{expHandlers(mail.status[0].type,\'==\',\'sent\')}}"><template case="true"> {{getI18n(\'Sent\')}} </template><template case="false"> {{getI18n(mail.status[0].type)}} </template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template></template> </lyte-td> </template></template></template></template> </template></template></template></template> </lyte-tr> <template is="if" value="{{expHandlers(mail.thread_id,\'!=\',null)}}"><template case="true"> <lyte-tr id="test_{{mail.message_id}}" style="display: none;"> <div class="ernThreadVSection"> <div id="RelMails_{{mail.message_id}}" style="display:none;"> <template is="if" value="{{expHandlers(mail.relatedMailList,\'!=\',undefined)}}"><template case="true"> <table lt-prop-yield="true" style="width: 95%;" class="thread"> <tbody> <tr is="for" lyte-for="true" items="{{mail.relatedMailList}}" item="relMail" index="ind" depth="2"></tr> </tbody> </table> </template></template> </div> </div> </lyte-tr> {{checkBrowser(mail.message_id)}} </template></template> </template> </lyte-tbody> </lyte-table-structure> </template> </lyte-table> <template is="if" value="{{expHandlers(expHandlers(toIndex,\'>=\',10),\'||\',isCanvasView)}}"><template case="true"><template is="if" value="{{or(expHandlers(noOfMails,\'!=\',0),expHandlers(startIndex,\'>\',1))}}"><template case="true"> <div class="listNav cBafter rLEmailFooter"> <div id="previousPageToken" style="display:none;">{{previousPageToken}}</div> <div id="currentPageToken" style="display:none;">{{currentPageToken}}</div> <div id="nextPageToken" style="display:none;">{{nextPageToken}}</div> <div id="navigationIndex" style="display:none;">{{fromIndex}}</div> <div id="navigationEntityId" style="display:none;">{{moduleEntityId}}</div> <div id="navigationModule" style="display:none;">{{encodeJS(module)}}</div> <div id="navigationFullname" style="display:none;">{{encodeJS(fullname)}}</div> <div id="navigationEmailid" style="display:none;">{{encodeJS(emailId)}}</div> <div id="navigationRefreshKey" style="display:none;">false</div> <lyte-table lt-prop-yield="true" class="floatR mailNavRL mB3 mT3" id="mailNav"> <lyte-table-structure> <lyte-tbody> <lyte-tr class="noHoverERL"> <lyte-td class="eRL_pageChaArrowRTL alignRight pR0 pL0"> <template is="if" value="{{expHandlers(startIndex,\'==\',1)}}"><template case="true"> <span class="previous_disabled vam dIB"></span> </template><template case="false"> <span class="link" onclick="{{action(\'showMailsList\',\'\',fromIndex,\'previous\')}}"><span class="previous vam dIB cP" data-zcqa="previousMail"></span></span> </template></template> </lyte-td> <lyte-td class="txt-ctr f12 pR0 pL0"> <span class="mL10 mR10">{{startIndex}}<span class="dim">&nbsp;{{getI18n(\'crm.label.lowercase.to\')}}&nbsp;</span>{{toIndex}}</span> </lyte-td> <lyte-td class="pR0 pL0"> <template is="if" value="{{expHandlers(expHandlers(10,\'>\',noofMails),\'||\',disableNext)}}"><template case="true"> <span class=" disabled"></span><span class="next_disabled vam dIB"></span> </template><template case="false"> <span class="link" onclick="{{action(\'showMailsList\',\'\',fromIndex,\'next\')}}"><span class="next vam dIB" data-zcqa="nextMail"></span></span> </template></template> </lyte-td> </lyte-tr></lyte-tbody></lyte-table-structure></lyte-table></div></template><template case="false"> <lyte-td id="emptytd">&nbsp;</lyte-td> </template></template>      </template></template> </template></template></template><template case="false"> <lyte-table lt-prop-yield="true" class="nohover" style="width: 100%;" align="center"> <template is="registerYield" yield-name="yield"> <lyte-table-structure> <lyte-tbody> <lyte-tr> <lyte-td valign="center" class="norec"><div class="pR30 italic fontsmooth">{{getI18n(\'crm.new.label.no.records\')}}</div></lyte-td> </lyte-tr> </lyte-tbody> </lyte-table-structure> </template> </lyte-table> </template></template> </div> </div> <input type="hidden" id="mail_type" value="{{mailType}}"> </div> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[3]},{type:"attr",position:[5]},{type:"attr",position:[7,1,1,1,7]},{type:"if",position:[7,1,1,1,7],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"registerYield",position:[7,1,1,3,1],dynamicNodes:[{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]},{type:"text",position:[3,1,1]},{type:"text",position:[3,3,1,1]},{type:"text",position:[3,3,3]},{type:"componentDynamic",position:[3]},{type:"attr",position:[5,1]},{type:"registerYield",position:[5,1,1],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[5,1]},{type:"attr",position:[5,3]},{type:"registerYield",position:[5,3,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[5,3]},{type:"componentDynamic",position:[5]}]},{type:"componentDynamic",position:[7,1,1,3]},{type:"attr",position:[7,1,1,5]},{type:"if",position:[7,1,1,5],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1,1,1,1]},{type:"if",position:[1,1,1,1],cases:{true:{dynamicNodes:[{type:"text",position:[1,0,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,0,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,0,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,0,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,0,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,0,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1,0,1]},{type:"if",position:[1,0,1],cases:{true:{dynamicNodes:[{type:"text",position:[1]},{type:"text",position:[3,1,0]},{type:"componentDynamic",position:[3]}]},false:{dynamicNodes:[{type:"text",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,0,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,0,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,0,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,0,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,0,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,0,0]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1,1,1,1,1]},{type:"if",position:[1,1,1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1,1,1,1]},{type:"attr",position:[1,1,1,3]},{type:"if",position:[1,1,1,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,1,1,5]},{type:"if",position:[1,1,1,5],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,1,1,7]},{type:"if",position:[1,1,1,7],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,1,1,9]},{type:"if",position:[1,1,1,9],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,1,1,11]},{type:"if",position:[1,1,1,11],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,1,1,13]},{type:"if",position:[1,1,1,13],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"text",position:[1,1,1,15,0]},{type:"componentDynamic",position:[1,1,1,15]},{type:"attr",position:[1,1,1,17]},{type:"if",position:[1,1,1,17],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,1,1,19]},{type:"if",position:[1,1,1,19],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,1,1,21]},{type:"if",position:[1,1,1,21],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3,1]},{type:"for",position:[1,3,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"attr",position:[1,3,1]},{type:"attr",position:[1,3,1,1]},{type:"attr",position:[1,3,1,1,1]},{type:"if",position:[1,3,1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[1,4]},{type:"if",position:[1,4],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"attr",position:[2]},{type:"if",position:[2],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}},{type:"attr",position:[1,6]},{type:"if",position:[1,6],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,3,1,3]},{type:"text",position:[1,3,1,3,1]},{type:"componentDynamic",position:[1,3]},{type:"attr",position:[1,5]},{type:"if",position:[1,5],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,7]},{type:"if",position:[1,7],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[]}},default:{}}]}},default:{}},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,9]},{type:"if",position:[1,9],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]},false:{dynamicNodes:[]}},default:{}},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,11]},{type:"if",position:[1,11],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]},false:{dynamicNodes:[]}},default:{}},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,13,1]},{type:"text",position:[1,13,1,0]},{type:"componentDynamic",position:[1,13]},{type:"attr",position:[1,15]},{type:"if",position:[1,15],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,17]},{type:"text",position:[1,17,0]},{type:"componentDynamic",position:[1,17]},{type:"attr",position:[1,19]},{type:"if",position:[1,19],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,3,1,0]},{type:"attr",position:[1,1,3,3]},{type:"if",position:[1,1,3,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,0,0]},{type:"text",position:[1,1,0]}]}},default:{}},{type:"text",position:[1,2]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"text",position:[0]}]},false:{dynamicNodes:[{type:"text",position:[0]}]}},default:{}},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1]}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"attr",position:[1,1,1,1]},{type:"if",position:[1,1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"text",position:[1,1,1,1,0]},{type:"text",position:[1,1,1,3]},{type:"text",position:[1,3,0]}],actualTemplate:'<template is="for" items="{{mail.relatedMailList}}" item="relMail" index="ind" depth="2"><table><tbody> <tr id="{{relMail.message_id}}" class="bldtxt"> <td width="65%" class="tkvParentMail pL80"> <a class="link" data-isunread="{{relMail.read}}" href="javascript:;" purpose="{{relMail.viewmail}}" onclick="{{action(\'viewEntEmail\',relMail.message_id,\'GMail\',getI18n(\'crm.button.close\'),relMail.sentOrReceived,relMail.zfsDown,undefined,relMail.read,encodeJS(relMail.mailOwnerId),this,relMail.moduleEntityId,relMail.id)}}"> <em>{{relMail.from}}</em> - {{relMail.subject}} </a> </td> <td width="35%">{{relMail.date}}</td> </tr> </tbody></table></template>',tagName:"TBODY"}]}},default:{}},{type:"componentDynamic",position:[1]},{type:"text",position:[3]}]}},default:{}}]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"text",position:[1,3,0]},{type:"text",position:[1,5,0]},{type:"text",position:[1,7,0]},{type:"text",position:[1,9,0]},{type:"text",position:[1,11,0]},{type:"text",position:[1,13,0]},{type:"text",position:[1,15,0]},{type:"attr",position:[1,19,1,1,1,1,1]},{type:"if",position:[1,19,1,1,1,1,1],cases:{true:{dynamicNodes:[]},false:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1,19,1,1,1,1]},{type:"text",position:[1,19,1,1,1,3,1,0]},{type:"text",position:[1,19,1,1,1,3,1,2,1]},{type:"text",position:[1,19,1,1,1,3,1,3]},{type:"componentDynamic",position:[1,19,1,1,1,3]},{type:"attr",position:[1,19,1,1,1,5,1]},{type:"if",position:[1,19,1,1,1,5,1],cases:{true:{dynamicNodes:[]},false:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1,19,1,1,1,5]},{type:"componentDynamic",position:[1,19,1,1,1]},{type:"componentDynamic",position:[1,19,1,1]},{type:"componentDynamic",position:[1,19,1]},{type:"componentDynamic",position:[1,19]}]},false:{dynamicNodes:[{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]}},default:{}}]},false:{dynamicNodes:[{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[1,1,1,1,0,0]},{type:"componentDynamic",position:[1,1,1,1]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[7,3]}],_observedAttributes:["entityId","fromIndex","fullname","imagePath","isAllowedZGID","isDealsMail","isadminprofileuser","mailRange","mailType","mailsList","module","noofMails","partnerName","sentimentEnabled","startIndex","supportMailId","toIndex","emails","erlCheckboxChecked"],data:function(){return{entityId:Lyte.attr("string",{default:""}),fromIndex:Lyte.attr("number",{default:0}),fullname:Lyte.attr("string",{default:""}),imagePath:Lyte.attr("string",{default:""}),isAllowedZGID:Lyte.attr("boolean",{default:!1}),isDealsMail:Lyte.attr("boolean",{default:!1}),isadminprofileuser:Lyte.attr("boolean",{default:!1}),mailRange:Lyte.attr("object",{default:{}}),mailType:Lyte.attr("string",{default:""}),mailsList:Lyte.attr("array",{default:[]}),module:Lyte.attr("string",{default:""}),noofMails:Lyte.attr("number",{default:0}),partnerName:Lyte.attr("string",{default:""}),sentimentEnabled:Lyte.attr("boolean",{default:!1}),startIndex:Lyte.attr("number",{default:0}),supportMailId:Lyte.attr("string",{default:""}),toIndex:Lyte.attr("number",{default:0}),emails:Lyte.attr("object"),erlCheckboxChecked:Lyte.attr("boolean",{default:!1})}},actions:{getRelatedMails:function(e,t){getRelatedMails(e,t)},potentialPopUp:function(e,t){potentialPopUp(e,t)},viewEntEmail:function(e,t,a,i,s,l,n,o,p,m,r){"drafts"==t?EmailLaunchUtil.fetchDraftDetails(e):"all_contacts_draft_crm_emails"==t?EmailLaunchUtil.fetchDraftDetails(e,"Contacts",p.dataset.contactid):viewMail(e,t,a,i,s,l,n,o,p,m,r)},changeDeal:function(e){EntityEmail.listViewChangeDeal(e)},showDealPopup:function(e,t,a){event&&(event.cancelBubble=!0,event.stopPropagation&&event.stopPropagation()),EntityEmail.showDealPopup(e,t,a)},showMailsList:function(e,t,a){showMailsListViaAPI(e,t,a)},showRLEmailStatusTooltip:function(e,t,a,i,s,l,n,o,p){crmEmailTrackingStatus.showRLEmailStatusTooltip(e,t,a,i,s,l,n,o,p)},viewSummary:function(e,t,a,i,s,l,n,o,p,m,r){var d=$L("#module").val(),c=(r=$L("#id").val(),null),u={},y=$L("#selectMails"),f=$L("#isFromNewAPI");u[csrfParamName]=csrfToken,ernSummeryView(p,e),"Deals"===(d=void 0===moduleApiMapping[d]?opener.window.moduleApiMapping[d]:moduleApiMapping[d])&&(d="Potentials");var v=document.querySelector("crm-emails-related-list").component,g=store.peekRecord("emails_rl_user",e);if(g){var x=g.data;v.actions.populateSummaryDet(p,x,x),v.actions.populateMailDataInSpan(x)}else{if(y.length>0){var _=void 0===y[0].value?y[0].getAttribute("lt-prop-selected"):y[0].value;if(f.length>0&&(_=y[0].getAttribute("lt-prop-selected")),"IMAP_ALL"===_||"ALL_MAIL_VIEW"===_||"POP_ALL"===_||"ALL"===_)c=o,"CRMMASSMAIL"===$L("#"+e).attr("purpose")&&(t="ALLUSERSMAILS");else c=_.substring(0,_.indexOf("_"))}""!==c&&null!==c&&(u.user_id=c),u.message_id=e;var h={};store.findAll("emails_rl_user",u,!1,!1,{module:d,entityId:r,action:"getEmailDetails"}).then((function(a){(h=a.email_related_list[0]).sentOrReceived=i,h.mailType=t,h.mailStatus=h.status,null!==c&&""!==c||(c=Crm.userDetails.USER_ID),h.user_id=c,h.mailOwnerId=o,h.message_id=e,u={};var s=[],l={};l.id=r,l.email_body=h.content,l.email_subject=h.subject,s[0]=l,u.emails=s;var n={"X-ZCSRF-TOKEN":csrfParamName+"="+csrfToken,"Content-Type":"application/json"};networkUtils.lyteInitiateRequest("/crm/zia/text/api/v2/summary/extract.do","POST",{params:JSON.stringify(u),headers:n}).then((function(t){v.actions.populateSummaryDet(p,t,h),v.actions.storeMailAndSummmaryDet(h,t,e)}),(function(t){t={},v.actions.populateSummaryDet(p,t,h),v.actions.storeMailAndSummmaryDet(h,t,e)}))}),(function(t){t={},v.actions.populateSummaryDet(p,t,h),v.actions.storeMailAndSummmaryDet(h,t,e)}))}},storeMailAndSummmaryDet:function(e,t,a){t.from=e.from&&null!==e.from&&null!==e.from.user_name?e.from.user_name+"<"+e.from.email+">":e.from.email,t.subject=e.subject,t.msgid=a,t.sentOrReceived=e.sentOrReceived;for(var i=e.to,s=i.length,l="",n=0;n<s;n++)l+=i[n].email,n!==s-1&&(l+=",");if(e.cc){for(var o=e.cc,p=o.length,m="",r=0;r<p;r++)m+=o[r].email,r!==p-1&&(m+=",");t.cc=m}if(e.bcc){for(var d=e.bcc,c=d.length,u="",y=0;y<c;y++)u+=d[y].email,y!==c-1&&(u+=",");t.bcc=u}var f=new CrmDate(e.sent_time);t.sentDateTime=f.getDateInUserPattern()+" "+f.getTimeInUserPattern(),t.content=e.content,t.user_id=e.user_id,t.mailOwnerId=e.mailOwnerId,t.mailType=e.mailType,t.to=l,void 0!==e.linked_deal&&(t.linked_deal=e.linked_deal),t.attachments=e.attachments,t.editable=e.editable,t.mailStatus=e.mailStatus,t.message_id=e.message_id,t.reply_to=e.reply_to&&null!==e.reply_to.user_name?e.reply_to.user_name+"<"+e.reply_to.email+">":e.reply_to.email,store.pushPayload("emails_rl_user",{content:a,data:t}),document.querySelector("crm-emails-related-list").component.actions.populateMailDataInSpan(t)},populateMailDataInSpan:function(e){$L("#summaryMailDet").data({from:e.from,to:e.to,cc:e.cc,bcc:e.bcc,reply_to:e.reply_to,subject:e.subject,msgid:e.msgid,sentOrReceived:e.sentOrReceived,sentDateTime:e.sentDateTime,mailContent:e.content,user_id:e.user_id})},populateSummaryDet:function(e,t,a){$L("#dvinner,#detailcanvascontainer").on("scroll",(function(){hideEmailSummaryDiv()}));var i=$L("#module"),s={},l=document.querySelector("email-summary");if("success"===t.status){s.hasSummary=!0,s.isLoading=!1,s.mail={},s.mail.subject=unescape(a.subject),s.mail.message_id=a.message_id;var n=t.summaries;if(""===n[0].response.summary)return s.hasSummary=!1,l.component.setData(s),void document.querySelector("crm-emails-related-list").component.actions.storeMailAndSummmaryDet(a,t,a.msgid);s.mail.summary=n[0].response.summary;var o=a.attachments;if(o&&o.length>0){var p=o.length;s.mail.attachLen=p,s.mail.attach=o}if(s.mail.isEditable=a.editable,a.mailStatus&&a.mailStatus.length>0&&"scheduled"===a.mailStatus[0].type)s.mail.isScheduled=!0;else{var m=$(e).offsetParent().parent().children(),r=m.eq(m.length-1).text();r&&(r.includes("Failed")?s.mail.isFailed=!0:(s.emailConfigured=Crm.userDetails.mailConfigured,s.mailType=a.mailType,s.module=i.val(),s.entityId=$L("#id").val()))}if(void 0!==a.linked_deal)s.mail.linked_deal=a.linked_deal;else if(Crm.userDetails.IMAP_STATUS&&("Contacts"===i.val()||"Potentials"===i.val())){var d=$L("#selectMails");if(d.length>0){var c=void 0===d[0].value?d[0].getAttribute("lt-prop-selected"):d[0].value,u=$L("crm-emails-related-list"),y="true"===$("#isMailAppsFlow").val();("IMAP_ALL"===c||"ALL"===c||(y||!y&&"ZMAIL"!==u.attr("mail-type"))&&"GMail"!==u.attr("mail-type"))&&(s.mail.showLinkDeal=!0)}}}else s.hasSummary=!1;l.component.setData(s)},toolTipShow:function(e,t){crmui.toolTip_show(e,"left",t,!0)},showRLEmailStatusTooltipOver:function(e,t,a){crmEmailTrackingStatus.showRLEmailStatusTooltip(e,1,t,a)},showRLEmailStatusTooltipOut:function(e){crmEmailTrackingStatus.showRLEmailStatusTooltip(e,0)},hideTooltip:function(){crmui.hideTooltip()},EmailCompose:function(e){"close"===e?EmailCompose.closeDraftDisclaimer():EmailCompose.openDraftFromOldCompose()},showLookUp:function(e){Crm.showLookUp(this.getData("module"),"assoPotential_"+e,"assoPotential_"+e,"Potentials","Potentials","rLEmail")},ernShowOptions:function(e){ernShowOptions(e)},showTooltip:function(e){crmui.showTooltip(e)},showHideDealToolTip:function(e,t){"show"===t?EntityEmail.showHideDealToolTip("show",e):EntityEmail.showHideDealToolTip("hide")},mailToolTipHvr:function(e,t){mailToolTipHvr(e,t)}},methods:{eRLCheckboxActionAll:function(e,t){var a=$L("#ernTable").find("lyte-tbody lyte-checkbox"),i=$L(e).closest(".eRListPartialSelect");t.data.ltPropChecked||i.length>0?(i.hasClass("eRListPartialSelect")||$L(".ernLyteBody lyte-tr").addClass("ernSelectedRow"),i.removeClass("eRListPartialSelect")):(a.find("input").prop("checked",!1),$L(".ernLyteBody lyte-tr").removeClass("ernSelectedRow")),selectAllMails(e)},eRLCheckboxAction:function(e){var t=$L(e),a=$L("#ernTable");t.get(0).checked?t.closest("lyte-tr").addClass("ernSelectedRow"):t.closest("lyte-tr").removeClass("ernSelectedRow");var i=a.find("lyte-tbody .ecnChkBoxtd input:checked"),s=a.find("lyte-thead lyte-checkbox");i.length>0?s.addClass("eRListPartialSelect"):s.removeClass("eRListPartialSelect"),checkBoxClick(e)}}},{mixins:["crm-email-emotions-mixin"]}),Lyte.Component.registerHelper("getreadUnreadClass",(function(e){return e?"":"ernUnread"})),Lyte.Component.registerHelper("isCheckboxNeeded",(function(e){return Crm.userDetails.USER_ID==e})),Lyte.Component.registerHelper("getModule",(function(e,t){return-1!==e.indexOf("search")||"crm.label.no.open.activities"===e?I18n.getMsg(e,Crm.moduleInfo[t].translatedPluralLabel):I18n.getMsg(e,Crm.moduleInfo[t].translatedSingularLabel)})),Lyte.Component.registerHelper("checkBrowser",(function(e){var t=window.navigator.appName,a=$("#test_"+e);"Microsoft Internet Explorer"==t&&(a.length>0?a[0].style.display="none":getOpenerObj("test_"+e)&&(getOpenerObj("test_"+e).style.display="none"))})),Lyte.Component.registerHelper("checkIfDealsPresent",(function(e,t){return null!=e&&null!=t?"hasDeal":""})),Lyte.Component.registerHelper("getLength",(function(e){return e.length})),Lyte.Component.registerHelper("getRead",(function(e){return""!=e&&null!=e?1==e?"false":!1===e?"true":"false":"false"})),Lyte.Component.registerHelper("removeQoutes",(function(e){return e.replaceAll(/\\"/g,"")})),Lyte.Component.registerHelper("isStringType",(function(e){return"string"==typeof e})),Lyte.Component.registerHelper("toMailsList",(function(e){var t=e.to,a=e.cc,i=e.bcc,s=0,l=0,n=0;null!=t&&null!=t&&(s=t.length),null!=a&&null!=a&&(l=a.length),null!=i&&null!=i&&(n=i.length);for(var o="",p=0;p<s;p++){o+=t[p].email+", "}for(var m=0;m<l;m++){o+=a[m].email+", "}for(var r=0;r<n;r++){o+=i[r].email+", "}return""==o?I18n.getMsg("crm.email.draft.error.receipient.notfound"):o.substring(0,o.length-2)})),Lyte.Component.registerHelper("toMailsListText",(function(e){var t=Lyte.Component.registeredHelpers.toMailsList(e),a=t.split(", "),i=a.length;return i>1?a[0]+" "+I18n.getMsg("and")+" "+(i-1)+" "+I18n.getMsg("crm.login.more"):t})),Lyte.Component.registerHelper("getDateNTime",(function(e){var t=new CrmDate(e),a=Crm.userDetails.TIME_FORMAT,i="",s=t.userHourIn24hrFmt,l=t.userDisplayMinute<10?"0"+t.userDisplayMinute:t.userDisplayMinute,n="",o=new CrmDate;return i="HH:mm"==a?s+":"+l:(0==s?12:s>12?s-12:s)+":"+l+(s>=12?" "+I18n.getMsg("PM"):" "+I18n.getMsg("AM")),t.userDisplayYear!=o.userDisplayYear&&(n=" "+t.userDisplayYear),t.userDisplayMonthName+" "+t.userDisplayDate+n+" "+i})),Lyte.Component.registerHelper("getSentDate",(function(e){var t=new CrmDate(e),a=new CrmDate,i="";e="";if(t.userDisplayDate==a.userDisplayDate&&t.userDisplayMonth==a.userDisplayMonth&&t.userDisplayYear==a.userDisplayYear){var s=Crm.userDetails.TIME_FORMAT,l=t.userHourIn24hrFmt,n=t.userDisplayMinute<10?"0"+t.userDisplayMinute:t.userDisplayMinute;i="HH:mm"==s?l+":"+n:(0==l?12:l>12?l-12:l)+":"+n+(l>=12?" "+I18n.getMsg("PM"):" "+I18n.getMsg("AM"))}else i=t.userDisplayYear==a.userDisplayYear?t.userDisplayMonthName+" "+t.userDisplayDate:t.userDisplayMonthName+" "+t.userDisplayDate+" "+t.userDisplayYear;return i})),Lyte.Component.registerHelper("checkIfMailFailedOrScheduled",(function(e,t){if(e=null!=e&&null!=e?e.toLowerCase():"","failed"==t){if("failed"==e||"zfailed"==e||"retrying"==e||"zpending"==e)return!0}else if("zscheduled"==e||"scheduled"==e)return!0;return!1})),Lyte.Component.registerHelper("capitalizeStatus",(function(e,t){var a="";return null!=e?"delivered"!=(a=e[0].type)&&"Delivered"!=a||(a="sent"):a=1==t?"sent":"received",a[0].toUpperCase()+a.slice(1)})),Lyte.Component.registerHelper("getSentimentHoverValue",(function(e){return"Positive"==e?I18n.getMsg("crm.sentiment.Positive"):"CNS"===e?I18n.getMsg("crm.label.zia.email.cns.hovervalue"):I18n.getMsg("crm.sentiment.Negative")})),Lyte.Component.registerHelper("getClickVal",(function(e,t){if(e.length>1)return 1==t?e[1].first_click:2==t?e[1].count:e[1].last_click})),Lyte.Component.registerHelper("isAdminProfileUser",(function(){return"Administrator"==Crm.userDetails.PROFILE_NAME})),Lyte.Component.registerHelper("getModuleEntIdSub",(function(e,t){return null!=e?e.id:t})),Lyte.Component.registerHelper("getMailStatusForHover",(function(e){var t="";return e&&(t="received"==e[0].type?I18n.getMsg("Received"):"delivered"==e[0].type?I18n.getMsg("Delivered"):"dcheduled"==e[0].type||"zscheduled"==e[0].type?I18n.getMsg("Scheduled"):"failed"==e[0].type||"zfailed"==e[0].type?I18n.getMsg("Failed"):"retrying"==e[0].type||"zpending"==e[0].type?I18n.getMsg("Retrying"):"opened"==e[0].type?I18n.getMsg("crm.emailstats.opens"):e.length>1&&"clicked"==e[1].type?I18n.getMsg("crm.emailstats.clicks"):"bounced"==e[0].type?I18n.getMsg("crm.emailstats.bounces"):"sent"==e[0].type?I18n.getMsg("Sent"):"saved"==e[0].type?I18n.getMsg("crm.event.layout.save.success.msg"):I18n.getMsg(e[0].type)),t})),Lyte.Component.registerHelper("checkUndefinedAndGetDate",(function(e){return null==e?void 0:Lyte.Component.registeredHelpers.getDateNTime(e)})),Lyte.Component.registerHelper("getSentBy",(function(e){return e.user_name&&null!=e.user_name?e.user_name:e.email})),Lyte.Component.registerHelper("getTranslatedEmotionValue",(function(e){var t="";switch(e){case"Happy":t="crm.label.zia.email.emotion.happy";break;case"Gratitude":t="crm.label.zia.email.emotion.gratitude";break;case"Enthusiasm":t="crm.label.zia.email.emotion.enthusiasm";break;case"Trust":t="crm.label.zia.email.emotion.trust";break;case"Neutral":t="crm.label.zia.email.emotion.neutral";break;case"Discontentment":t="crm.label.zia.email.emotion.discontentment";break;case"Frustration":t="crm.label.zia.email.emotion.frustration";break;case"Confusion":t="crm.label.zia.email.emotion.confusion"}return I18n.getMsg(t)})),store.registerModel("emails_rl_user",{users:Lyte.attr("object"),emails:Lyte.attr("object"),content:Lyte.attr("string",{primaryKey:!0})}),store.registerAdapter("emails_rl_user",{namespace:"crm",buildURL:function(e,t,a,i,s,l,n){switch(n.action){case"getUsers":s=s.replace("emails_rl_user","v2/"+n.module+"/"+n.entityId+"/Emails/shared_details");break;case"getEmails":s=s.replace("emails_rl_user","v2.2/"+n.module+"/"+n.entityId+"/Emails");break;case"getEmailDetails":s=s.replace("emails_rl_user","v2/"+n.module+"/"+n.entityId+"/Emails")}return s}}),store.registerSerializer("emails_rl_user",{normalizeResponse:function(e,t,a,i,s,l,n,o){if("findAll"==t&&200==s){var p={};"string"==typeof a&&JSON.parse(a),a&&a.email_related_list&&a.email_related_list.length>0&&a.email_related_list[0].hasOwnProperty("emails_sent_from_crm")?(p.content="shared_users_"+o.entityId,p.data=a):(a&&a.email_related_list&&a.email_related_list.length>0||(p.content="emails_"+o.entityId),p.data=a),a.emails_rl_user=[p]}return a},payloadKey:function(e,t,a,i,s,l){return"emails_rl_user"}});
