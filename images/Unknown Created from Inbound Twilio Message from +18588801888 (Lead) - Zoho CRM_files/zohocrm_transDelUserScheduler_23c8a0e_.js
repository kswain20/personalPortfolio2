var transDelUserScheduler={fiveSecondsMinimize:null,permenentRemove:null,initProgressDiv:function(){var e=$("#wmsstatusbar"),s=$("#transDelUserProgressIcon"),r=e.find("tr");if(r.find(s).length<=0){r.prepend('<td id="transDelUserProgressIcon" class="pR dN"><div class="cP pR crm-wms-icon pT5 w40" onclick="transDelUserScheduler.hideInSchedularBar(this);"><span class="svgIcons rls-progress-icon dIB"></span></div></td>')}},minimizeSchedular:function(){transDelUserScheduler.fiveSecondsMinimize=setTimeout((function(){$("#transDelUserSchNotificationPopup").removeClass("schedularOpen")}),5e3)},initSchDiv:function(e){if(0==$("#transDelUserSchNotificationPopup").length){var s='<div id="transDelUserSchNotificationPopup" class="pF schedularProgress-pop schedularOpen"><div class="schedularPop-Header"><h2 class="f17 pR10">';s+=I18n.getMsg(e),s+='<a href="javascript:;" class="dB fR minimizeSchedularPop pR mT5" onclick="transDelUserScheduler.minimizeSchedularPopup();"></a></h2></div><ul class="m0 pL20 pR20 tduScheduledList"></ul>',$("body").append(s)}},minimizeSchedularPopup:function(){$("#transDelUserSchNotificationPopup").removeClass("schedularOpen"),$("#transDelUserProgressIcon").find(".crm-wms-icon").addClass("insideBar"),transDelUserScheduler.checkingStatus()},checkingStatus:function(){$("tduScheduledList").each((function(){$(this).find("div").hasClass("progressBarAnime")?clearTimeout(transDelUserScheduler.fiveSecondsMinimize):(clearTimeout(transDelUserScheduler.permenentRemove),transDelUserScheduler.permenentRemovePop())}))},hideInSchedularBar:function(e){var s=$(e);s.hasClass("insideBar")?($("#transDelUserSchNotificationPopup").addClass("schedularOpen"),s.removeClass("insideBar")):($("#transDelUserSchNotificationPopup").removeClass("schedularOpen"),s.addClass("insideBar")),clearTimeout(transDelUserScheduler.fiveSecondsMinimize),clearTimeout(transDelUserScheduler.permenentRemove),transDelUserScheduler.permenentRemovePop()},permenentRemovePop:function(){clearTimeout(transDelUserScheduler.permenentRemove),0===$(".progressBarAnime").length&&(transDelUserScheduler.permenentRemove=setTimeout((function(){$("#transDelUserSchNotificationPopup").removeClass("schedularOpen",(function(){var e=$("#transDelUserSchNotificationPopup");e.find("ul.tduScheduledList").empty(),e.remove()})),$("#transDelUserProgressIcon").addClass("dN")}),15e3))},addOrUpdateUserSchedulerStatus:function(e,s){var r=JSON.parse(e.message);this.initProgressDiv(),$("#transDelUserProgressIcon").removeClass("dN"),this.initSchDiv(s);var i=$("#picklist_pop_"+r.id),t=$("#transDelUserSchNotificationPopup"),a=t.find("ul.tduScheduledList");0==i.length?(clearTimeout(transDelUserScheduler.fiveSecondsMinimize),transDelUserScheduler.minimizeSchedular(),clearTimeout(transDelUserScheduler.permenentRemove),a.append('<li class="m0 p20 tduScheduledList scheduledDataList picklistReplaceList" id ="picklist_pop_'+r.id+'">'),i=$("#picklist_pop_"+r.id),t.addClass("schedularOpen")):(i.empty(),transDelUserScheduler.permenentRemovePop());var n=document.createElement("crm-userdelete-notification");if("progress"===r.status&&n.setData({title:r.title,message:r.message,status:r.status,jobId:r.id}),"completed"===r.status&&n.setData({title:r.title,message:r.message,status:r.status,jobId:r.id,record:r.record,assignment:r.assignment,criteria:r.criteria}),"failure"===r.status&&n.setData({title:r.title,message:r.message,status:r.status,jobId:r.id}),i.append(n),t.addClass("schedularOpen"),t.find("li").length>3){var l=renderingUtils.windowHeight/4*3;a.css("max-height",l).addClass("oA")}}};