Lyte.Mixin.register("crm-zsurvey-rl-utils",{loadCompData:function(){for(var t,e=this,a=store.peekRecord("zsurvey_rl","SURVEYPERSONALITY"),i=[],o=0,r=(a=objectUtils.cloneObject(a)).heading.length,s=0;s<r;s++)"RESPONSEID"===a.heading[s].COLUMNNAME&&(t=a.heading[s],o++),a.heading[s].api_name=a.heading[s].COLUMNNAME,a.heading[s].id=a.heading[s].COLUMNNAME,"SOURCE"!==a.heading[s].COLUMNNAME&&"UNIQUEID"!==a.heading[s].COLUMNNAME||(a.heading[s].yieldName=a.heading[s].COLUMNNAME);a.heading.removeLastOccurenceOfElement(t);for(var n=a.body.length,l=0;l<n&&!(l>=10);l++){var d={},p=a.body[l].CONTENT.length-o;for(s=0;s<p;s++)d[a.heading[s].COLUMNNAME]=a.body[l].CONTENT[s];i[l]=d}var c=crmRelatedList.showNavigation(a.fromIndex,a.toIndex,10,a.body.length);e.setData("showNavigation",c);var m=a.fromIndex-1+a.body.length;c&&(e.setData("navigationEndIndex",getEndIndex(a.fromIndex,a.toIndex,10,a.body,!0)),e.setData("showPrevNav",1!==a.fromIndex),e.setData("showNextNav",void 0!==a.body[10]),e.setData("navStartIndex",a.fromIndex-1),e.setData("totalRecord",m));var y,u=a.ACTIONS.slice(0);u.forEach((function(t){t.data_cid=t["data-cid"]})),a.content=i,a.ACTIONS=u,e.setData("rlData",a),e.setData("loading",!1),y=m<=a.toIndex?m:a.toIndex+"+";var v=document.querySelector("crm-zsurvey-rl-label").component;v.setData("rlData",a),v.setData("rlCount",y),"canvas"!==Lyte.Router.getRouteInstance().routeName&&0!==y&&$("#newleft_"+a.listRelationId).find("span.numCountn").addClass("numCountVal").text(y)}}),store.registerModel("zsurvey_rl",{name:Lyte.attr("string",{primaryKey:!0}),ACTIONS:Lyte.attr("array"),heading:Lyte.attr("array"),body:Lyte.attr("array"),customButton:Lyte.attr("boolean"),filtersAvailable:Lyte.attr("boolean"),fromIndex:Lyte.attr("number"),isCustLookUp:Lyte.attr("boolean"),isCustomModule:Lyte.attr("boolean"),isCustomRel:Lyte.attr("boolean"),isShowColumns:Lyte.attr("boolean"),isStandardLookup:Lyte.attr("boolean"),label:Lyte.attr("string"),listRelationId:Lyte.attr("string"),module:Lyte.attr("string"),sortOrderString:Lyte.attr("string"),surveyEnabled:Lyte.attr("number"),toIndex:Lyte.attr("number")}),store.registerAdapter("zsurvey_rl",{namespace:"crm/",buildURL:function(t,e,a,i,o){return o.replace("zsurvey_rl","NewRelatedList.do")}}),store.registerSerializer("zsurvey_rl",{normalizeResponse:function(t,e,a){for(var i in a)for(var o in a[i])return a={zsurvey_rls:a[i][o]}}}),Lyte.Component.register("crm-zsurvey-rl-body",{_template:'<template tag-name="crm-zsurvey-rl-body"> <template is="if" value="{{loading}}"><template case="true"> <table width="100%" cellspacing="0" cellpadding="0" class="norec"> <tbody> <tr> <td valign="center"> <div class="pR30 italic fontsmooth">Loading...</div> </td> </tr> </tbody> </table> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(rlData,\'&amp;&amp;\',rlData.body),\'&amp;&amp;\',expHandlers(rlData.body.length,\'==\',0))}}"><template case="true"> <table width="100%" cellspacing="0" cellpadding="0" class="norec"> <tbody> <tr> <td valign="center"> <div class="pR30 italic fontsmooth">{{getI18n(\'crm.new.label.no.records\')}}</div> <div data-zcqa="zSListRelationId" id="norec_{{rlData.listRelationId}}"></div> <crm-zsurvey-rl-actions entity_id="{{entity_id}}" module="{{module}}" actions="{{rlData.ACTIONS}}" related_list_id="{{rlData.listRelationId}}"></crm-zsurvey-rl-actions> </td> </tr> </tbody> </table> </template><template case="false"> <template is="if" value="{{expHandlers(type,\'==\',&quot;CANVAS&quot;)}}"><template case="true"> <table class="nobdr aligncenter" width="100%" cellspacing="0" cellpadding="0"> <tbody> <tr height="25"> <td></td> <td class="alignright vam"> <crm-zsurvey-rl-actions entity_id="{{entity_id}}" module="{{module}}" actions="{{rlData.ACTIONS}}" related_list_id="{{rlData.listRelationId}}"></crm-zsurvey-rl-actions> </td> </tr> </tbody> </table> </template></template> <crux-table-component cx-prop-header="{{rlData.heading}}" cx-prop-label-selector="FIELDLABEL" cx-prop-content="{{rlData.content}}" cx-prop-header-row-id="listviewHeaderRow" cx-prop-sort-columns="true" cx-prop-body-id="lvTred" cx-prop-column-cell-class="sort mW100" cx-prop-field-type-mapping-selector="COLUMNNAME" on-sort="{{action(\'showSortDropdown\')}}" cx-prop-sorted-column="{{sort_by}}" cx-prop-sorted-order="{{sort_order}}" cx-prop-table-id="listviewtable" data-zcqa="listViewTable" class="listviewtable zSurveyDetListTable" cx-prop-row-zcqa="detailView" cx-prop-module="{{module}}" cx-prop-add-search="false" cx-prop-enable-body-scroll="false"> <template is="yield" yield-name="body-SOURCE"> {{getI18n(recordObj.SOURCE)}} </template> <template is="yield" yield-name="body-UNIQUEID"> <template is="if" value="{{expHandlers(expHandlers(recordObj.UNIQUEID,\'!=\',undefined),\'&amp;&amp;\',expHandlers(recordObj.UNIQUEID,\'!=\',0))}}"><template case="true"> <template is="if" value="{{expHandlers(rlData.surveyEnabled,\'==\',1)}}"><template case="true"> <span class="col2c7bd0 cP f14" data-zcqa="viewResponse" onclick="{{action(\'viewResponse\',this)}}" data-params="{&quot;action&quot; : &quot;viewResponse&quot;, &quot;uniqueid&quot;:&quot;{{recordObj.UNIQUEID}}&quot;, &quot;responseid&quot;:&quot;{{rlData.body[indexVal].RESPONSEID}}&quot; , &quot;zcrmemail&quot;:&quot;{{encodeURIComponent(rlData.body[indexVal].sEmail)}}&quot;}">{{getI18n(\'crm.zsurvey.label.view.response\')}}</span> </template><template case="false"> <a href="javascript:void(0);" data-zcqa="viewResponse" onmouseenter="{{action(\'showTooltip\',getI18n(\'crm.zsurvey.no.viewresponse.surveydisabled.brandchange\',surveyPartnerAppName))}}" onmouseleave="{{action(\'hideTooltip\')}}">{{getI18n(\'crm.zsurvey.label.view.response\')}}</a> </template></template> </template><template case="false"> <span class="f12">{{getI18n(\'crm.survey.response.yettorespond\')}}</span> </template></template> </template> </crux-table-component> <template is="if" value="{{showNavigation}}"><template case="true"> <lyte-navigator on-next="{{method(\'navigNext\')}}" on-previous="{{method(\'navigPrevious\')}}" lt-prop-yeild="false" lt-prop-value="{{navStartIndex}}" lt-prop-records="{{totalRecord}}" lt-prop-perpage="10"></lyte-navigator> </template></template> <lyte-menu lt-prop-yield="true" lt-prop-event="click" lt-prop-query="lyte-th.sort" on-menu-click="{{method(\'sortRecord\')}}" data-zcqa="sort_div_zsurvey" lt-prop-freeze="false"> <template is="registerYield" yield-name="yield"> <lyte-menu-body id="sort_div_zsurvey" class="ddM"> <template is="for" items="{{sortDetails}}" item="order" index="index"> <lyte-menu-item data-value="{{order}}" data-zcqa="sorting_{{order}}"> <template is="if" value="{{expHandlers(order,\'==\',&quot;unsort&quot;)}}"><template case="true"> {{getI18n("crm.column.unsort")}} </template><template case="false"> {{getI18n(concat("crm.column.sort.",order))}} </template></template><template is="if" value="{{ifAnyMatch(order,\'=\',\'asc\',order,\'=\',\'desc\')}}"><template case="true"> <span class="svgIcons sort_{{if(ifEquals(order,\'asc\'),\'asc\',\'desc\')}}"></span> </template></template> </lyte-menu-item> </template> </lyte-menu-body> </template> </lyte-menu> </template></template></template></template> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,1,1,1,0]},{type:"attr",position:[1,1,1,1,3]},{type:"attr",position:[1,1,1,1,5]},{type:"componentDynamic",position:[1,1,1,1,5]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1,3,1]},{type:"componentDynamic",position:[1,1,1,3,1]}]}},default:{}},{type:"attr",position:[3]},{type:"registerYield",position:[3,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"registerYield",position:[3,3],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}}]},false:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}}]},{type:"componentDynamic",position:[3]},{type:"attr",position:[5]},{type:"if",position:[5],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[7]},{type:"registerYield",position:[7,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1]}]}},default:{}},{type:"attr",position:[1,2]},{type:"if",position:[1,2],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[7]}]}},default:{}}]}},default:{}}],_observedAttributes:["module","entity_id","related_list_id","loading","rlData","showNavigation","navStartIndex","totalRecord","navigationEndIndex","showPrevNav","showNextNav","sortField","sort_order","sort_by","sortDetails","rendered_from","surveyPartnerAppName","type"],data:function(){return{module:Lyte.attr("string"),entity_id:Lyte.attr("string"),related_list_id:Lyte.attr("string"),loading:Lyte.attr("boolean",{default:!0}),rlData:Lyte.attr("object"),showNavigation:Lyte.attr("boolean"),navStartIndex:Lyte.attr("number",{default:0}),totalRecord:Lyte.attr("number",{default:0}),navigationEndIndex:Lyte.attr("number",{default:10}),showPrevNav:Lyte.attr("boolean",{default:!1}),showNextNav:Lyte.attr("boolean",{default:!1}),sortField:Lyte.attr("string"),sort_order:Lyte.attr("string"),sort_by:Lyte.attr("string"),sortDetails:Lyte.attr("array"),rendered_from:Lyte.attr("string"),surveyPartnerAppName:Lyte.attr("string",{default:Crm.integrationsAppName.ZOHO_SURVEY}),type:Lyte.attr("string")}},didConnect:function(){var t=this;if("non_canvas"!==t.getData("rendered_from")){var e={action:"getData",pname:"SURVEYPERSONALITY",module:t.getData("module"),id:t.getData("entity_id")};store.clearCachedQuery("zsurvey_rl",e),app.store.makeRequest("findAll","zsurvey_rl",e,!0,!0).then((function(){t.loadCompData()}))}},actions:{navigate:function(t){this.navigate(t)},viewResponse:function(t){ZSurvey.viewResponse(t)},showSortDropdown:function(t,e){var a=e.target,i=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,o=document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft;this.setData("sortField",t.api_name);var r=a.offsetLeft,s=e.target.getBoundingClientRect(),n=document.getElementById("sort_div_zsurvey");if(n&&(n.style.position="fixed"),o>0&&0===i&&(n.style.left=r+"px"),i<50)n.style.left=r-o+"px";else{var l=document.getElementById("cvpadding");void 0===document.getElementById("copyListviewHeaderDiv")&&l&&"pFixed"===l.getAttribute("class")?n.style.top=a.DOCUMENT_POSITION_CONTAINS+a.offsetHeight+82-(l.offsetHeight+15)-i+"px":n.setAttribute("class","fixedTopColumnList"),n.style.position="fixed",n.style.left=r-o+"px",n.style.zIndex=2502}var d=document.getElementById("sorted_column_"+t.api_name);d&&"asc"===this.getData("sort_order")?this.setData("sortDetails",["desc","unsort"]):d&&"desc"===this.getData("sort_order")?this.setData("sortDetails",["asc","unsort"]):this.setData("sortDetails",["asc","desc"]),n.style.display="block",n.style.left=s.left+"px",n.style.top=s.top+s.height+"px"},showTooltip:function(t){crmui.showTooltip(t)},hideTooltip:function(){crmui.hideTooltip()}},methods:{navigNext:function(){this.navigate("next")},navigPrevious:function(){this.navigate("prev")},sortRecord:function(t){var e=this,a=document.getElementsByClassName("lyteMenuSelected")[0].id,i=e.getfieldName(a),o={action:"getData",pname:"SURVEYPERSONALITY",module:e.getData("module"),id:e.getData("entity_id"),fromIndex:1};"asc"!==t&&"desc"!==t||(o.sortOrderString="sort_"+t,o.sortColumnId=i,o.isSortRequest=!0),e.setData("sort_order",t),e.setData("sort_by",a),store.clearCachedQuery("zsurvey_rl",o),app.store.makeRequest("findAll","zsurvey_rl",o,!0,!0).then((function(){e.loadCompData()}))}},getfieldName:function(t){for(var e=this.getData("rlData"),a=e.heading.length,i=0;i<a;i++)if(e.heading[i].api_name===t)return e.heading[i].FIELDLABEL},navigate:function(t){var e=this,a={action:"getData",pname:"SURVEYPERSONALITY"};a.module=e.getData("module"),a.id=e.getData("entity_id"),a.rid=e.getData("related_list_id"),a.isSortRequest=!1,"next"===t?a.fromIndex=parseInt(e.getData("rlData.fromIndex"))+10:"prev"===t&&(a.fromIndex=parseInt(e.getData("rlData.fromIndex"))-10),store.clearCachedQuery("zsurvey_rl",a),app.store.makeRequest("findAll","zsurvey_rl",a,!0,!0).then((function(){e.loadCompData()}))}},{mixins:["crm-zsurvey-rl-utils"]}),Lyte.Component.register("crm-zsurvey-rl-actions",{_template:'<template tag-name="crm-zsurvey-rl-actions" class="zSurveyRLAction"> <div id="ract_{{related_list_id}}" class="enableRelLinks crm-rl-write-action"> <template is="if" value="{{isCanvasView}}"><template case="true"> <template is="if" value="{{expHandlers(module,\'==\',\'Potentials\')}}"><template case="true"> <input type="hidden" data-zcqa="zSassociatedContEmail" id="associatedContEmail" value="{{associatedContEmail}}"> <input type="hidden" data-zcqa="zSentIdForZMail" id="entIdForZMail" value="{{entIdForZMail}}"> </template><template case="false"> <div class="dN"> <a class="link" data-zcqa="value_EMAIL" id="subvalue_EMAIL" href="mailto:{{subvalue_EMAIL}}">{{subvalue_EMAIL}}</a> <a class="link" data-zcqa="value_ADDN_EMAIL" id="subvalue_ADDN_EMAIL" href="mailto:{{subvalue_ADDN_EMAIL}}">{{subvalue_ADDN_EMAIL}}</a> </div> </template></template> <input type="hidden" data-zcqa="zSentId" id="id" name="id" value="{{entity_id}}"> </template></template> <template is="if" value="{{expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(reviewStatus,\'==\',\'Review in Progress\'),\'||\',expHandlers(reviewStatus,\'==\',\'Pending for Review\')),\'||\',expHandlers(reviewStatus,\'==\',\'Rejected\')),\'||\',expHandlers(reviewStatus,\'==\',\'Pending for ReReview\')),\'!\')}}"><template case="true"> <template is="for" items="{{actions}}" item="action" index="actionIndex"> <template is="if" value="{{expHandlers(action.data_cid,\'==\',\'createsurvey\')}}"><template case="true"> <a href="http://{{action.URL}}" data-zcqa="{{action.data_cid}}" target="_blank" rel="noopener noreferrer" name="newsurveybutton" id="newsurveybutton1" class="tb_newsmallbtn f14 cP">{{action.label}}</a> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(isLiteUser,\'!\'),\'&amp;&amp;\',expHandlers(expHandlers(action.data_cid,\'==\',&quot;sendsurvey&quot;),\'||\',expHandlers(action.data_cid,\'==\',&quot;attendsurvey&quot;)))}}"><template case="true"> <span class="tb_newsmallbtn col2c7bd0 cP f14" onclick="{{action(\'showSurvey\',action.data_cid)}}" data-zcqa="{{action.data_cid}}" data-relid="{{related_list_id}}">{{action.label}}</span> </template></template></template></template> </template> </template></template> </div> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[3]}]},false:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"text",position:[1,1,0]},{type:"attr",position:[1,3]},{type:"text",position:[1,3,0]}]}},default:{}},{type:"attr",position:[3]}]}},default:{}},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}}]}},default:{}}]}]}},default:{}}],_observedAttributes:["module","entity_id","related_list_id","entIdForZMail","associatedContEmail","subvalue_EMAIL","subvalue_ADDN_EMAIL","reviewStatus","isCanvasView","isLiteUser"],data:function(){return{module:Lyte.attr("string"),entity_id:Lyte.attr("string"),related_list_id:Lyte.attr("string"),entIdForZMail:Lyte.attr("string"),associatedContEmail:Lyte.attr("string"),subvalue_EMAIL:Lyte.attr("string"),subvalue_ADDN_EMAIL:Lyte.attr("string"),reviewStatus:Lyte.attr("string"),isCanvasView:Lyte.attr("boolean",{default:!0}),isLiteUser:Lyte.attr("boolean",{default:Crm.userDetails.LITE.IS_LITE_USER})}},didConnect:function(){var t=this,e=store.peekRecord(moduleRecordMapping[t.getData("module")].id,t.getData("entity_id"));"canvas"===Lyte.Router.getRouteInstance().routeName?("Potentials"===t.getData("module")&&e.Contact_Name&&e.Contact_Name.id?t.fetchRelatedModuleRecords("Contacts",e.Contact_Name.id).then((function(e){t.setData("entIdForZMail",e[0].id);var a="";e[0].Email&&e[0].Email.length>0?a=e[0].Email:e[0].Secondary_Email&&e[0].Secondary_Email.length>0&&(a=e[0].Secondary_Email),t.setData("associatedContEmail",a)})):(t.setData("subvalue_EMAIL",e.Email),t.setData("subvalue_ADDN_EMAIL",e.Secondary_Email)),t.setData("reviewStatus",e.$review)):t.setData("isCanvasView",!1)},actions:{showSurvey:function(t){var e,a=null,i={action:"surveyDetails",from:t,entityId:this.getData("entity_id"),module:this.getData("module")};this.getData("isCanvasView")?e=this.getData("entIdForZMail"):(e=document.getElementById("entIdForZMail"))&&e.getAttribute("value")&&(e=e.getAttribute("value"));e&&(a=e,i.entIdForZMail=a);var o=event.target;o.setAttribute("data-params",JSON.stringify(i)),ZSurvey.showSurveyDetails(o)}}},{mixins:["crm-detailcanvas-utils"]}),Lyte.Component.register("crm-zsurvey-rl-label",{_template:'<template tag-name="crm-zsurvey-rl-label"> <table width="100%" cellspacing="0" cellpadding="0" class="relCenterBg w100p dvRLHeader"> <tbody> <tr height="25"> <td> <span name="surveypersonality_{{related_list_id}}" id="surveypersonality_{{related_list_id}}" class="relListHead vam">{{display_label}}</span> <template is="if" value="{{expHandlers(expHandlers(type,\'==\',&quot;CANVAS&quot;),\'&amp;&amp;\',expHandlers(expHandlers(rlData,\'&amp;&amp;\',rlData.body),\'&amp;&amp;\',expHandlers(rlData.body.length,\'!=\',0)))}}"><template case="true"> <span class="zSurveyRLCount vab" data-zcqa="zSRLCount">{{rlCount}}</span> </template></template> <span class="zSurveyRefresh cP svgIcons ico-refresh dIB vam mL8" data-zcqa="zSReload" onclick="{{action(\'reload\')}}"></span> </td> <td is="if" lyte-if="true" value="{{expHandlers(expHandlers(type,\'!=\',\'CANVAS\'),\'&amp;&amp;\',expHandlers(expHandlers(rlData,\'&amp;&amp;\',rlData.body),\'&amp;&amp;\',expHandlers(rlData.body.length,\'!=\',0)))}}"></td> </tr> </tbody> </table> </template>',_dynamicNodes:[{type:"attr",position:[1,1,1,1,1]},{type:"text",position:[1,1,1,1,1,0]},{type:"attr",position:[1,1,1,1,3]},{type:"if",position:[1,1,1,1,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[1,1,1,1,5]},{type:"attr",position:[1,1,1,3]},{type:"if",position:[1,1,1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]}]}},default:{},actualTemplate:'<template is="if" value="{{type != \'CANVAS\' &amp;&amp; (rlData &amp;&amp; rlData.body &amp;&amp; rlData.body.length != 0)}}"><template case="true" depth="3"><table><tbody><tr> <td class="alignright vam"> <crm-zsurvey-rl-actions entity_id="{{entity_id}}" module="{{module}}" actions="{{lbind(rlData.ACTIONS)}}" related_list_id="{{related_list_id}}"></crm-zsurvey-rl-actions> </td> </tr></tbody></table></template></template>'}],_observedAttributes:["module","entity_id","related_list_id","display_label","type","rlCount","rlData"],data:function(){return{module:Lyte.attr("string"),entity_id:Lyte.attr("string"),related_list_id:Lyte.attr("string"),display_label:Lyte.attr("string"),type:Lyte.attr("string"),rlCount:Lyte.attr("string"),rlData:Lyte.attr("object")}},actions:{reload:function(){var t={action:"getData",pname:"SURVEYPERSONALITY",module:this.getData("module"),id:this.getData("entity_id")};commonUtils.showHideLoadingDiv(!0),store.clearCachedQuery("zsurvey_rl",t),app.store.makeRequest("findAll","zsurvey_rl",t,!0,!0).then((function(){var t=document.getElementsByTagName("crm-zsurvey-rl-body")[0].component;commonUtils.showHideLoadingDiv(),t.loadCompData.call(t)}))}},methods:{}}),Lyte.Component.register("crm-zsurvey-rl",{_template:'<template tag-name="crm-zsurvey-rl"> <crm-zsurvey-rl-label rl-data="{{lbind(rlData)}}" type="{{type}}" entity_id="{{entity_id}}" module="{{module}}" related_list_id="{{related_list_id}}" display_label="{{display_label}}"></crm-zsurvey-rl-label> <crm-zsurvey-rl-body rl-data="{{lbind(rlData)}}" rendered_from="non_canvas" entity_id="{{entity_id}}" module="{{module}}" related_list_id="{{related_list_id}}"></crm-zsurvey-rl-body> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"componentDynamic",position:[3]}],_observedAttributes:["module","entity_id","related_list_id","display_label","rlData","type"],data:function(){return{module:Lyte.attr("string"),entity_id:Lyte.attr("string"),related_list_id:Lyte.attr("string"),display_label:Lyte.attr("string"),rlData:Lyte.attr("object"),type:Lyte.attr("string")}}});
