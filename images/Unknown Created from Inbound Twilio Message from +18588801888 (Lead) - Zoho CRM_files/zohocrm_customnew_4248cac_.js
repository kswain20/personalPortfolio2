function ernSummeryView(e,t){$L(".ernActiveSummary").removeClass("ernActiveSummary"),event.stopPropagation();var n=$(e),a=n.offset(),s=document.querySelector("email-summary"),l={hasSummary:!0,isLoading:!0,message_id:t};s?(s.component.setData(l),s=$L(s)):s=$L(Lyte.Component.render("email-summary",l,"body"));var c=document.querySelector("#emailSummaryPopOver");c.ltProp("show")&&c.ltProp("show",!1),s.css({left:undefined,top:a.top-20,"z-index":"100"}),s.click((function(){$("#ecnAttachment").addClass("hide"),event.stopPropagation()})),s.removeClass("hide"),c.ltProp("show",!0),n.addClass("ernActiveSummary")}function ernShowEvent(){document.getElementById("ecnCreateEvent").addEventListener("keydown",ernTextAreaAutosize)}function ernTextAreaAutosize(){var e=this;setTimeout((function(){var t=e.scrollHeight-17;e.style.cssText="height:auto; padding:0",e.style.cssText="height:"+t+"px"}),0)}function ecnBackToEvent(){$(".ecnSView").removeClass("hide"),$("#ecnNewEvent").addClass("hide")}function ernShowAttachmentView(e){event.stopPropagation();var t=$("#ecnAttachment");t.removeClass("hide");var n=$(".ecnSView").height();t.css({top:n+20,left:0}),t.click((function(){event.stopPropagation()}))}function ernShowOptions(e){event.stopPropagation();var t=$(e),n=t.offset(),a=$("#ernOptions");t.addClass("ernOptionOpens"),a.removeClass("hide"),a.css({top:n.top+22,left:n.left+10}),a.click((function(){event.stopPropagation()}))}function ecnShowOrganizeMenu(e){event.stopPropagation();var t=$(e).offset(),n=$("#ecnOrganize");n.removeClass("hide"),n.css({top:t.top+20,left:t.left-n.width()+50}),n.click((function(){event.stopPropagation()}))}function ecnShowOrganizeSent(e){event.stopPropagation();var t=$(e).offset(),n=$("#ecnOrganizeSent");n.removeClass("hide"),n.css({top:t.top+20,left:t.left-n.width()+50}),n.click((function(){event.stopPropagation()}))}function checkBoxClick(e){var t=$('[name="ernRows"]').length,n=$('[name="ernRows"]:checked').length,a=$('[lt-prop-name="ernHead"]'),s=$(".eRListPartialSelect"),l=$("#draftMails").hasClass("selectTab");n===t&&(a.attr("lt-prop-checked",!0),s.removeClass("eRListPartialSelect"));var c=$(".rLETabsElement"),o=$(".rLESelectAction");n>0&&"block"==c.css("display")&&(c.css("display","none"),o.css("display","block"));var r=$(e).closest("lyte-td");$(".erLselectedCount span").text(n);var i=r.next().children()[0].dataset.msgid,d=$("#mailsToDelete"),m=$("#mailsSub");0==n&&(a.attr("lt-prop-checked",!1),d[0].value="",m[0].innerHTML="",c.css("display","block"),o.css("display","none"));var p=r.parent();e.checked&&(""==d.val()?d.val(d.val()+i):d.val(d.val()+","+i),l?m.html(I18n.getMsg("crm.label.the")+" "+n+" "+I18n.getMsg("crm.selected.drafts")):m.html(I18n.getMsg("crm.label.the")+" "+n+" "+I18n.getMsg("crm.selected.emails"))),e.checked||(p.removeClass("ernRowSelected"),-1!=d.val().indexOf(i+",")?d.val(d.val().replace(i+",","")):d.val(d.val().replace(","+i,"")),l?m.html(I18n.getMsg("crm.label.the")+" "+n+" "+I18n.getMsg("crm.selected.drafts")):m.html(I18n.getMsg("crm.label.the")+" "+n+" "+I18n.getMsg("crm.selected.emails")));var h=$("#selectedText");l?h.text(" "+I18n.getMsg("crm.drafts.selected")):h.text(" "+I18n.getMsg("crm.emails.selected"));$("#deleteMailsButton").attr("data-onclick","deleteMultipleMailsViaAPI()")}function selectAllMails(e){var t=$L(".ernLyteBody .ecnChkBoxtd lyte-checkbox"),n=$('[name="ernRows"]:checked'),a=$(e).hasClass("erlclearlink");if(n.length!=t.length||a){var s=$('lyte-checkbox[lt-prop-name="ernRows"] input:checked');if(a||s.length<t.length&&0!=s.length)return void t.attr("lt-prop-checked",!1);e.checked?t.attr("lt-prop-checked",!0):t.attr("lt-prop-checked",!1)}}$("body").click((function(){event&&event.target&&event.target.className&&"string"==typeof event.target.className&&!event.target.className.includes("ecnAttachmentli")&&!$(event.target).parents("#ecnSummeryView").length>0&&hideEmailSummaryDiv()}));