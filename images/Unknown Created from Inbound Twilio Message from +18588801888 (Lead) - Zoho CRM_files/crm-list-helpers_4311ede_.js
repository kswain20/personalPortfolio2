Lyte.Component.registerHelper("getActivityIcon",(function(e){return"Events"===e?"EventSmall":"Tasks"===e?"TaskSmall":"Calls_small"})),Lyte.Component.registerHelper("getTagColor",(function(e){var t=e.split("-")[1],n=new Date(e).getFullYear(),r=new Date,a=e.split("-")[2];return n>(new Date).getFullYear()?"h_latertask":n<(new Date).getFullYear()?"h_overdue":t>r.getMonth()+1?"h_latertask":t<r.getMonth()+1?"h_overdue":a>r.getDate()?"h_latertask":a<r.getDate()?"h_overdue":"h_todaytask"})),Lyte.Component.registerHelper("getModuleNameForIcon",(function(e){return(e="Deals"==e?"Potentials":e)&&e.indexOf("_")>0&&(e=(e=e.split("_"))[0]+e[1]),e?e.slice(0,e.lastIndexOf("s")):void 0})),Lyte.Component.registerHelper("arrayJoin",(function(e,t){return e?e.join(t):void 0})),Lyte.Component.registerHelper("arrayMap",(function(e,t){return e?e.map((function(e){return e[t]})):void 0})),Lyte.Component.registerHelper("isVisitorOnline",(function(e,t){return"object"==typeof CrmTracking&&CrmTracking.isEntityOnline(e,t)})),Lyte.Component.registerHelper("tagAvailable",(function(e){var t=e.custom_view.name;if("Activities"==e.module_name){return!!(["My Calls","Incoming Calls","My Incoming Calls","My Outgoing Calls","Outgoing Calls","My Todays Scheduled+Overdue Calls","Todays Scheduled+Overdue Calls","Todays Scheduled Calls","Scheduled Calls","Cancelled Calls","All Calls","Attended Calls","Overdue Calls","Unattended Calls","My Unattended Calls","My Scheduled Calls","My Todays Scheduled Calls","My Cancelled Calls","My Overdue Calls","My Attended Calls"].contains(t)||["My Events","All Events","Past Events","Open Events","This Week Events","Todays Events","My Meetings","All Meetings","Past Meetings","Open Meetings","This Week Meetings","Todays Meetings"].contains(t)||["My Open Tasks","All Tasks","Open Tasks","Closed Tasks","Overdue Tasks","Todays Tasks","Tomorrow's Tasks","Today+Overdue Tasks","Next7days+Overdue Tasks"].contains(t))}return!0})),Lyte.Component.registerHelper("checkViewAvailability",(function(e,t,n){var r=t.kanban_view_supported&&!crmTab.isZBCustomModule(t.module_name)&&!crmTab.isZSCustomModule(t.module_name)||"Activities"==t.module_name||"Visits"==t.module_name||"Tasks"==t.module_name||"Calls"==t.module_name||"Events"==t.module_name,a=t.customized_view&&-1==="Activities,Visits,Tasks,Events,Calls".indexOf(t.module_name)&&!crmTab.isZBCustomModule(t.module_name)&&!crmTab.isLinkingModule(t.module_name);if("kanban"===e&&!n)return!!r&&("Activities"==t.module_name||"Tasks"==t.module_name||"Calls"==t.module_name||"Events"==t.module_name||"Potentials"==t.module_name||"Visits"==t.module_name||"Deals"==t.module_name||!(!t.group_by_field_available&&!Crm.userDetails.permissions.Crm_Implied_Customize_Zoho_CRM));if("customized"===e&&!n){var s=Crm.userDetails.permissions.Crm_Implied_Customize_Zoho_CRM||Crm.userDetails.permissions.Crm_Implied_Manage_CustomViews,i=null!=t.viewid;return!(!a||!s&&!i)}return"prediction"===e?!(!Crm.userDetails.isDealPredictionEnabled||"Potentials"!=t.module_name&&"Deals"!=t.module_name):void 0})),Lyte.Component.registerHelper("isEditList",(function(e,t,n,r){var a=Crm.userDetails.permissions.Crm_Implied_Manage_CustomViews;return!(e&&-1!=e.indexOf("CONVERTEDVIEWS")&&(t||!n)||!a)&&("Activities"!==r||!Crm.isActivitySplitDone)})),Lyte.Component.registerHelper("getNumberValueForView",(function(e,t,n,r,a,s,i){if(null!=e){var l=t.data_type;return"formula"==l&&"currency"==t.formula.return_type&&(l="currency"),this.component.getNumberValueForView(e,l,n,void 0,void 0,void 0,void 0,r,a,s,!0,i)}return e})),Lyte.Component.registerHelper("showSelectAll",(function(e){return!!(1!=e.fromIndex||e.totalCount>=e.toIndex||!e.totalCount&&e.showHideSelectAllDiv||e.body&&e.body[e.toIndex])})),Lyte.Component.registerHelper("crmzdeskgetUserImageHelper",(function(e,t){return t?e+"/file?ID="+t+"&fs=thumb":null})),Lyte.Component.registerHelper("isOverdueFlag",(function(e){if(null!=e){var t=new Date(e);if((new Date).getTime()-t.getTime()>0)return!0}return!1})),Lyte.Component.registerHelper("isOverDue",(function(e,t){if("Closed"!=e&&t){var n=new Date(t),r=(new Date).getTime()-n.getTime();if(r>0){var a=[],s=r/36e5,i="";if((s=Math.floor(s))>24){var l=s/24;s%=24,i=(l=Math.floor(l))+" Days ",a.push(i)}return i=i+s+" Hours",0==a.length&&a.push(i),a}}})),Lyte.Component.registerHelper("getTimeInUserTZ",(function(e,t){var n=[];if(!e||e.length<1)return null;var r=new Date(e),a=r.getTime()+6e4*r.getTimezoneOffset(),s=new Date(a-6e4*Utils.getTimezoneOffset());if("dueDate"==t||"createdTime"==t){var i=new Date,l=i.getTime()+6e4*i.getTimezoneOffset(),o=new Date(l-6e4*Utils.getTimezoneOffset());if(o.getFullYear()==s.getFullYear()&&o.getMonth()==s.getMonth())switch(o.getDate()-s.getDate()){case 0:n.push("Today");break;case 1:n.push("Yesterday");break;case-1:n.push("Tomorrow")}}return 0==n.length&&n.push(Utils.getDateInUserDatePattern(s,!0)),n})),Lyte.Component.registerHelper("getDateTimeForView",(function(e){return e&&-1!=e.indexOf(":")?e.substring(0,e.split(":")[0].lastIndexOf(" ")):""})),Lyte.Component.registerHelper("getFinalTotalCount",(function(e,t,n,r,a){if(void 0===e||0==e){if(a&&a.canvas_view){var s=crmTab.getFromCache(a.module_name);s||(s=customViewObject);var i=getEndIndex(s.fromIndex,s.toIndex,s.currentOption,s.body);return s.body[i]?i+1:i}return(n-1)*r+t+1}return e})),Lyte.Component.registerHelper("getLink",(function(e,t,n){return Lyte.Router.getURL({route:e,dynamicParams:t,queryParams:n})})),Lyte.Component.registerHelper("getDynamicArray",(function(){return Array.from(arguments)})),Lyte.Component.registerHelper("getDateInUsrLocaleFormat",(function(e,t){if(t)return e;var n="MMM D, YYYY";function r(e,t){if(e&&Utils.isValidDate("yyyy-mm-dd",e)){e=e.replace(/[+-]\d{2}:\d{2}/,"");var n=Lyte.registeredMixins["crux-element-validation"],r=/^(.*)T/.exec(e);r&&(e=r[1]);var a=n.getDateInUserDatePattern(n.getDateObjectFromString(e,"YYYY-MM-DD"),t||Crm.userDetails.DATE_PATTERN);if(a){var s=a.slice(0,3);return a.replace(s,I18n.getMsg(s))}}return e}var a=r(e,n),s=!1;new Date(e).getFullYear()===(new Date).getFullYear()&&(n=n.split(",")[0],s=!0);a=r(e,n).toUpperCase();var i=e.split("-")[1],l=new Date;return a.split(" ")[1]==l.getDate()&&s&&i==l.getMonth()+1?I18n.getMsg("crm.livedesk.pot.today"):a})),Lyte.Component.registerHelper("isEngLocale",(function(){var e=Crm.userDetails;return!Crm.userDetails.CLIENT_ACCOUNT&&(!(!e||"en_US"!==e.LOCALE&&"en_GB"!==e.LOCALE)||void 0)}));
